/*! For license information please see 552.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkghc_login_app=self.webpackChunkghc_login_app||[]).push([[552],{2756:(e,n,t)=>{t.d(n,{A:()=>i});var o=t(6314),r=t.n(o)()(function(e){return e[1]});r.push([e.id,"/* Page container that holds both the image and the annotation stage */\n.annotablePage-module__pageContainer___lilH1 {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n\n/* Background image that fills the page */\n.annotablePage-module__pageImage___o7kZB {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n  object-position: center;\n  z-index: 1;\n  pointer-events: none; /* Allow clicks to pass through to the stage */\n}\n\n/* Konva stage overlay */\n.annotablePage-module__stage___3i5Bm {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 2;\n  cursor: crosshair;\n}\n\n/* Comment bubble */\n\n/* little triangular arrow pointing to the rect */\n.annotablePage-module__commentArrow___A4LZQ {\n  position: absolute;\n  top: 12px;\n  left: -8px;\n  width: 0;\n  height: 0;\n  border-top: 8px solid transparent;\n  border-bottom: 8px solid transparent;\n  border-right: 8px solid #ffffff;\n  filter: drop-shadow(0 0 2px rgba(0, 0, 0, 0.06));\n}\n\n/* header */\n.annotablePage-module__commentHeader___S\\+b0\\+ {\n  font-weight: 600;\n  font-size: 13px;\n  color: #555;\n}\n\n/* text shown when not editing */\n.annotablePage-module__commentText___Lwe6k {\n  cursor: pointer;\n  padding: 6px 4px;\n  border-radius: 6px;\n  transition: background 0.15s ease;\n  white-space: pre-wrap;\n  line-height: 1.4;\n  min-height: 34px;\n}\n\n.annotablePage-module__commentText___Lwe6k:hover {\n  background-color: #fafafa;\n}\n\n/* placeholder text inside the comment area */\n.annotablePage-module__placeholder___s-2Xt {\n  color: #aaa;\n  font-style: italic;\n}\n\n/* textarea when editing */\n\n/* focus ring for accessibility */\n.annotablePage-module__commentTextarea___vYCJb:focus {\n  box-shadow: 0 0 0 3px rgba(0,120,215,0.08);\n  border-color: rgba(0,120,215,0.4);\n}\n\n.annotablePage-module__addCommentButton___fY8Sm {\n  align-self: center;\n  margin-top: 8px;\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  border: none;\n  background: #0078d7;\n  color: white;\n  font-size: 20px;\n  font-weight: bold;\n  cursor: pointer;\n  box-shadow: 0 4px 10px rgba(0,0,0,0.15);\n  transition: background 0.2s ease;\n}\n\n.annotablePage-module__addCommentButton___fY8Sm:hover {\n  background: #005a9e;\n}\n\n.annotablePage-module__commentRow___rnzKw {\n  display: flex;\n  align-items: flex-start;\n  gap: 6px;\n  margin-bottom: 6px;\n}\n\n.annotablePage-module__deleteButton___NKFp4 {\n  border: none;\n  background: transparent;\n  cursor: pointer;\n  font-size: 16px;\n  line-height: 1;\n  padding: 2px 4px;\n  color: #888;\n  transition: color 0.2s ease;\n}\n\n.annotablePage-module__deleteButton___NKFp4:hover {\n  color: #d11a2a;\n}\n\n.annotablePage-module__pendingInfo___3d7Gr {\n  font-size: 12px;\n  color: #666;\n  text-align: center;\n  padding: 4px;\n  background-color: #f5f5f5;\n  border-radius: 4px;\n}\n\n.annotablePage-module__commentBubble___F3JGc {\n  position: fixed;\n  max-width: 90%;       /* adapt to screen width */\n  width: auto;          /* shrink on smaller devices */\n  min-width: 200px;     /* don't get too small */\n  padding: 10px 14px;\n  border-radius: 10px;\n  box-shadow: 0 6px 24px rgba(0, 0, 0, 0.18);\n  font-size: 14px;\n  z-index: 2000;\n  pointer-events: none;\n  user-select: none;\n  background-color: white;\n  animation: annotablePage-module__fadeIn___I-0e5 0.18s ease-out;\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n  pointer-events: auto;\n  word-break: break-word;\n}\n\n.annotablePage-module__commentTextarea___vYCJb {\n  width: 100%;\n  min-height: 60px;\n  font-size: 14px;\n  resize: vertical;\n}\n\n@media (max-width: 480px) {\n  .annotablePage-module__commentBubble___F3JGc {\n    font-size: 13px;\n    padding: 8px 10px;\n    max-width: 90vw;\n  }\n  .annotablePage-module__commentTextarea___vYCJb {\n    min-height: 50px;\n    font-size: 13px;\n  }\n}\n\n\n/* subtle fade-in animation */\n@keyframes annotablePage-module__fadeIn___I-0e5 {\n  from {\n    opacity: 0;\n    transform: translateY(-6px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}",""]),r.locals={pageContainer:"annotablePage-module__pageContainer___lilH1",pageImage:"annotablePage-module__pageImage___o7kZB",stage:"annotablePage-module__stage___3i5Bm",commentArrow:"annotablePage-module__commentArrow___A4LZQ",commentHeader:"annotablePage-module__commentHeader___S+b0+",commentText:"annotablePage-module__commentText___Lwe6k",placeholder:"annotablePage-module__placeholder___s-2Xt",commentTextarea:"annotablePage-module__commentTextarea___vYCJb",addCommentButton:"annotablePage-module__addCommentButton___fY8Sm",commentRow:"annotablePage-module__commentRow___rnzKw",deleteButton:"annotablePage-module__deleteButton___NKFp4",pendingInfo:"annotablePage-module__pendingInfo___3d7Gr",commentBubble:"annotablePage-module__commentBubble___F3JGc",fadeIn:"annotablePage-module__fadeIn___I-0e5"};const i=r},4552:(e,n,t)=>{t.r(n),t.d(n,{default:()=>k});var o=t(6540),r=t.n(o),i=t(467),a=t(5458),l=t(4467),u=t(296),c=t(961),s=t(5391),d=t(5072),h=t.n(d),g=t(2756);h()(g.A,{insert:"head",singleton:!1});const p=g.A.locals||{};var m=t(1735);function f(){var e,n,t="function"==typeof Symbol?Symbol:{},o=t.iterator||"@@iterator",r=t.toStringTag||"@@toStringTag";function i(t,o,r,i){var u=o&&o.prototype instanceof l?o:l,c=Object.create(u.prototype);return _(c,"_invoke",function(t,o,r){var i,l,u,c=0,s=r||[],d=!1,h={p:0,n:0,v:e,a:g,f:g.bind(e,4),d:function(n,t){return i=n,l=0,u=e,h.n=t,a}};function g(t,o){for(l=t,u=o,n=0;!d&&c&&!r&&n<s.length;n++){var r,i=s[n],g=h.p,p=i[2];t>3?(r=p===o)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=g&&((r=t<2&&g<i[1])?(l=0,h.v=o,h.n=i[1]):g<p&&(r=t<3||i[0]>o||o>p)&&(i[4]=t,i[5]=o,h.n=p,l=0))}if(r||t>1)return a;throw d=!0,o}return function(r,s,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===s&&g(s,p),l=s,u=p;(n=l<2?e:u)||!d;){i||(l?l<3?(l>1&&(h.n=-1),g(l,u)):h.n=u:h.v=u);try{if(c=2,i){if(l||(r="next"),n=i[r]){if(!(n=n.call(i,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,l<2&&(l=0)}else 1===l&&(n=i.return)&&n.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+r+"' method"),l=1);i=e}else if((n=(d=h.n<0)?u:t.call(o,h))!==a)break}catch(n){i=e,l=1,u=n}finally{c=1}}return{value:n,done:d}}}(t,r,i),!0),c}var a={};function l(){}function u(){}function c(){}n=Object.getPrototypeOf;var s=[][o]?n(n([][o]())):(_(n={},o,function(){return this}),n),d=c.prototype=l.prototype=Object.create(s);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,_(e,r,"GeneratorFunction")),e.prototype=Object.create(d),e}return u.prototype=c,_(d,"constructor",c),_(c,"constructor",u),u.displayName="GeneratorFunction",_(c,r,"GeneratorFunction"),_(d),_(d,r,"Generator"),_(d,o,function(){return this}),_(d,"toString",function(){return"[object Generator]"}),(f=function(){return{w:i,m:h}})()}function _(e,n,t,o){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}_=function(e,n,t,o){function i(n,t){_(e,n,function(e){return this._invoke(n,t,e)})}n?r?r(e,n,{value:t,enumerable:!o,configurable:!o,writable:!o}):e[n]=t:(i("next",0),i("throw",1),i("return",2))},_(e,n,t,o)}function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,o)}return t}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach(function(n){(0,l.A)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}const w=function(e){var n=e.pageImage,t=e.pageNumber,l=e.pdfId,d=e.isDrawing,h=e.isFreehand,g=e.highlightColor,_=e.setIsCommentOpen,v=e.brushSize,w=e.stageWidth,x=void 0===w?500:w,y=e.stageHeight,k=void 0===y?700:y,P=e.freehandOpensComment,A=void 0===P||P,C=e.serverAnnotations,E=void 0===C?[]:C,O=e.onAnnotationsChange,S=e.eraserMode,I=void 0!==S&&S,z=e.onDeleteAnnotation,D=e.onUpdateHighlightComment,B=(0,o.useState)([]),T=(0,u.A)(B,2),W=T[0],j=T[1],N=(0,o.useState)([]),M=(0,u.A)(N,2),F=M[0],L=M[1],H=(0,o.useState)(null),J=(0,u.A)(H,2),G=J[0],R=J[1],Y=(0,o.useState)(null),K=(0,u.A)(Y,2),U=K[0],Z=K[1],Q=(0,o.useState)(null),X=(0,u.A)(Q,2),V=X[0],q=X[1],$=(0,o.useState)(null),ee=(0,u.A)($,2),ne=ee[0],te=ee[1],oe=(0,o.useState)(!1),re=(0,u.A)(oe,2),ie=re[0],ae=re[1],le=(0,o.useState)(""),ue=(0,u.A)(le,2),ce=ue[0],se=ue[1],de=(0,o.useState)({width:x,height:k}),he=(0,u.A)(de,2),ge=he[0],pe=he[1],me=(0,o.useState)(null),fe=(0,u.A)(me,2),_e=fe[0],ve=fe[1],be=(0,o.useRef)(null),we=(0,o.useRef)(null),xe=(0,o.useRef)(null),ye=(0,o.useState)({top:0,left:0,visible:!1}),ke=(0,u.A)(ye,2),Pe=ke[0],Ae=ke[1],Ce=function(e,n,t){return b(b({},e),{},{x:e.x*n,y:e.y*t,width:e.width*n,height:e.height*t})},Ee=function(e,n,t){return b(b({},e),{},{points:e.points.map(function(e,o){return o%2==0?e*n:e*t})})};(0,o.useEffect)(function(){if(E&&E[l]&&E[l][t]){var e=E[l][t];console.log("Server items for pdf ".concat(l," page ").concat(t,":"),e);var n=e.map(function(e){var n,t,o,r;return e&&"group"===e.type?b(b({},e),{},{highlights:(e.highlights||[]).map(function(e){var n,t;return b(b({},e),{},{strokeWidth:null!==(n=null!==(t=e.stroke_width)&&void 0!==t?t:e.strokeWidth)&&void 0!==n?n:2})}),comments:(e.comments||[]).map(function(e){var n,t,o,r;return{text:null!==(n=e.text)&&void 0!==n?n:"",createdAt:null!==(t=null!==(o=e.createdAt)&&void 0!==o?o:e.created_at)&&void 0!==t?t:Date.now(),id:null!==(r=e.id)&&void 0!==r?r:void 0}})}):e&&Array.isArray(e.comments)&&("freehand"===e.type||"rect"===e.type)?b(b({},e),{},{strokeWidth:null!==(o=null!==(r=e.stroke_width)&&void 0!==r?r:e.strokeWidth)&&void 0!==o?o:2,comments:e.comments.map(function(e){var n,t,o;return{text:null!==(n=e.text)&&void 0!==n?n:"",createdAt:null!==(t=null!==(o=e.createdAt)&&void 0!==o?o:e.created_at)&&void 0!==t?t:Date.now()}})}):b(b({},e),{},{strokeWidth:null!==(n=null!==(t=null==e?void 0:e.stroke_width)&&void 0!==t?t:null==e?void 0:e.strokeWidth)&&void 0!==n?n:2})});j(function(e){return n})}},[E,l,t]),(0,o.useEffect)(function(){"function"==typeof O&&O(t,W,F)},[t,W,F,O]),(0,o.useEffect)(function(){if(n){var e=new window.Image;e.crossOrigin="anonymous",e.src=n,e.onload=function(){ve(e)},e.onerror=function(){return ve(null)}}else ve(null)},[n]);var Oe=(0,o.useCallback)(function(){var e=be.current;if(e&&_e){var n=e.clientWidth||x,t=e.clientHeight||window.innerHeight,o=_e.naturalWidth/_e.naturalHeight,r=n,i=r/o;i>t&&(r=(i=t)*o),pe({width:Math.round(r),height:Math.round(i)})}},[_e,x,k]);(0,o.useEffect)(function(){if(Oe(),be.current){var e=new ResizeObserver(function(){return Oe()});return e.observe(be.current),window.addEventListener("resize",Oe),function(){e.disconnect(),window.removeEventListener("resize",Oe)}}},[Oe]);var Se=(0,o.useCallback)(function(){var e=we.current;if(!e)return Ae({top:0,left:0,visible:!1});var n,t,o=e.container().getBoundingClientRect(),r=ge.width,i=ge.height,a=null;if(null!=V&&W[V]){var l,u=W[V];a="group"===u.type&&null!==(l=u.highlights)&&void 0!==l&&l.length?u.highlights[u.highlights.length-1]:u}else null!=ne&&F[ne]&&(a=F[ne]);if(!a)return Ae({top:0,left:0,visible:!1});if("freehand"===a.type){var c=Ee(a,r,i).points,s=c[c.length-2],d=c[c.length-1];n=o.top+d,t=o.left+s+12}else{var h=Ce(a,r,i);n=o.top+h.y,t=o.left+(h.x+h.width)+12}var g=window.innerWidth,p=window.innerHeight;t=Math.min(Math.max(8,t),g-320-8),n=Math.min(Math.max(8,n),p-150-8),Ae({top:n,left:t,visible:!0})},[V,ne,W,F,ge]);(0,o.useEffect)(function(){return Se(),window.addEventListener("resize",Se),window.addEventListener("scroll",Se,!0),function(){window.removeEventListener("resize",Se),window.removeEventListener("scroll",Se,!0)}},[Se]);var Ie=function(){null!=V&&ie&&We()};(0,o.useEffect)(function(){var e=function(e){xe.current&&xe.current.contains(e.target)||(Ie(),q(null),te(null),ae(!1),_(!1))};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),function(){document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[_,V,ie]);var ze=function(e){if(d){var n=e.target.getStage();if(n){var t=e.target.getClassName?e.target.getClassName():null;if(e.target===n||"Image"===t){var o=n.getPointerPosition();o&&(h?Z({points:[o.x,o.y],type:"freehand",color:g,strokeWidth:v}):R({x:o.x,y:o.y,width:0,height:0,type:"rect"}),q(null),te(null),ae(!1),_(!1))}}}},De=function(e){if(d){var n=we.current||e.target&&e.target.getStage&&e.target.getStage();if(n){var t=n.getPointerPosition();t&&(h&&U?Z(function(e){return b(b({},e),{},{points:[].concat((0,a.A)(e.points),[t.x,t.y])})}):!h&&G&&R(function(e){return b(b({},e),{},{width:t.x-e.x,height:t.y-e.y})}))}}},Be=function(){if(d){var e=we.current;if(e){var n=e.width(),t=e.height();if(h&&U){var o=function(e,n,t){return b(b({},e),{},{points:e.points.map(function(e,o){return o%2==0?e/n:e/t})})}(U,n,t);A?L(function(e){var n=[].concat((0,a.A)(e),[o]),t=n.length-1;return te(t),ae(!0),_(!0),n}):j(function(e){return[].concat((0,a.A)(e),[o])}),Z(null)}else if(!h&&G){if(Math.abs(G.width)>5&&Math.abs(G.height)>5){var r=G.x,i=G.y,l=G.width,u=G.height;l<0&&(r+=l,l=Math.abs(l)),u<0&&(i+=u,u=Math.abs(u));var c=function(e,n,t){return b(b({},e),{},{x:e.x/n,y:e.y/t,width:e.width/n,height:e.height/t})}({x:r,y:i,width:l,height:u,type:"rect"},n,t);L(function(e){var n=[].concat((0,a.A)(e),[c]),t=n.length-1;return te(t),ae(!0),n})}R(null)}}}},Te=function(e,n){var t,o,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n.cancelBubble=!0,Ie(),r?(te(e),q(null),se((null===(t=F[e])||void 0===t||null===(t=t.comments)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.text)||"")):(q(e),te(null),se((null===(o=W[e])||void 0===o||null===(o=o.comments)||void 0===o||null===(o=o[0])||void 0===o?void 0:o.text)||"")),ae(!0),_(!0)},We=function(){if(null!=V&&W[V]){var e,n,t=W[V],o="group"===t.type&&null!==(e=t.highlights)&&void 0!==e&&e.length?t.highlights[t.highlights.length-1]:t,r=(null==o?void 0:o.annotationId)||(null==t?void 0:t.annotationId),i=null==o?void 0:o.id,a=t.comments&&(null===(n=t.comments[0])||void 0===n?void 0:n.text)||ce||"";r&&i&&"function"==typeof D&&D(r,i,a)}},je=function(){var e=(0,i.A)(f().m(function e(n){var t,o=arguments;return f().w(function(e){for(;;)switch(e.n){case 0:if(t=o.length>1&&void 0!==o[1]?o[1]:null,!(o.length>2&&void 0!==o[2]&&o[2])){e.n=1;break}return L(function(e){return e.filter(function(e,t){return t!==n})}),ne===n&&te(null),e.a(2);case 1:j(function(e){var o=JSON.parse(JSON.stringify(e||[])),r=o[n];if(!r)return e;var i=null;if("group"===r.type&&"number"==typeof t){var a=r.highlights[t];i=null==a?void 0:a.id,r.highlights.splice(t,1),r.comments&&r.comments.length>0&&(r.comments=[]),r.highlights&&0!==r.highlights.length||o.splice(n,1)}else r.type,i=r.id,o.splice(n,1);return V===n&&q(null),i&&z&&z(i).catch(function(e){console.error("Failed to delete from server:",e)}),o});case 2:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),Ne=function(e,n,t){return"freehand"===e.type?r().createElement(s.N1,{key:n,points:e.points,stroke:e.color||g,strokeWidth:e.strokeWidth||v,tension:.5,lineCap:"round",lineJoin:"round",onClick:t,onTap:t,opacity:.3,perfectDrawEnabled:!1}):r().createElement(s.rw,{key:n,x:e.x,y:e.y,width:e.width,height:e.height,fill:"rgba(255,255,0,0.3)",stroke:"orange",strokeWidth:1,onClick:t,onTap:t,perfectDrawEnabled:!1})};return r().createElement("div",{ref:be,className:p.pageContainer,style:{position:"relative",width:"100%"}},r().createElement(s.BI,{width:ge.width,height:ge.height,ref:we,onMouseDown:ze,onTouchStart:ze,onMouseMove:De,onTouchMove:De,onMouseUp:Be,onTouchEnd:Be,className:p.stage,style:{display:"block",touchAction:"none"}},r().createElement(s.Wd,null,_e&&r().createElement(s._V,{image:_e,x:0,y:0,width:ge.width,height:ge.height}),W.map(function(e,n){if("group"===e.type)return e.highlights.map(function(e,t){var o="freehand"===e.type?Ee(e,ge.width,ge.height):Ce(e,ge.width,ge.height);return Ne(o,"group-".concat(n,"-").concat(t),function(e){e.cancelBubble=!0,I&&je(n,t,!1)})});var t="freehand"===e.type?Ee(e,ge.width,ge.height):Ce(e,ge.width,ge.height);return Ne(t,"single-".concat(n),function(e){e.cancelBubble=!0,I&&je(n,null,!1)})}),F.map(function(e,n){var t="freehand"===e.type?Ee(e,ge.width,ge.height):Ce(e,ge.width,ge.height),o=function(e){e.cancelBubble=!0,I?je(n,null,!0):Te(n,e,!0)};return"freehand"===e.type?r().createElement(s.N1,{key:"pending-".concat(n),points:t.points,stroke:t.color||g,strokeWidth:t.strokeWidth||v,tension:.5,lineCap:"round",lineJoin:"round",opacity:.3,onClick:o,onTap:o,perfectDrawEnabled:!1}):r().createElement(s.rw,{key:"pending-".concat(n),x:t.x,y:t.y,width:t.width,height:t.height,fill:"rgba(255,255,0,0.2)",stroke:"orange",strokeWidth:2,dash:[8,4],onClick:o,onTap:o,perfectDrawEnabled:!1})}),G&&!h&&r().createElement(s.rw,{x:G.x,y:G.y,width:G.width,height:G.height,fill:"rgba(255,255,0,0.3)",stroke:"orange",strokeWidth:1,dash:[4,4]}),U&&h&&r().createElement(s.N1,{points:U.points,stroke:U.color||g,strokeWidth:U.strokeWidth||v,tension:.5,lineCap:"round",lineJoin:"round",opacity:.3}))),W.map(function(e,n){var t,o;if(null===(t=e.comments)||void 0===t||!t.length)return null;var i="group"===e.type&&null!==(o=e.highlights)&&void 0!==o&&o.length?e.highlights[e.highlights.length-1]:e,a=ge.width,l=ge.height,u=0,c=0;if("freehand"===i.type){var s=Ee(i,a,l).points;u=s[s.length-2],c=s[s.length-1]}else{if("rect"!==i.type)return null;var d=Ce(i,a,l);u=d.x+d.width+5,c=d.y}return r().createElement(m.I1r,{key:"icon-".concat(n),onClick:function(e){return Te(n,e,!1)},onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},onPointerDown:function(e){e.stopPropagation(),e.preventDefault()},style:{position:"absolute",left:"".concat(u,"px"),top:"".concat(c,"px"),cursor:"pointer",zIndex:1e3,fontSize:"20px",filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.3))"}})}),Pe.visible&&(null!=V&&W[V]||null!=ne&&F[ne])&&c.createPortal(r().createElement("div",{ref:xe,className:p.commentBubble,style:{position:"absolute",top:Pe.top,left:Pe.left,zIndex:2e3},onClick:function(e){return e.stopPropagation()},onMouseDown:function(e){e.stopPropagation()},onPointerDown:function(e){e.stopPropagation()}},r().createElement("div",{className:p.commentArrow}),r().createElement("textarea",{rows:3,placeholder:null!=ne?"Add comment to group all highlights...":"Add comment...",value:ce,onChange:function(e){var n=e.target.value;se(n),null==ne||""===n.trim()?null!=V&&j(function(e){var t=(0,a.A)(e);return t[V].comments||(t[V].comments=[{text:""}]),t[V].comments[0].text=n,t}):j(function(e){var t={type:"group",highlights:(0,a.A)(F),comments:[{text:n,createdAt:Date.now()}]},o=[].concat((0,a.A)(e),[t]);return L([]),te(null),q(o.length-1),o})},onBlur:We,autoFocus:!1,className:p.commentTextarea}),F.length>0&&r().createElement("div",{className:p.pendingInfo},F.length," highlight(s) pending grouping")),document.body))};var x=t(7166),y=(0,o.memo)(function(e){var n=e.pageImages,t=e.pdfId,o=e.isDrawing,i=e.isFreehand,a=e.highlightColor,l=e.brushSize,u=e.setIsDrawing,c=e.setIsCommentOpen,s=e.bookSize,d=e.freehandWithComment,h=e.serverAnnotations,g=e.onAnnotationsChange,p=e.isEraser,m=e.onDeleteAnnotation,f=e.onUpdateHighlightComment;return r().createElement(r().Fragment,null,n.map(function(e,n){var _=n+1;return r().createElement("div",{key:n,className:x.A.page},r().createElement(w,{pageImage:e,pageNumber:_,pdfId:t,isDrawing:o,isFreehand:i,highlightColor:a,brushSize:l,setIsDrawing:u,setIsCommentOpen:c,stageWidth:s.width,stageHeight:s.height,freehandOpensComment:d,serverAnnotations:h,onAnnotationsChange:g,eraserMode:p,onDeleteAnnotation:m,onUpdateHighlightComment:f}))}))});y.displayName="PageRenderer";const k=y}}]);
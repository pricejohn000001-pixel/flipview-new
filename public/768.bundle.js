"use strict";(self.webpackChunkghc_login_app=self.webpackChunkghc_login_app||[]).push([[768],{772:(e,t,n)=>{e.exports=n(5741)},4845:(e,t,n)=>{e.exports=n(5301)},5301:(e,t,n)=>{e.exports=function(e){var t={},r=n(6540),i=n(9982),a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,o=!1;function s(e){if(!o){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];u("warn",e,n)}}function l(e){if(!o){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];u("error",e,n)}}function u(e,t,n){var r=a.ReactDebugCurrentFrame.getStackAddendum();""!==r&&(t+="%s",n=n.concat([r]));var i=n.map(function(e){return String(e)});i.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,i)}var c=Object.assign;function h(e){return e._reactInternals}var d=!1,f=10,p=11,g=12,m=13,v=14,y=15,b=17,w=19,S=21,_=22,x=23,C=Symbol.for("react.element"),k=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),M=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),z=(Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode"),Symbol.for("react.offscreen")),F=(Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker"),Symbol.iterator);function O(e){if(null===e||"object"!=typeof e)return null;var t=F&&e[F]||e["@@iterator"];return"function"==typeof t?t:null}function G(e){return e.displayName||"Context"}function B(e){if(null==e)return null;if("number"==typeof e.tag&&l("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case P:return"Fragment";case k:return"Portal";case E:return"Profiler";case T:return"StrictMode";case A:return"Suspense";case I:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case M:return G(e)+".Consumer";case R:return G(e._context)+".Provider";case D:return function(e,t,n){var r=e.displayName;if(r)return r;var i=t.displayName||t.name||"";return""!==i?n+"("+i+")":n}(e,e.render,"ForwardRef");case L:var t=e.displayName||null;return null!==t?t:B(e.type)||"Memo";case N:var n=e,r=n._payload,i=n._init;try{return B(i(r))}catch(e){return null}}return null}function U(e){return e.displayName||"Context"}function W(e){var t,n,r,i,a=e.tag,o=e.type;switch(a){case 24:return"Cache";case 9:return U(o)+".Consumer";case f:return U(o._context)+".Provider";case 18:return"DehydratedFragment";case p:return t=o,r="ForwardRef",i=(n=o.render).displayName||n.name||"",t.displayName||(""!==i?r+"("+i+")":r);case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(o);case 8:return o===T?"StrictMode":"Mode";case _:return"Offscreen";case g:return"Profiler";case S:return"Scope";case m:return"Suspense";case w:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case b:case 2:case v:case y:if("function"==typeof o)return o.displayName||o.name||null;if("string"==typeof o)return o}return null}var H=16,j=128,Y=256,q=512,V=1024,X=2048,Q=4096,$=8192,K=16384,J=32768,Z=65536,ee=131072,te=1048576,ne=2097152,re=4194304,ie=16777216,ae=33554432,oe=12854,se=8772,le=2064,ue=14680064,ce=a.ReactCurrentOwner;function he(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{var r=t;do{4098&(t=r).flags&&(n=t.return),r=t.return}while(r)}return 3===t.tag?n:null}function de(e){if(he(e)!==e)throw new Error("Unable to find node on an unmounted component.")}function fe(e){var t=e.alternate;if(!t){var n=he(e);if(null===n)throw new Error("Unable to find node on an unmounted component.");return n!==e?null:e}for(var r=e,i=t;;){var a=r.return;if(null===a)break;var o=a.alternate;if(null===o){var s=a.return;if(null!==s){r=i=s;continue}break}if(a.child===o.child){for(var l=a.child;l;){if(l===r)return de(a),e;if(l===i)return de(a),t;l=l.sibling}throw new Error("Unable to find node on an unmounted component.")}if(r.return!==i.return)r=a,i=o;else{for(var u=!1,c=a.child;c;){if(c===r){u=!0,r=a,i=o;break}if(c===i){u=!0,i=a,r=o;break}c=c.sibling}if(!u){for(c=o.child;c;){if(c===r){u=!0,r=o,i=a;break}if(c===i){u=!0,i=o,r=a;break}c=c.sibling}if(!u)throw new Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(r.alternate!==i)throw new Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(3!==r.tag)throw new Error("Unable to find node on an unmounted component.");return r.stateNode.current===r?e:t}function pe(e){var t=fe(e);return null!==t?ge(t):null}function ge(e){if(5===e.tag||6===e.tag)return e;for(var t=e.child;null!==t;){var n=ge(t);if(null!==n)return n;t=t.sibling}return null}function me(e){var t=fe(e);return null!==t?ve(t):null}function ve(e){if(5===e.tag||6===e.tag)return e;for(var t=e.child;null!==t;){if(4!==t.tag){var n=ve(t);if(null!==n)return n}t=t.sibling}return null}var ye=Array.isArray;function be(e){return ye(e)}var we,Se,_e,xe,Ce,ke,Pe,Te=e.getPublicInstance,Ee=e.getRootHostContext,Re=e.getChildHostContext,Me=e.prepareForCommit,De=e.resetAfterCommit,Ae=e.createInstance,Ie=e.appendInitialChild,Le=e.finalizeInitialChildren,Ne=e.prepareUpdate,ze=e.shouldSetTextContent,Fe=e.createTextInstance,Oe=e.scheduleTimeout,Ge=e.cancelTimeout,Be=e.noTimeout,Ue=e.isPrimaryRenderer,We=e.warnsIfNotActing,He=e.supportsMutation,je=e.supportsPersistence,Ye=e.supportsHydration,qe=e.getInstanceFromNode,Ve=(e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur,e.preparePortalMount),Xe=(e.prepareScopeUpdate,e.getInstanceFromScope,e.getCurrentEventPriority),Qe=e.detachDeletedInstance,$e=e.supportsMicrotasks,Ke=e.scheduleMicrotask,Je=e.supportsTestSelectors,Ze=e.findFiberRoot,et=e.getBoundingRect,tt=e.getTextContent,nt=e.isHiddenSubtree,rt=e.matchAccessibilityRole,it=e.setFocusIfFocusable,at=e.setupIntersectionObserver,ot=e.appendChild,st=e.appendChildToContainer,lt=e.commitTextUpdate,ut=e.commitMount,ct=e.commitUpdate,ht=e.insertBefore,dt=e.insertInContainerBefore,ft=e.removeChild,pt=e.removeChildFromContainer,gt=e.resetTextContent,mt=e.hideInstance,vt=e.hideTextInstance,yt=e.unhideInstance,bt=e.unhideTextInstance,wt=e.clearContainer,St=e.cloneInstance,_t=e.createContainerChildSet,xt=e.appendChildToContainerChildSet,Ct=e.finalizeContainerChildren,kt=e.replaceContainerChildren,Pt=e.cloneHiddenInstance,Tt=e.cloneHiddenTextInstance,Et=e.canHydrateInstance,Rt=e.canHydrateTextInstance,Mt=e.canHydrateSuspenseInstance,Dt=e.isSuspenseInstancePending,At=e.isSuspenseInstanceFallback,It=e.getSuspenseInstanceFallbackErrorDetails,Lt=e.registerSuspenseInstanceRetry,Nt=e.getNextHydratableSibling,zt=e.getFirstHydratableChild,Ft=e.getFirstHydratableChildWithinContainer,Ot=e.getFirstHydratableChildWithinSuspenseInstance,Gt=e.hydrateInstance,Bt=e.hydrateTextInstance,Ut=e.hydrateSuspenseInstance,Wt=e.getNextHydratableInstanceAfterSuspenseInstance,Ht=e.commitHydratedContainer,jt=e.commitHydratedSuspenseInstance,Yt=e.clearSuspenseBoundary,qt=e.clearSuspenseBoundaryFromContainer,Vt=e.shouldDeleteUnhydratedTailInstances,Xt=e.didNotMatchHydratedContainerTextInstance,Qt=e.didNotMatchHydratedTextInstance,$t=e.didNotHydrateInstanceWithinContainer,Kt=e.didNotHydrateInstanceWithinSuspenseInstance,Jt=e.didNotHydrateInstance,Zt=e.didNotFindHydratableInstanceWithinContainer,en=e.didNotFindHydratableTextInstanceWithinContainer,tn=e.didNotFindHydratableSuspenseInstanceWithinContainer,nn=e.didNotFindHydratableInstanceWithinSuspenseInstance,rn=e.didNotFindHydratableTextInstanceWithinSuspenseInstance,an=e.didNotFindHydratableSuspenseInstanceWithinSuspenseInstance,on=e.didNotFindHydratableInstance,sn=e.didNotFindHydratableTextInstance,ln=e.didNotFindHydratableSuspenseInstance,un=e.errorHydratingContainer,cn=0;function hn(){}hn.__reactDisabledLog=!0;var dn,fn=a.ReactCurrentDispatcher;function pn(e,t,n){if(void 0===dn)try{throw Error()}catch(e){var r=e.stack.trim().match(/\n( *(at )?)/);dn=r&&r[1]||""}return"\n"+dn+e}var gn,mn=!1,vn="function"==typeof WeakMap?WeakMap:Map;function yn(e,t){if(!e||mn)return"";var n,r=gn.get(e);if(void 0!==r)return r;mn=!0;var i,a=Error.prepareStackTrace;Error.prepareStackTrace=void 0,i=fn.current,fn.current=null,function(){if(0===cn){we=console.log,Se=console.info,_e=console.warn,xe=console.error,Ce=console.group,ke=console.groupCollapsed,Pe=console.groupEnd;var e={configurable:!0,enumerable:!0,value:hn,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}cn++}();try{if(t){var o=function(){throw Error()};if(Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(o,[])}catch(e){n=e}Reflect.construct(e,[],o)}else{try{o.call()}catch(e){n=e}e.call(o.prototype)}}else{try{throw Error()}catch(e){n=e}e()}}catch(t){if(t&&n&&"string"==typeof t.stack){for(var s=t.stack.split("\n"),u=n.stack.split("\n"),h=s.length-1,d=u.length-1;h>=1&&d>=0&&s[h]!==u[d];)d--;for(;h>=1&&d>=0;h--,d--)if(s[h]!==u[d]){if(1!==h||1!==d)do{if(h--,--d<0||s[h]!==u[d]){var f="\n"+s[h].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),"function"==typeof e&&gn.set(e,f),f}}while(h>=1&&d>=0);break}}}finally{mn=!1,fn.current=i,function(){if(0===--cn){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:c({},e,{value:we}),info:c({},e,{value:Se}),warn:c({},e,{value:_e}),error:c({},e,{value:xe}),group:c({},e,{value:Ce}),groupCollapsed:c({},e,{value:ke}),groupEnd:c({},e,{value:Pe})})}cn<0&&l("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=a}var p=e?e.displayName||e.name:"",g=p?pn(p):"";return"function"==typeof e&&gn.set(e,g),g}function bn(e,t,n){return yn(e,!1)}function wn(e,t,n){if(null==e)return"";if("function"==typeof e)return yn(e,!(!(r=e.prototype)||!r.isReactComponent));var r;if("string"==typeof e)return pn(e);switch(e){case A:return pn("Suspense");case I:return pn("SuspenseList")}if("object"==typeof e)switch(e.$$typeof){case D:return bn(e.render);case L:return wn(e.type,t,n);case N:var i=e,a=i._payload,o=i._init;try{return wn(o(a),t,n)}catch(e){}}return""}gn=new vn;var Sn=Object.prototype.hasOwnProperty,_n={},xn=a.ReactDebugCurrentFrame;function Cn(e){if(e){var t=e._owner,n=wn(e.type,e._source,t?t.type:null);xn.setExtraStackFrame(n)}else xn.setExtraStackFrame(null)}function kn(e,t,n,r,i){var a=Function.call.bind(Sn);for(var o in e)if(a(e,o)){var s=void 0;try{if("function"!=typeof e[o]){var u=Error((r||"React class")+": "+n+" type `"+o+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[o]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw u.name="Invariant Violation",u}s=e[o](t,o,r,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){s=e}!s||s instanceof Error||(Cn(i),l("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,o,typeof s),Cn(null)),s instanceof Error&&!(s.message in _n)&&(_n[s.message]=!0,Cn(i),l("Failed %s type: %s",n,s.message),Cn(null))}}var Pn,Tn=[];Pn=[];var En,Rn=-1;function Mn(e){return{current:e}}function Dn(e,t){Rn<0?l("Unexpected pop."):(t!==Pn[Rn]&&l("Unexpected Fiber popped."),e.current=Tn[Rn],Tn[Rn]=null,Pn[Rn]=null,Rn--)}function An(e,t,n){Rn++,Tn[Rn]=e.current,Pn[Rn]=n,e.current=t}En={};var In={};Object.freeze(In);var Ln=Mn(In),Nn=Mn(!1),zn=In;function Fn(e,t,n){return n&&Un(t)?zn:Ln.current}function On(e,t,n){var r=e.stateNode;r.__reactInternalMemoizedUnmaskedChildContext=t,r.__reactInternalMemoizedMaskedChildContext=n}function Gn(e,t){var n=e.type.contextTypes;if(!n)return In;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={};for(var a in n)i[a]=t[a];return kn(n,i,"context",W(e)||"Unknown"),r&&On(e,t,i),i}function Bn(){return Nn.current}function Un(e){return null!=e.childContextTypes}function Wn(e){Dn(Nn,e),Dn(Ln,e)}function Hn(e){Dn(Nn,e),Dn(Ln,e)}function jn(e,t,n){if(Ln.current!==In)throw new Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");An(Ln,t,e),An(Nn,n,e)}function Yn(e,t,n){var r=e.stateNode,i=t.childContextTypes;if("function"!=typeof r.getChildContext){var a=W(e)||"Unknown";return En[a]||(En[a]=!0,l("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",a,a)),n}var o=r.getChildContext();for(var s in o)if(!(s in i))throw new Error((W(e)||"Unknown")+'.getChildContext(): key "'+s+'" is not defined in childContextTypes.');return kn(i,o,"child context",W(e)||"Unknown"),c({},n,o)}function qn(e){var t=e.stateNode,n=t&&t.__reactInternalMemoizedMergedChildContext||In;return zn=Ln.current,An(Ln,n,e),An(Nn,Nn.current,e),!0}function Vn(e,t,n){var r=e.stateNode;if(!r)throw new Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");if(n){var i=Yn(e,t,zn);r.__reactInternalMemoizedMergedChildContext=i,Dn(Nn,e),Dn(Ln,e),An(Ln,i,e),An(Nn,n,e)}else Dn(Nn,e),An(Nn,n,e)}var Xn=16,Qn=Math.clz32?Math.clz32:function(e){var t=e>>>0;return 0===t?32:31-($n(t)/Kn|0)|0},$n=Math.log,Kn=Math.LN2,Jn=16,Zn=4194240,er=1024,tr=2048,nr=4096,rr=8192,ir=16384,ar=32768,or=65536,sr=131072,lr=262144,ur=524288,cr=1048576,hr=2097152,dr=130023424,fr=4194304,pr=8388608,gr=16777216,mr=33554432,vr=67108864,yr=fr,br=134217728,wr=268435455,Sr=268435456,_r=536870912,xr=1073741824;function Cr(e){return 1&e?"Sync":2&e?"InputContinuousHydration":4&e?"InputContinuous":8&e?"DefaultHydration":e&Jn?"Default":32&e?"TransitionHydration":e&Zn?"Transition":e&dr?"Retry":e&br?"SelectiveHydration":e&Sr?"IdleHydration":e&_r?"Idle":e&xr?"Offscreen":void 0}var kr=-1,Pr=64,Tr=fr;function Er(e){switch(Fr(e)){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case Jn:return Jn;case 32:return 32;case 64:case 128:case 256:case 512:case er:case tr:case nr:case rr:case ir:case ar:case or:case sr:case lr:case ur:case cr:case hr:return e&Zn;case fr:case pr:case gr:case mr:case vr:return e&dr;case br:return br;case Sr:return Sr;case _r:return _r;case xr:return xr;default:return l("Should have found matching lanes. This is a bug in React."),e}}function Rr(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&wr;if(0!==o){var s=o&~i;if(0!==s)r=Er(s);else{var l=o&a;0!==l&&(r=Er(l))}}else{var u=n&~i;0!==u?r=Er(u):0!==a&&(r=Er(a))}if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)){var c=Fr(r),h=Fr(t);if(c>=h||c===Jn&&0!==(h&Zn))return t}4&r&&(r|=n&Jn);var d=e.entangledLanes;if(0!==d)for(var f=e.entanglements,p=r&d;p>0;){var g=Gr(p),m=1<<g;r|=f[g],p&=~m}return r}function Mr(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case Jn:case 32:case 64:case 128:case 256:case 512:case er:case tr:case nr:case rr:case ir:case ar:case or:case sr:case lr:case ur:case cr:case hr:return t+5e3;case fr:case pr:case gr:case mr:case vr:case br:case Sr:case _r:case xr:return kr;default:return l("Should have found matching lanes. This is a bug in React."),kr}}function Dr(e){var t=-1073741825&e.pendingLanes;return 0!==t?t:t&xr?xr:0}function Ar(e){return 0!==(e&wr)}function Ir(e){return(e&dr)===e}function Lr(e,t){return!!(30&t)}function Nr(e){return 0!==(e&Zn)}function zr(){var e=Pr;return!((Pr<<=1)&Zn)&&(Pr=64),e}function Fr(e){return e&-e}function Or(e){return Fr(e)}function Gr(e){return 31-Qn(e)}function Br(e){return Gr(e)}function Ur(e,t){return 0!==(e&t)}function Wr(e,t){return(e&t)===t}function Hr(e,t){return e|t}function jr(e,t){return e&~t}function Yr(e,t){return e&t}function qr(e){for(var t=[],n=0;n<31;n++)t.push(e);return t}function Vr(e,t,n){e.pendingLanes|=t,t!==_r&&(e.suspendedLanes=0,e.pingedLanes=0),e.eventTimes[Br(t)]=n}function Xr(e,t,n){e.pingedLanes|=e.suspendedLanes&t}function Qr(e,t){for(var n=e.entangledLanes|=t,r=e.entanglements,i=n;i;){var a=Gr(i),o=1<<a;o&t|r[a]&t&&(r[a]|=t),i&=~o}}function $r(e,t,n){if(wi)for(var r=e.pendingUpdatersLaneMap;n>0;){var i=Br(n),a=1<<i;r[i].add(t),n&=~a}}function Kr(e,t){if(wi)for(var n=e.pendingUpdatersLaneMap,r=e.memoizedUpdaters;t>0;){var i=Br(t),a=1<<i,o=n[i];o.size>0&&(o.forEach(function(e){var t=e.alternate;null!==t&&r.has(t)||r.add(e)}),o.clear()),t&=~a}}var Jr=Jn,Zr=_r,ei=0;function ti(){return ei}function ni(e){ei=e}function ri(e,t){return 0!==e&&e<t}function ii(e){var t=Fr(e);return ri(1,t)?ri(4,t)?Ar(t)?Jr:Zr:4:1}var ai=i.unstable_scheduleCallback,oi=i.unstable_cancelCallback,si=i.unstable_shouldYield,li=i.unstable_requestPaint,ui=i.unstable_now,ci=i.unstable_ImmediatePriority,hi=i.unstable_UserBlockingPriority,di=i.unstable_NormalPriority,fi=i.unstable_IdlePriority,pi=i.unstable_yieldValue,gi=i.unstable_setDisableYieldValue,mi=null,vi=null,yi=null,bi=!1,wi="undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__;function Si(e){if("function"==typeof pi&&(gi(e),o=e),vi&&"function"==typeof vi.setStrictMode)try{vi.setStrictMode(mi,e)}catch(e){bi||(bi=!0,l("React instrumentation encountered an error: %s",e))}}function _i(e){yi=e}function xi(){for(var e=new Map,t=1,n=0;n<31;n++){var r=Cr(t);e.set(t,r),t*=2}return e}function Ci(){null!==yi&&"function"==typeof yi.markCommitStopped&&yi.markCommitStopped()}function ki(e){null!==yi&&"function"==typeof yi.markComponentRenderStarted&&yi.markComponentRenderStarted(e)}function Pi(){null!==yi&&"function"==typeof yi.markComponentRenderStopped&&yi.markComponentRenderStopped()}function Ti(e){null!==yi&&"function"==typeof yi.markComponentPassiveEffectMountStarted&&yi.markComponentPassiveEffectMountStarted(e)}function Ei(){null!==yi&&"function"==typeof yi.markComponentPassiveEffectMountStopped&&yi.markComponentPassiveEffectMountStopped()}function Ri(e){null!==yi&&"function"==typeof yi.markComponentPassiveEffectUnmountStarted&&yi.markComponentPassiveEffectUnmountStarted(e)}function Mi(){null!==yi&&"function"==typeof yi.markComponentPassiveEffectUnmountStopped&&yi.markComponentPassiveEffectUnmountStopped()}function Di(e){null!==yi&&"function"==typeof yi.markComponentLayoutEffectMountStarted&&yi.markComponentLayoutEffectMountStarted(e)}function Ai(){null!==yi&&"function"==typeof yi.markComponentLayoutEffectMountStopped&&yi.markComponentLayoutEffectMountStopped()}function Ii(e){null!==yi&&"function"==typeof yi.markComponentLayoutEffectUnmountStarted&&yi.markComponentLayoutEffectUnmountStarted(e)}function Li(){null!==yi&&"function"==typeof yi.markComponentLayoutEffectUnmountStopped&&yi.markComponentLayoutEffectUnmountStopped()}function Ni(e,t,n){null!==yi&&"function"==typeof yi.markComponentErrored&&yi.markComponentErrored(e,t,n)}function zi(e,t,n){null!==yi&&"function"==typeof yi.markComponentSuspended&&yi.markComponentSuspended(e,t,n)}function Fi(e){null!==yi&&"function"==typeof yi.markRenderStarted&&yi.markRenderStarted(e)}function Oi(){null!==yi&&"function"==typeof yi.markRenderStopped&&yi.markRenderStopped()}function Gi(e,t){null!==yi&&"function"==typeof yi.markStateUpdateScheduled&&yi.markStateUpdateScheduled(e,t)}var Bi="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Ui=null,Wi=!1,Hi=!1;function ji(e){null===Ui?Ui=[e]:Ui.push(e)}function Yi(){Wi&&qi()}function qi(){if(!Hi&&null!==Ui){Hi=!0;var e=0,t=ti();try{var n=Ui;for(ni(1);e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Wi=!1}catch(t){throw null!==Ui&&(Ui=Ui.slice(e+1)),ai(ci,qi),t}finally{ni(t),Hi=!1}}return null}function Vi(e){return e.current.memoizedState.isDehydrated}var Xi=[],Qi=0,$i=null,Ki=0,Ji=[],Zi=0,ea=null,ta=1,na="";function ra(e,t){la(),Xi[Qi++]=Ki,Xi[Qi++]=$i,$i=e,Ki=t}function ia(e,t,n){la(),Ji[Zi++]=ta,Ji[Zi++]=na,Ji[Zi++]=ea,ea=e;var r=ta,i=na,a=oa(r)-1,o=r&~(1<<a),s=n+1,l=oa(t)+a;if(l>30){var u=a-a%5,c=(o&(1<<u)-1).toString(32),h=o>>u,d=a-u,f=oa(t)+d;ta=1<<f|s<<d|h,na=c+i}else ta=1<<l|s<<a|o,na=i}function aa(e){la(),null!==e.return&&(ra(e,1),ia(e,1,0))}function oa(e){return 32-Qn(e)}function sa(e){for(;e===$i;)$i=Xi[--Qi],Xi[Qi]=null,Ki=Xi[--Qi],Xi[Qi]=null;for(;e===ea;)ea=Ji[--Zi],Ji[Zi]=null,na=Ji[--Zi],Ji[Zi]=null,ta=Ji[--Zi],Ji[Zi]=null}function la(){Ea()||l("Expected to be hydrating. This is a bug in React. Please file an issue.")}var ua=null,ca=null,ha=!1,da=!1,fa=null;function pa(){da=!0}function ga(e,t){switch(e.tag){case 3:$t(e.stateNode.containerInfo,t);break;case 5:var n=!!(1&e.mode);Jt(e.type,e.memoizedProps,e.stateNode,t,n);break;case m:var r=e.memoizedState;null!==r.dehydrated&&Kt(r.dehydrated,t)}}function ma(e,t){ga(e,t);var n,r=((n=Mp(5,null,null,0)).elementType="DELETED",n);r.stateNode=t,r.return=e;var i=e.deletions;null===i?(e.deletions=[r],e.flags|=H):i.push(r)}function va(e,t){if(!da)switch(e.tag){case 3:var n=e.stateNode.containerInfo;switch(t.tag){case 5:var r=t.type,i=t.pendingProps;Zt(n,r,i);break;case 6:var a=t.pendingProps;en(n,a);break;case m:tn(n)}break;case 5:var o=e.type,s=e.memoizedProps,l=e.stateNode;switch(t.tag){case 5:var u=t.type,c=t.pendingProps,h=!!(1&e.mode);on(o,s,l,u,c,h);break;case 6:var d=t.pendingProps,f=!!(1&e.mode);sn(o,s,l,d,f);break;case m:ln(o,s,l)}break;case m:var p=e.memoizedState.dehydrated;if(null!==p)switch(t.tag){case 5:var g=t.type,v=t.pendingProps;nn(p,g,v);break;case 6:var y=t.pendingProps;rn(p,y);break;case m:an(p)}break;default:return}}function ya(e,t){t.flags=-4097&t.flags|2,va(e,t)}function ba(e,t){switch(e.tag){case 5:var n=e.type,r=e.pendingProps,i=Et(t,n,r);return null!==i&&(e.stateNode=i,ua=e,ca=zt(i),!0);case 6:var a=e.pendingProps,o=Rt(t,a);return null!==o&&(e.stateNode=o,ua=e,ca=null,!0);case m:var s=Mt(t);if(null!==s){var l={dehydrated:s,treeContext:(la(),null!==ea?{id:ta,overflow:na}:null),retryLane:xr};e.memoizedState=l;var u=function(e){var t=Mp(18,null,null,0);return t.stateNode=e,t}(s);return u.return=e,e.child=u,ua=e,ca=null,!0}return!1;default:return!1}}function wa(e){return!!(1&e.mode)&&0===(e.flags&j)}function Sa(e){throw new Error("Hydration failed because the initial UI does not match what was rendered on the server.")}function _a(e){if(ha){var t=ca;if(!t)return wa(e)&&(va(ua,e),Sa()),ya(ua,e),ha=!1,void(ua=e);var n=t;if(!ba(e,t)){wa(e)&&(va(ua,e),Sa()),t=Nt(n);var r=ua;if(!t||!ba(e,t))return ya(ua,e),ha=!1,void(ua=e);ma(r,n)}}}function xa(e){for(var t=e.return;null!==t&&5!==t.tag&&3!==t.tag&&t.tag!==m;)t=t.return;ua=t}function Ca(e){if(!Ye)return!1;if(e!==ua)return!1;if(!ha)return xa(e),ha=!0,!1;if(3!==e.tag&&(5!==e.tag||Vt(e.type)&&!ze(e.type,e.memoizedProps))){var t=ca;if(t)if(wa(e))ka(e),Sa();else for(;t;)ma(e,t),t=Nt(t)}return xa(e),ca=e.tag===m?function(e){if(!Ye)throw new Error("Expected skipPastDehydratedSuspenseInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.");var t=e.memoizedState,n=null!==t?t.dehydrated:null;if(!n)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");return Wt(n)}(e):ua?Nt(e.stateNode):null,!0}function ka(e){for(var t=ca;t;)ga(e,t),t=Nt(t)}function Pa(){Ye&&(ua=null,ca=null,ha=!1,da=!1)}function Ta(){null!==fa&&(Pf(fa),fa=null)}function Ea(){return ha}function Ra(e){null===fa?fa=[e]:fa.push(e)}var Ma=a.ReactCurrentBatchConfig;function Da(e,t){if(Bi(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++){var a=n[i];if(!Sn.call(t,a)||!Bi(e[a],t[a]))return!1}return!0}function Aa(e){switch(e._debugOwner&&e._debugOwner.type,e._debugSource,e.tag){case 5:return pn(e.type);case 16:return pn("Lazy");case m:return pn("Suspense");case w:return pn("SuspenseList");case 0:case 2:case y:return bn(e.type);case p:return bn(e.type.render);case 1:return yn(e.type,!0);default:return""}}function Ia(e){try{var t="",n=e;do{t+=Aa(n),n=n.return}while(n);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}var La=a.ReactDebugCurrentFrame,Na=null,za=!1;function Fa(){return null===Na?"":Ia(Na)}function Oa(){La.getCurrentStack=null,Na=null,za=!1}function Ga(e){La.getCurrentStack=null===e?null:Fa,Na=e,za=!1}function Ba(e){za=e}var Ua={recordUnsafeLifecycleWarnings:function(e,t){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(e,t){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}},Wa=function(e){var t=[];return e.forEach(function(e){t.push(e)}),t.sort().join(", ")},Ha=[],ja=[],Ya=[],qa=[],Va=[],Xa=[],Qa=new Set;Ua.recordUnsafeLifecycleWarnings=function(e,t){Qa.has(e.type)||("function"==typeof t.componentWillMount&&!0!==t.componentWillMount.__suppressDeprecationWarning&&Ha.push(e),8&e.mode&&"function"==typeof t.UNSAFE_componentWillMount&&ja.push(e),"function"==typeof t.componentWillReceiveProps&&!0!==t.componentWillReceiveProps.__suppressDeprecationWarning&&Ya.push(e),8&e.mode&&"function"==typeof t.UNSAFE_componentWillReceiveProps&&qa.push(e),"function"==typeof t.componentWillUpdate&&!0!==t.componentWillUpdate.__suppressDeprecationWarning&&Va.push(e),8&e.mode&&"function"==typeof t.UNSAFE_componentWillUpdate&&Xa.push(e))},Ua.flushPendingUnsafeLifecycleWarnings=function(){var e=new Set;Ha.length>0&&(Ha.forEach(function(t){e.add(W(t)||"Component"),Qa.add(t.type)}),Ha=[]);var t=new Set;ja.length>0&&(ja.forEach(function(e){t.add(W(e)||"Component"),Qa.add(e.type)}),ja=[]);var n=new Set;Ya.length>0&&(Ya.forEach(function(e){n.add(W(e)||"Component"),Qa.add(e.type)}),Ya=[]);var r=new Set;qa.length>0&&(qa.forEach(function(e){r.add(W(e)||"Component"),Qa.add(e.type)}),qa=[]);var i=new Set;Va.length>0&&(Va.forEach(function(e){i.add(W(e)||"Component"),Qa.add(e.type)}),Va=[]);var a=new Set;Xa.length>0&&(Xa.forEach(function(e){a.add(W(e)||"Component"),Qa.add(e.type)}),Xa=[]),t.size>0&&l("Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move code with side effects to componentDidMount, and set initial state in the constructor.\n\nPlease update the following components: %s",Wa(t)),r.size>0&&l("Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state\n\nPlease update the following components: %s",Wa(r)),a.size>0&&l("Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n\nPlease update the following components: %s",Wa(a)),e.size>0&&s("componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move code with side effects to componentDidMount, and set initial state in the constructor.\n* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",Wa(e)),n.size>0&&s("componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state\n* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",Wa(n)),i.size>0&&s("componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",Wa(i))};var $a,Ka,Ja,Za,eo,to,no=new Map,ro=new Set;function io(e){return"function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object"}function ao(e){try{return oo(e),!1}catch(e){return!0}}function oo(e){return""+e}function so(e,t,n){var r,i,a=n.ref;if(null!==a&&"function"!=typeof a&&"object"!=typeof a){if(e.mode,!(n._owner&&n._self&&n._owner.stateNode!==n._self||n._owner&&1!==n._owner.tag)&&("function"!=typeof n.type||(r=n.type).prototype&&r.prototype.isReactComponent)&&n._owner){var o=W(e)||"Component";Ja[o]||(l('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',o,a),Ja[o]=!0)}if(n._owner){var s,u=n._owner;if(u){var c=u;if(1!==c.tag)throw new Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");s=c.stateNode}if(!s)throw new Error("Missing owner for string ref "+a+". This error is likely caused by a bug in React. Please file an issue.");var h=s;ao(i=a)&&(l("The provided `%s` prop is an unsupported type %s. This value must be coerced to a string before before using it here.","ref",io(i)),oo(i));var d=""+a;if(null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===d)return t.ref;var f=function(e){var t=h.refs;null===e?delete t[d]:t[d]=e};return f._stringRef=d,f}if("string"!=typeof a)throw new Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!n._owner)throw new Error("Element ref was specified as a string ("+a+") but no owner was set. This could happen for one of the following reasons:\n1. You may be adding a ref to a function component\n2. You may be adding a ref to a component that was not created inside a component's render method\n3. You have multiple copies of React loaded\nSee https://reactjs.org/link/refs-must-have-owner for more information.")}return a}function lo(e,t){var n=Object.prototype.toString.call(t);throw new Error("Objects are not valid as a React child (found: "+("[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.")}function uo(e){var t=W(e)||"Component";eo[t]||(eo[t]=!0,l("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it."))}function co(e){var t=e._payload;return(0,e._init)(t)}function ho(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=H):r.push(n)}}function n(n,r){if(!e)return null;for(var i=r;null!==i;)t(n,i),i=i.sibling;return null}function r(e,t){for(var n=new Map,r=t;null!==r;)null!==r.key?n.set(r.key,r):n.set(r.index,r),r=r.sibling;return n}function i(e,t){var n=Ap(e,t);return n.index=0,n.sibling=null,n}function a(t,n,r){if(t.index=r,!e)return t.flags|=te,n;var i=t.alternate;if(null!==i){var a=i.index;return a<n?(t.flags|=2,n):a}return t.flags|=2,n}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){if(null===t||6!==t.tag){var a=Op(n,e.mode,r);return a.return=e,a}var o=i(t,n);return o.return=e,o}function u(e,t,n,r){var a=n.type;if(a===P)return h(e,t,n.props.children,r,n.key);if(null!==t&&(t.elementType===a||yp(t,n)||"object"==typeof a&&null!==a&&a.$$typeof===N&&co(a)===t.type)){var o=i(t,n.props);return o.ref=so(e,t,n),o.return=e,o._debugSource=n._source,o._debugOwner=n._owner,o}var s=Np(n,e.mode,r);return s.ref=so(e,t,n),s.return=e,s}function c(e,t,n,r){if(null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation){var a=Gp(n,e.mode,r);return a.return=e,a}var o=i(t,n.children||[]);return o.return=e,o}function h(e,t,n,r,a){if(null===t||7!==t.tag){var o=zp(n,e.mode,r,a);return o.return=e,o}var s=i(t,n);return s.return=e,s}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t){var r=Op(""+t,e.mode,n);return r.return=e,r}if("object"==typeof t&&null!==t){switch(t.$$typeof){case C:var i=Np(t,e.mode,n);return i.ref=so(e,null,t),i.return=e,i;case k:var a=Gp(t,e.mode,n);return a.return=e,a;case N:var o=t._payload;return d(e,(0,t._init)(o),n)}if(be(t)||O(t)){var s=zp(t,e.mode,n,null);return s.return=e,s}lo(0,t)}return"function"==typeof t&&uo(e),null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case C:return n.key===i?u(e,t,n,r):null;case k:return n.key===i?c(e,t,n,r):null;case N:var a=n._payload;return f(e,t,(0,n._init)(a),r)}if(be(n)||O(n))return null!==i?null:h(e,t,n,r,null);lo(0,n)}return"function"==typeof n&&uo(e),null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return s(t,e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case C:return u(t,e.get(null===r.key?n:r.key)||null,r,i);case k:return c(t,e.get(null===r.key?n:r.key)||null,r,i);case N:var a=r._payload;return p(e,t,n,(0,r._init)(a),i)}if(be(r)||O(r))return h(t,e.get(n)||null,r,i,null);lo(0,r)}return"function"==typeof r&&uo(t),null}function g(e,t,n){if("object"!=typeof e||null===e)return t;switch(e.$$typeof){case C:case k:to(e,n);var r=e.key;if("string"!=typeof r)break;if(null===t){(t=new Set).add(r);break}if(!t.has(r)){t.add(r);break}l("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted â€” the behavior is unsupported and could change in a future version.",r);break;case N:var i=e._payload;g((0,e._init)(i),t,n)}return t}return function s(u,c,h,m){if("object"==typeof h&&null!==h&&h.type===P&&null===h.key&&(h=h.props.children),"object"==typeof h&&null!==h){switch(h.$$typeof){case C:return o(function(e,r,a,o){for(var s=a.key,l=r;null!==l;){if(l.key===s){var u=a.type;if(u===P){if(7===l.tag){n(e,l.sibling);var c=i(l,a.props.children);return c.return=e,c._debugSource=a._source,c._debugOwner=a._owner,c}}else if(l.elementType===u||yp(l,a)||"object"==typeof u&&null!==u&&u.$$typeof===N&&co(u)===l.type){n(e,l.sibling);var h=i(l,a.props);return h.ref=so(e,l,a),h.return=e,h._debugSource=a._source,h._debugOwner=a._owner,h}n(e,l);break}t(e,l),l=l.sibling}if(a.type===P){var d=zp(a.props.children,e.mode,o,a.key);return d.return=e,d}var f=Np(a,e.mode,o);return f.ref=so(e,r,a),f.return=e,f}(u,c,h,m));case k:return o(function(e,r,a,o){for(var s=a.key,l=r;null!==l;){if(l.key===s){if(4===l.tag&&l.stateNode.containerInfo===a.containerInfo&&l.stateNode.implementation===a.implementation){n(e,l.sibling);var u=i(l,a.children||[]);return u.return=e,u}n(e,l);break}t(e,l),l=l.sibling}var c=Gp(a,e.mode,o);return c.return=e,c}(u,c,h,m));case N:var v=h._payload;return s(u,c,(0,h._init)(v),m)}if(be(h))return function(i,o,s,l){for(var u=null,c=0;c<s.length;c++)u=g(s[c],u,i);for(var h=null,m=null,v=o,y=0,b=0,w=null;null!==v&&b<s.length;b++){v.index>b?(w=v,v=null):w=v.sibling;var S=f(i,v,s[b],l);if(null===S){null===v&&(v=w);break}e&&v&&null===S.alternate&&t(i,v),y=a(S,y,b),null===m?h=S:m.sibling=S,m=S,v=w}if(b===s.length)return n(i,v),Ea()&&ra(i,b),h;if(null===v){for(;b<s.length;b++){var _=d(i,s[b],l);null!==_&&(y=a(_,y,b),null===m?h=_:m.sibling=_,m=_)}return Ea()&&ra(i,b),h}for(var x=r(0,v);b<s.length;b++){var C=p(x,i,b,s[b],l);null!==C&&(e&&null!==C.alternate&&x.delete(null===C.key?b:C.key),y=a(C,y,b),null===m?h=C:m.sibling=C,m=C)}return e&&x.forEach(function(e){return t(i,e)}),Ea()&&ra(i,b),h}(u,c,h,m);if(O(h))return function(i,o,s,u){var c=O(s);if("function"!=typeof c)throw new Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");"function"==typeof Symbol&&"Generator"===s[Symbol.toStringTag]&&(Ka||l("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),Ka=!0),s.entries===c&&($a||l("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),$a=!0);var h=c.call(s);if(h)for(var m=null,v=h.next();!v.done;v=h.next())m=g(v.value,m,i);var y=c.call(s);if(null==y)throw new Error("An iterable object provided no iterator.");for(var b=null,w=null,S=o,_=0,x=0,C=null,k=y.next();null!==S&&!k.done;x++,k=y.next()){S.index>x?(C=S,S=null):C=S.sibling;var P=f(i,S,k.value,u);if(null===P){null===S&&(S=C);break}e&&S&&null===P.alternate&&t(i,S),_=a(P,_,x),null===w?b=P:w.sibling=P,w=P,S=C}if(k.done)return n(i,S),Ea()&&ra(i,x),b;if(null===S){for(;!k.done;x++,k=y.next()){var T=d(i,k.value,u);null!==T&&(_=a(T,_,x),null===w?b=T:w.sibling=T,w=T)}return Ea()&&ra(i,x),b}for(var E=r(0,S);!k.done;x++,k=y.next()){var R=p(E,i,x,k.value,u);null!==R&&(e&&null!==R.alternate&&E.delete(null===R.key?x:R.key),_=a(R,_,x),null===w?b=R:w.sibling=R,w=R)}return e&&E.forEach(function(e){return t(i,e)}),Ea()&&ra(i,x),b}(u,c,h,m);lo(0,h)}return"string"==typeof h&&""!==h||"number"==typeof h?o(function(e,t,r,a){if(null!==t&&6===t.tag){n(e,t.sibling);var o=i(t,r);return o.return=e,o}n(e,t);var s=Op(r,e.mode,a);return s.return=e,s}(u,c,""+h,m)):("function"==typeof h&&uo(u),n(u,c))}}Ua.recordLegacyContextWarning=function(e,t){var n=function(e){for(var t=null,n=e;null!==n;)8&n.mode&&(t=n),n=n.return;return t}(e);if(null!==n){if(!ro.has(e.type)){var r=no.get(n);(null!=e.type.contextTypes||null!=e.type.childContextTypes||null!==t&&"function"==typeof t.getChildContext)&&(void 0===r&&(r=[],no.set(n,r)),r.push(e))}}else l("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.")},Ua.flushLegacyContextWarning=function(){no.forEach(function(e,t){if(0!==e.length){var n=e[0],r=new Set;e.forEach(function(e){r.add(W(e)||"Component"),ro.add(e.type)});var i=Wa(r);try{Ga(n),l("Legacy context API has been detected within a strict-mode tree.\n\nThe old API will be supported in all 16.x releases, but applications using it should migrate to the new version.\n\nPlease update the following components: %s\n\nLearn more about this warning here: https://reactjs.org/link/legacy-context",i)}finally{Oa()}}})},Ua.discardPendingWarnings=function(){Ha=[],ja=[],Ya=[],qa=[],Va=[],Xa=[],no=new Map},$a=!1,Ka=!1,Ja={},Za={},eo={},to=function(e,t){if(null!==e&&"object"==typeof e&&e._store&&!e._store.validated&&null==e.key){if("object"!=typeof e._store)throw new Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");e._store.validated=!0;var n=W(t)||"Component";Za[n]||(Za[n]=!0,l('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'))}};var fo=ho(!0),po=ho(!1);function go(e,t){for(var n=e.child;null!==n;)Ip(n,t),n=n.sibling}var mo,vo=Mn(null);mo={};var yo=null,bo=null,wo=null,So=!1;function _o(){yo=null,bo=null,wo=null,So=!1}function xo(){So=!0}function Co(){So=!1}function ko(e,t,n){Ue?(An(vo,t._currentValue,e),t._currentValue=n,void 0!==t._currentRenderer&&null!==t._currentRenderer&&t._currentRenderer!==mo&&l("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),t._currentRenderer=mo):(An(vo,t._currentValue2,e),t._currentValue2=n,void 0!==t._currentRenderer2&&null!==t._currentRenderer2&&t._currentRenderer2!==mo&&l("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),t._currentRenderer2=mo)}function Po(e,t){var n=vo.current;Dn(vo,t),Ue?e._currentValue=n:e._currentValue2=n}function To(e,t,n){for(var r=e;null!==r;){var i=r.alternate;if(Wr(r.childLanes,t)?null===i||Wr(i.childLanes,t)||(i.childLanes=Hr(i.childLanes,t)):(r.childLanes=Hr(r.childLanes,t),null!==i&&(i.childLanes=Hr(i.childLanes,t))),r===n)break;r=r.return}r!==n&&l("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function Eo(e,t){yo=e,bo=null,wo=null;var n=e.dependencies;null!==n&&null!==n.firstContext&&(Ur(n.lanes,t)&&Lc(),n.firstContext=null)}function Ro(e){So&&l("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");var t=Ue?e._currentValue:e._currentValue2;if(wo===e);else{var n={context:e,memoizedValue:t,next:null};if(null===bo){if(null===yo)throw new Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");bo=n,yo.dependencies={lanes:0,firstContext:n}}else bo=bo.next=n}return t}var Mo=null;function Do(e){null===Mo?Mo=[e]:Mo.push(e)}function Ao(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Do(t)):(n.next=i.next,i.next=n),t.interleaved=n,No(e,r)}function Io(e,t){return No(e,t)}var Lo=No;function No(e,t){e.lanes=Hr(e.lanes,t);var n=e.alternate;null!==n&&(n.lanes=Hr(n.lanes,t)),null===n&&4098&e.flags&&rp(e);for(var r=e,i=e.return;null!==i;)i.childLanes=Hr(i.childLanes,t),null!==(n=i.alternate)?n.childLanes=Hr(n.childLanes,t):4098&i.flags&&rp(e),r=i,i=i.return;return 3===r.tag?r.stateNode:null}var zo,Fo,Oo=0,Go=2,Bo=!1;function Uo(e){var t={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null};e.updateQueue=t}function Wo(e,t){var n=t.updateQueue,r=e.updateQueue;if(n===r){var i={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects};t.updateQueue=i}}function Ho(e,t){return{eventTime:e,lane:t,tag:Oo,payload:null,callback:null,next:null}}function jo(e,t,n){var r=e.updateQueue;if(null===r)return null;var i=r.shared;if(Fo!==i||zo||(l("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),zo=!0),(Id&Cd)!==xd){var a=i.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),i.pending=t,Lo(e,n)}return function(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Do(t)):(n.next=i.next,i.next=n),t.interleaved=n,No(e,r)}(e,i,t,n)}function Yo(e,t,n){var r=t.updateQueue;if(null!==r){var i=r.shared;if(Nr(n)){var a=i.lanes,o=Hr(a=Yr(a,e.pendingLanes),n);i.lanes=o,Qr(e,o)}}}function qo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r){var i=r.updateQueue;if(n===i){var a=null,o=null,s=n.firstBaseUpdate;if(null!==s){var l=s;do{var u={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};null===o?a=o=u:(o.next=u,o=u),l=l.next}while(null!==l);null===o?a=o=t:(o.next=t,o=t)}else a=o=t;return n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}}var c=n.lastBaseUpdate;null===c?n.firstBaseUpdate=t:c.next=t,n.lastBaseUpdate=t}function Vo(e,t,n,r,i,a){switch(n.tag){case 1:var o=n.payload;if("function"==typeof o){xo();var s=o.call(a,r,i);if(8&e.mode){Si(!0);try{o.call(a,r,i)}finally{Si(!1)}}return Co(),s}return o;case 3:e.flags=-65537&e.flags|j;case Oo:var l,u=n.payload;if("function"==typeof u){if(xo(),l=u.call(a,r,i),8&e.mode){Si(!0);try{u.call(a,r,i)}finally{Si(!1)}}Co()}else l=u;return null==l?r:c({},r,l);case Go:return Bo=!0,r}return r}function Xo(e,t,n,r){var i=e.updateQueue;Bo=!1,Fo=i.shared;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=e.alternate;if(null!==c){var h=c.updateQueue,d=h.lastBaseUpdate;d!==o&&(null===d?h.firstBaseUpdate=u:d.next=u,h.lastBaseUpdate=l)}}if(null!==a){for(var f=i.baseState,p=0,g=null,m=null,v=null,y=a;;){var b=y.lane,w=y.eventTime;if(Wr(r,b)){if(null!==v){var S={eventTime:w,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null};v=v.next=S}if(f=Vo(e,0,y,f,t,n),null!==y.callback&&0!==y.lane){e.flags|=64;var _=i.effects;null===_?i.effects=[y]:_.push(y)}}else{var x={eventTime:w,lane:b,tag:y.tag,payload:y.payload,callback:y.callback,next:null};null===v?(m=v=x,g=f):v=v.next=x,p=Hr(p,b)}if(null===(y=y.next)){if(null===(s=i.shared.pending))break;var C=s,k=C.next;C.next=null,y=k,i.lastBaseUpdate=C,i.shared.pending=null}}null===v&&(g=f),i.baseState=g,i.firstBaseUpdate=m,i.lastBaseUpdate=v;var P=i.shared.interleaved;if(null!==P){var T=P;do{p=Hr(p,T.lane),T=T.next}while(T!==P)}else null===a&&(i.shared.lanes=0);zf(p),e.lanes=p,e.memoizedState=f}Fo=null}function Qo(e,t){if("function"!=typeof e)throw new Error("Invalid argument passed as callback. Expected a function. Instead received: "+e);e.call(t)}function $o(){Bo=!1}function Ko(){return Bo}function Jo(e,t,n){var r=t.effects;if(t.effects=null,null!==r)for(var i=0;i<r.length;i++){var a=r[i],o=a.callback;null!==o&&(a.callback=null,Qo(o,n))}}zo=!1,Fo=null;var Zo={},es=Mn(Zo),ts=Mn(Zo),ns=Mn(Zo);function rs(e){if(e===Zo)throw new Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return e}function is(){return rs(ns.current)}function as(e,t){An(ns,t,e),An(ts,e,e),An(es,Zo,e);var n=Ee(t);Dn(es,e),An(es,n,e)}function os(e){Dn(es,e),Dn(ts,e),Dn(ns,e)}function ss(){return rs(es.current)}function ls(e){var t=rs(ns.current),n=rs(es.current),r=Re(n,e.type,t);n!==r&&(An(ts,e,e),An(es,r,e))}function us(e){ts.current===e&&(Dn(es,e),Dn(ts,e))}var cs=Mn(0);function hs(e,t){return 0!==(e&t)}function ds(e){return 1&e}function fs(e,t){return 1&e|t}function ps(e,t){An(cs,t,e)}function gs(e){Dn(cs,e)}function ms(e,t){var n=e.memoizedState;return null!==n?null!==n.dehydrated:(e.memoizedProps,!0)}function vs(e){for(var t=e;null!==t;){if(t.tag===m){var n=t.memoizedState;if(null!==n){var r=n.dehydrated;if(null===r||Dt(r)||At(r))return t}}else if(t.tag===w&&void 0!==t.memoizedProps.revealOrder){if(0!==(t.flags&j))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)return null;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ys=[];function bs(){for(var e=0;e<ys.length;e++){var t=ys[e];Ue?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}ys.length=0}var ws,Ss,_s=a.ReactCurrentDispatcher,xs=a.ReactCurrentBatchConfig;ws=new Set;var Cs=0,ks=null,Ps=null,Ts=null,Es=!1,Rs=!1,Ms=0,Ds=0,As=null,Is=null,Ls=-1,Ns=!1;function zs(){var e=As;null===Is?Is=[e]:Is.push(e)}function Fs(){var e=As;null!==Is&&(Ls++,Is[Ls]!==e&&function(e){var t=W(ks);if(!ws.has(t)&&(ws.add(t),null!==Is)){for(var n="",r=0;r<=Ls;r++){for(var i=Is[r],a=r===Ls?e:i,o=r+1+". "+i;o.length<30;)o+=" ";n+=o+=a+"\n"}l("React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks\n\n   Previous render            Next render\n   ------------------------------------------------------\n%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n",t,n)}}(e))}function Os(e){null==e||be(e)||l("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",As,typeof e)}function Gs(){throw new Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.")}function Bs(e,t){if(Ns)return!1;if(null===t)return l("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",As),!1;e.length!==t.length&&l("The final argument passed to %s changed size between renders. The order and size of this array must remain constant.\n\nPrevious: %s\nIncoming: %s",As,"["+t.join(", ")+"]","["+e.join(", ")+"]");for(var n=0;n<t.length&&n<e.length;n++)if(!Bi(e[n],t[n]))return!1;return!0}function Us(e,t,n,r,i,a){Cs=a,ks=t,Is=null!==e?e._debugHookTypes:null,Ls=-1,Ns=null!==e&&e.type!==t.type,t.memoizedState=null,t.updateQueue=null,t.lanes=0,null!==e&&null!==e.memoizedState?_s.current=ql:_s.current=null!==Is?Yl:jl;var o=n(r,i);if(Rs){var s=0;do{if(Rs=!1,Ms=0,s>=25)throw new Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");s+=1,Ns=!1,Ps=null,Ts=null,t.updateQueue=null,Ls=-1,_s.current=Vl,o=n(r,i)}while(Rs)}_s.current=Hl,t._debugHookTypes=Is;var u=null!==Ps&&null!==Ps.next;if(Cs=0,ks=null,Ps=null,Ts=null,As=null,Is=null,Ls=-1,null!==e&&(e.flags&ue)!==(t.flags&ue)&&1&e.mode&&l("Internal React error: Expected static flag was missing. Please notify the React team."),Es=!1,u)throw new Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return o}function Ws(){var e=0!==Ms;return Ms=0,e}function Hs(e,t,n){t.updateQueue=e.updateQueue,0!==(t.mode&Xn)?t.flags&=-50333701:t.flags&=-2053,e.lanes=jr(e.lanes,n)}function js(){if(_s.current=Hl,Es){for(var e=ks.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Es=!1}Cs=0,ks=null,Ps=null,Ts=null,Is=null,Ls=-1,As=null,Ll=!1,Rs=!1,Ms=0}function Ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ts?ks.memoizedState=Ts=e:Ts=Ts.next=e,Ts}function qs(){var e,t;if(null===Ps){var n=ks.alternate;e=null!==n?n.memoizedState:null}else e=Ps.next;if(null!==(t=null===Ts?ks.memoizedState:Ts.next))t=(Ts=t).next,Ps=e;else{if(null===e)throw new Error("Rendered more hooks than during the previous render.");var r={memoizedState:(Ps=e).memoizedState,baseState:Ps.baseState,baseQueue:Ps.baseQueue,queue:Ps.queue,next:null};null===Ts?ks.memoizedState=Ts=r:Ts=Ts.next=r}return Ts}function Vs(e,t){return"function"==typeof t?t(e):t}function Xs(e,t,n){var r,i=Ys();r=void 0!==n?n(t):t,i.memoizedState=i.baseState=r;var a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r};i.queue=a;var o=a.dispatch=Fl.bind(null,ks,a);return[i.memoizedState,o]}function Qs(e,t,n){var r=qs(),i=r.queue;if(null===i)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");i.lastRenderedReducer=e;var a=Ps,o=a.baseQueue,s=i.pending;if(null!==s){if(null!==o){var u=o.next,c=s.next;o.next=c,s.next=u}a.baseQueue!==o&&l("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),a.baseQueue=o=s,i.pending=null}if(null!==o){var h=o.next,d=a.baseState,f=null,p=null,g=null,m=h;do{var v=m.lane;if(Wr(Cs,v)){if(null!==g){var y={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};g=g.next=y}d=m.hasEagerState?m.eagerState:e(d,m.action)}else{var b={lane:v,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};null===g?(p=g=b,f=d):g=g.next=b,ks.lanes=Hr(ks.lanes,v),zf(v)}m=m.next}while(null!==m&&m!==h);null===g?f=d:g.next=p,Bi(d,r.memoizedState)||Lc(),r.memoizedState=d,r.baseState=f,r.baseQueue=g,i.lastRenderedState=d}var w=i.interleaved;if(null!==w){var S=w;do{var _=S.lane;ks.lanes=Hr(ks.lanes,_),zf(_),S=S.next}while(S!==w)}else null===o&&(i.lanes=0);var x=i.dispatch;return[r.memoizedState,x]}function $s(e,t,n){var r=qs(),i=r.queue;if(null===i)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");i.lastRenderedReducer=e;var a=i.dispatch,o=i.pending,s=r.memoizedState;if(null!==o){i.pending=null;var l=o.next,u=l;do{s=e(s,u.action),u=u.next}while(u!==l);Bi(s,r.memoizedState)||Lc(),r.memoizedState=s,null===r.baseQueue&&(r.baseState=s),i.lastRenderedState=s}return[s,a]}function Ks(e,t,n){var r,i=ks,a=Ys();if(Ea()){if(void 0===n)throw new Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");r=n(),Ss||r!==n()&&(l("The result of getServerSnapshot should be cached to avoid an infinite loop"),Ss=!0)}else{if(r=t(),!Ss){var o=t();Bi(r,o)||(l("The result of getSnapshot should be cached to avoid an infinite loop"),Ss=!0)}if(null===bf())throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Lr(0,Cs)||Zs(i,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,dl(tl.bind(null,i,s,e),[e]),i.flags|=X,sl(9,el.bind(null,i,s,r,t),void 0,null),r}function Js(e,t,n){var r=ks,i=qs(),a=t();if(!Ss){var o=t();Bi(a,o)||(l("The result of getSnapshot should be cached to avoid an infinite loop"),Ss=!0)}var s=i.memoizedState,u=!Bi(s,a);u&&(i.memoizedState=a,Lc());var c=i.queue;if(fl(tl.bind(null,r,c,e),[e]),c.getSnapshot!==t||u||null!==Ts&&1&Ts.memoizedState.tag){if(r.flags|=X,sl(9,el.bind(null,r,c,a,t),void 0,null),null===bf())throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Lr(0,Cs)||Zs(r,t,a)}return a}function Zs(e,t,n){e.flags|=K;var r={getSnapshot:t,value:n},i=ks.updateQueue;if(null===i)i={lastEffect:null,stores:null},ks.updateQueue=i,i.stores=[r];else{var a=i.stores;null===a?i.stores=[r]:a.push(r)}}function el(e,t,n,r){t.value=n,t.getSnapshot=r,nl(t)&&rl(e)}function tl(e,t,n){return n(function(){nl(t)&&rl(e)})}function nl(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!Bi(n,r)}catch(e){return!0}}function rl(e){var t=Io(e,1);null!==t&&_f(t,e,1,kr)}function il(e){var t=Ys();"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e;var n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:e};t.queue=n;var r=n.dispatch=Ol.bind(null,ks,n);return[t.memoizedState,r]}function al(e){return Qs(Vs)}function ol(e){return $s(Vs)}function sl(e,t,n,r){var i={tag:e,create:t,destroy:n,deps:r,next:null},a=ks.updateQueue;if(null===a)a={lastEffect:null,stores:null},ks.updateQueue=a,a.lastEffect=i.next=i;else{var o=a.lastEffect;if(null===o)a.lastEffect=i.next=i;else{var s=o.next;o.next=i,i.next=s,a.lastEffect=i}}return i}function ll(e){var t={current:e};return Ys().memoizedState=t,t}function ul(e){return qs().memoizedState}function cl(e,t,n,r){var i=Ys(),a=void 0===r?null:r;ks.flags|=e,i.memoizedState=sl(1|t,n,void 0,a)}function hl(e,t,n,r){var i=qs(),a=void 0===r?null:r,o=void 0;if(null!==Ps){var s=Ps.memoizedState;if(o=s.destroy,null!==a&&Bs(a,s.deps))return void(i.memoizedState=sl(t,n,o,a))}ks.flags|=e,i.memoizedState=sl(1|t,n,o,a)}function dl(e,t){return 0!==(ks.mode&Xn)?cl(41945088,8,e,t):cl(8390656,8,e,t)}function fl(e,t){return hl(X,8,e,t)}function pl(e,t){return cl(4,2,e,t)}function gl(e,t){return hl(4,2,e,t)}function ml(e,t){var n=4;return n|=re,0!==(ks.mode&Xn)&&(n|=ie),cl(n,4,e,t)}function vl(e,t){return hl(4,4,e,t)}function yl(e,t){if("function"==typeof t){var n=t,r=e();return n(r),function(){n(null)}}if(null!=t){var i=t;i.hasOwnProperty("current")||l("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(i).join(", ")+"}");var a=e();return i.current=a,function(){i.current=null}}}function bl(e,t,n){"function"!=typeof t&&l("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",null!==t?typeof t:"null");var r=null!=n?n.concat([e]):null,i=4;return i|=re,0!==(ks.mode&Xn)&&(i|=ie),cl(i,4,yl.bind(null,t,e),r)}function wl(e,t,n){"function"!=typeof t&&l("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",null!==t?typeof t:"null");var r=null!=n?n.concat([e]):null;return hl(4,4,yl.bind(null,t,e),r)}var Sl=function(e,t){};function _l(e,t){var n=void 0===t?null:t;return Ys().memoizedState=[e,n],e}function xl(e,t){var n=qs(),r=void 0===t?null:t,i=n.memoizedState;return null!==i&&null!==r&&Bs(r,i[1])?i[0]:(n.memoizedState=[e,r],e)}function Cl(e,t){var n=Ys(),r=void 0===t?null:t,i=e();return n.memoizedState=[i,r],i}function kl(e,t){var n=qs(),r=void 0===t?null:t,i=n.memoizedState;if(null!==i&&null!==r&&Bs(r,i[1]))return i[0];var a=e();return n.memoizedState=[a,r],a}function Pl(e){return Ys().memoizedState=e,e}function Tl(e){return Rl(qs(),Ps.memoizedState,e)}function El(e){var t=qs();return null===Ps?(t.memoizedState=e,e):Rl(t,Ps.memoizedState,e)}function Rl(e,t,n){if(21&Cs){if(!Bi(n,t)){var r=zr();ks.lanes=Hr(ks.lanes,r),zf(r),e.baseState=!0}return t}return e.baseState&&(e.baseState=!1,Lc()),e.memoizedState=n,n}function Ml(e,t,n){var r,i=ti();ni(0!==(r=i)&&r<4?r:4),e(!0);var a=xs.transition;xs.transition={};var o=xs.transition;xs.transition._updatedFibers=new Set;try{e(!1),t()}finally{ni(i),xs.transition=a,null===a&&o._updatedFibers&&(o._updatedFibers.size>10&&s("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),o._updatedFibers.clear())}}function Dl(){var e=il(!1),t=e[0],n=e[1],r=Ml.bind(null,n);return Ys().memoizedState=r,[t,r]}function Al(){return[al()[0],qs().memoizedState]}function Il(){return[ol()[0],qs().memoizedState]}var Ll=!1;function Nl(){var e,t=Ys(),n=bf().identifierPrefix;if(Ea()){e=":"+n+"R"+function(){var e,t=na;return(ta&(e=ta,~(1<<oa(e)-1))).toString(32)+t}();var r=Ms++;r>0&&(e+="H"+r.toString(32)),e+=":"}else e=":"+n+"r"+(Ds++).toString(32)+":";return t.memoizedState=e,e}function zl(){return qs().memoizedState}function Fl(e,t,n){"function"==typeof arguments[3]&&l("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var r=Sf(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gl(e))Bl(t,i);else{var a=Ao(e,t,i,r);null!==a&&(_f(a,e,r,wf()),Ul(a,t,r))}Wl(e,r)}function Ol(e,t,n){"function"==typeof arguments[3]&&l("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var r=Sf(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gl(e))Bl(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)){var o=t.lastRenderedReducer;if(null!==o){var s;s=_s.current,_s.current=Ql;try{var u=t.lastRenderedState,c=o(u,n);if(i.hasEagerState=!0,i.eagerState=c,Bi(c,u))return void function(e,t,n){var r=t.interleaved;null===r?(n.next=n,Do(t)):(n.next=r.next,r.next=n),t.interleaved=n}(0,t,i)}catch(e){}finally{_s.current=s}}}var h=Ao(e,t,i,r);null!==h&&(_f(h,e,r,wf()),Ul(h,t,r))}Wl(e,r)}function Gl(e){var t=e.alternate;return e===ks||null!==t&&t===ks}function Bl(e,t){Rs=Es=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ul(e,t,n){if(Nr(n)){var r=t.lanes,i=Hr(r=Yr(r,e.pendingLanes),n);t.lanes=i,Qr(e,i)}}function Wl(e,t,n){Gi(e,t)}var Hl={readContext:Ro,useCallback:Gs,useContext:Gs,useEffect:Gs,useImperativeHandle:Gs,useInsertionEffect:Gs,useLayoutEffect:Gs,useMemo:Gs,useReducer:Gs,useRef:Gs,useState:Gs,useDebugValue:Gs,useDeferredValue:Gs,useTransition:Gs,useMutableSource:Gs,useSyncExternalStore:Gs,useId:Gs,unstable_isNewReconciler:d},jl=null,Yl=null,ql=null,Vl=null,Xl=null,Ql=null,$l=null,Kl=function(){l("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")},Jl=function(){l("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks")};jl={readContext:function(e){return Ro(e)},useCallback:function(e,t){return As="useCallback",zs(),Os(t),_l(e,t)},useContext:function(e){return As="useContext",zs(),Ro(e)},useEffect:function(e,t){return As="useEffect",zs(),Os(t),dl(e,t)},useImperativeHandle:function(e,t,n){return As="useImperativeHandle",zs(),Os(n),bl(e,t,n)},useInsertionEffect:function(e,t){return As="useInsertionEffect",zs(),Os(t),pl(e,t)},useLayoutEffect:function(e,t){return As="useLayoutEffect",zs(),Os(t),ml(e,t)},useMemo:function(e,t){As="useMemo",zs(),Os(t);var n=_s.current;_s.current=Xl;try{return Cl(e,t)}finally{_s.current=n}},useReducer:function(e,t,n){As="useReducer",zs();var r=_s.current;_s.current=Xl;try{return Xs(e,t,n)}finally{_s.current=r}},useRef:function(e){return As="useRef",zs(),ll(e)},useState:function(e){As="useState",zs();var t=_s.current;_s.current=Xl;try{return il(e)}finally{_s.current=t}},useDebugValue:function(e,t){As="useDebugValue",zs()},useDeferredValue:function(e){return As="useDeferredValue",zs(),Pl(e)},useTransition:function(){return As="useTransition",zs(),Dl()},useMutableSource:function(e,t,n){As="useMutableSource",zs()},useSyncExternalStore:function(e,t,n){return As="useSyncExternalStore",zs(),Ks(e,t,n)},useId:function(){return As="useId",zs(),Nl()},unstable_isNewReconciler:d},Yl={readContext:function(e){return Ro(e)},useCallback:function(e,t){return As="useCallback",Fs(),_l(e,t)},useContext:function(e){return As="useContext",Fs(),Ro(e)},useEffect:function(e,t){return As="useEffect",Fs(),dl(e,t)},useImperativeHandle:function(e,t,n){return As="useImperativeHandle",Fs(),bl(e,t,n)},useInsertionEffect:function(e,t){return As="useInsertionEffect",Fs(),pl(e,t)},useLayoutEffect:function(e,t){return As="useLayoutEffect",Fs(),ml(e,t)},useMemo:function(e,t){As="useMemo",Fs();var n=_s.current;_s.current=Xl;try{return Cl(e,t)}finally{_s.current=n}},useReducer:function(e,t,n){As="useReducer",Fs();var r=_s.current;_s.current=Xl;try{return Xs(e,t,n)}finally{_s.current=r}},useRef:function(e){return As="useRef",Fs(),ll(e)},useState:function(e){As="useState",Fs();var t=_s.current;_s.current=Xl;try{return il(e)}finally{_s.current=t}},useDebugValue:function(e,t){As="useDebugValue",Fs()},useDeferredValue:function(e){return As="useDeferredValue",Fs(),Pl(e)},useTransition:function(){return As="useTransition",Fs(),Dl()},useMutableSource:function(e,t,n){As="useMutableSource",Fs()},useSyncExternalStore:function(e,t,n){return As="useSyncExternalStore",Fs(),Ks(e,t,n)},useId:function(){return As="useId",Fs(),Nl()},unstable_isNewReconciler:d},ql={readContext:function(e){return Ro(e)},useCallback:function(e,t){return As="useCallback",Fs(),xl(e,t)},useContext:function(e){return As="useContext",Fs(),Ro(e)},useEffect:function(e,t){return As="useEffect",Fs(),fl(e,t)},useImperativeHandle:function(e,t,n){return As="useImperativeHandle",Fs(),wl(e,t,n)},useInsertionEffect:function(e,t){return As="useInsertionEffect",Fs(),gl(e,t)},useLayoutEffect:function(e,t){return As="useLayoutEffect",Fs(),vl(e,t)},useMemo:function(e,t){As="useMemo",Fs();var n=_s.current;_s.current=Ql;try{return kl(e,t)}finally{_s.current=n}},useReducer:function(e,t,n){As="useReducer",Fs();var r=_s.current;_s.current=Ql;try{return Qs(e)}finally{_s.current=r}},useRef:function(e){return As="useRef",Fs(),ul()},useState:function(e){As="useState",Fs();var t=_s.current;_s.current=Ql;try{return al()}finally{_s.current=t}},useDebugValue:function(e,t){return As="useDebugValue",Fs(),Sl()},useDeferredValue:function(e){return As="useDeferredValue",Fs(),Tl(e)},useTransition:function(){return As="useTransition",Fs(),Al()},useMutableSource:function(e,t,n){As="useMutableSource",Fs()},useSyncExternalStore:function(e,t,n){return As="useSyncExternalStore",Fs(),Js(e,t)},useId:function(){return As="useId",Fs(),zl()},unstable_isNewReconciler:d},Vl={readContext:function(e){return Ro(e)},useCallback:function(e,t){return As="useCallback",Fs(),xl(e,t)},useContext:function(e){return As="useContext",Fs(),Ro(e)},useEffect:function(e,t){return As="useEffect",Fs(),fl(e,t)},useImperativeHandle:function(e,t,n){return As="useImperativeHandle",Fs(),wl(e,t,n)},useInsertionEffect:function(e,t){return As="useInsertionEffect",Fs(),gl(e,t)},useLayoutEffect:function(e,t){return As="useLayoutEffect",Fs(),vl(e,t)},useMemo:function(e,t){As="useMemo",Fs();var n=_s.current;_s.current=$l;try{return kl(e,t)}finally{_s.current=n}},useReducer:function(e,t,n){As="useReducer",Fs();var r=_s.current;_s.current=$l;try{return $s(e)}finally{_s.current=r}},useRef:function(e){return As="useRef",Fs(),ul()},useState:function(e){As="useState",Fs();var t=_s.current;_s.current=$l;try{return ol()}finally{_s.current=t}},useDebugValue:function(e,t){return As="useDebugValue",Fs(),Sl()},useDeferredValue:function(e){return As="useDeferredValue",Fs(),El(e)},useTransition:function(){return As="useTransition",Fs(),Il()},useMutableSource:function(e,t,n){As="useMutableSource",Fs()},useSyncExternalStore:function(e,t,n){return As="useSyncExternalStore",Fs(),Js(e,t)},useId:function(){return As="useId",Fs(),zl()},unstable_isNewReconciler:d},Xl={readContext:function(e){return Kl(),Ro(e)},useCallback:function(e,t){return As="useCallback",Jl(),zs(),_l(e,t)},useContext:function(e){return As="useContext",Jl(),zs(),Ro(e)},useEffect:function(e,t){return As="useEffect",Jl(),zs(),dl(e,t)},useImperativeHandle:function(e,t,n){return As="useImperativeHandle",Jl(),zs(),bl(e,t,n)},useInsertionEffect:function(e,t){return As="useInsertionEffect",Jl(),zs(),pl(e,t)},useLayoutEffect:function(e,t){return As="useLayoutEffect",Jl(),zs(),ml(e,t)},useMemo:function(e,t){As="useMemo",Jl(),zs();var n=_s.current;_s.current=Xl;try{return Cl(e,t)}finally{_s.current=n}},useReducer:function(e,t,n){As="useReducer",Jl(),zs();var r=_s.current;_s.current=Xl;try{return Xs(e,t,n)}finally{_s.current=r}},useRef:function(e){return As="useRef",Jl(),zs(),ll(e)},useState:function(e){As="useState",Jl(),zs();var t=_s.current;_s.current=Xl;try{return il(e)}finally{_s.current=t}},useDebugValue:function(e,t){As="useDebugValue",Jl(),zs()},useDeferredValue:function(e){return As="useDeferredValue",Jl(),zs(),Pl(e)},useTransition:function(){return As="useTransition",Jl(),zs(),Dl()},useMutableSource:function(e,t,n){As="useMutableSource",Jl(),zs()},useSyncExternalStore:function(e,t,n){return As="useSyncExternalStore",Jl(),zs(),Ks(e,t,n)},useId:function(){return As="useId",Jl(),zs(),Nl()},unstable_isNewReconciler:d},Ql={readContext:function(e){return Kl(),Ro(e)},useCallback:function(e,t){return As="useCallback",Jl(),Fs(),xl(e,t)},useContext:function(e){return As="useContext",Jl(),Fs(),Ro(e)},useEffect:function(e,t){return As="useEffect",Jl(),Fs(),fl(e,t)},useImperativeHandle:function(e,t,n){return As="useImperativeHandle",Jl(),Fs(),wl(e,t,n)},useInsertionEffect:function(e,t){return As="useInsertionEffect",Jl(),Fs(),gl(e,t)},useLayoutEffect:function(e,t){return As="useLayoutEffect",Jl(),Fs(),vl(e,t)},useMemo:function(e,t){As="useMemo",Jl(),Fs();var n=_s.current;_s.current=Ql;try{return kl(e,t)}finally{_s.current=n}},useReducer:function(e,t,n){As="useReducer",Jl(),Fs();var r=_s.current;_s.current=Ql;try{return Qs(e)}finally{_s.current=r}},useRef:function(e){return As="useRef",Jl(),Fs(),ul()},useState:function(e){As="useState",Jl(),Fs();var t=_s.current;_s.current=Ql;try{return al()}finally{_s.current=t}},useDebugValue:function(e,t){return As="useDebugValue",Jl(),Fs(),Sl()},useDeferredValue:function(e){return As="useDeferredValue",Jl(),Fs(),Tl(e)},useTransition:function(){return As="useTransition",Jl(),Fs(),Al()},useMutableSource:function(e,t,n){As="useMutableSource",Jl(),Fs()},useSyncExternalStore:function(e,t,n){return As="useSyncExternalStore",Jl(),Fs(),Js(e,t)},useId:function(){return As="useId",Jl(),Fs(),zl()},unstable_isNewReconciler:d},$l={readContext:function(e){return Kl(),Ro(e)},useCallback:function(e,t){return As="useCallback",Jl(),Fs(),xl(e,t)},useContext:function(e){return As="useContext",Jl(),Fs(),Ro(e)},useEffect:function(e,t){return As="useEffect",Jl(),Fs(),fl(e,t)},useImperativeHandle:function(e,t,n){return As="useImperativeHandle",Jl(),Fs(),wl(e,t,n)},useInsertionEffect:function(e,t){return As="useInsertionEffect",Jl(),Fs(),gl(e,t)},useLayoutEffect:function(e,t){return As="useLayoutEffect",Jl(),Fs(),vl(e,t)},useMemo:function(e,t){As="useMemo",Jl(),Fs();var n=_s.current;_s.current=Ql;try{return kl(e,t)}finally{_s.current=n}},useReducer:function(e,t,n){As="useReducer",Jl(),Fs();var r=_s.current;_s.current=Ql;try{return $s(e)}finally{_s.current=r}},useRef:function(e){return As="useRef",Jl(),Fs(),ul()},useState:function(e){As="useState",Jl(),Fs();var t=_s.current;_s.current=Ql;try{return ol()}finally{_s.current=t}},useDebugValue:function(e,t){return As="useDebugValue",Jl(),Fs(),Sl()},useDeferredValue:function(e){return As="useDeferredValue",Jl(),Fs(),El(e)},useTransition:function(){return As="useTransition",Jl(),Fs(),Il()},useMutableSource:function(e,t,n){As="useMutableSource",Jl(),Fs()},useSyncExternalStore:function(e,t,n){return As="useSyncExternalStore",Jl(),Fs(),Js(e,t)},useId:function(){return As="useId",Jl(),Fs(),zl()},unstable_isNewReconciler:d};var Zl=i.unstable_now,eu=0,tu=-1,nu=-1,ru=-1,iu=!1,au=!1;function ou(){return iu}function su(){return eu}function lu(){eu=Zl()}function uu(e){nu=Zl(),e.actualStartTime<0&&(e.actualStartTime=Zl())}function cu(e){nu=-1}function hu(e,t){if(nu>=0){var n=Zl()-nu;e.actualDuration+=n,t&&(e.selfBaseDuration=n),nu=-1}}function du(e){if(tu>=0){var t=Zl()-tu;tu=-1;for(var n=e.return;null!==n;){switch(n.tag){case 3:case g:return void(n.stateNode.effectDuration+=t)}n=n.return}}}function fu(e){if(ru>=0){var t=Zl()-ru;ru=-1;for(var n=e.return;null!==n;){switch(n.tag){case 3:var r=n.stateNode;return void(null!==r&&(r.passiveEffectDuration+=t));case g:var i=n.stateNode;return void(null!==i&&(i.passiveEffectDuration+=t))}n=n.return}}}function pu(){tu=Zl()}function gu(){ru=Zl()}function mu(e){for(var t=e.child;t;)e.actualDuration+=t.actualDuration,t=t.sibling}function vu(e,t){if(e&&e.defaultProps){var n=c({},t),r=e.defaultProps;for(var i in r)void 0===n[i]&&(n[i]=r[i]);return n}return t}var yu,bu,wu,Su,_u,xu,Cu,ku,Pu,Tu,Eu,Ru={};yu=new Set,bu=new Set,wu=new Set,Su=new Set,ku=new Set,_u=new Set,Pu=new Set,Tu=new Set,Eu=new Set;var Mu=new Set;function Du(e,t,n,r){var i=e.memoizedState,a=n(r,i);if(8&e.mode){Si(!0);try{a=n(r,i)}finally{Si(!1)}}xu(t,a);var o=null==a?i:c({},i,a);e.memoizedState=o,0===e.lanes&&(e.updateQueue.baseState=o)}Cu=function(e,t){if(null!==e&&"function"!=typeof e){var n=t+"_"+e;Mu.has(n)||(Mu.add(n),l("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",t,e))}},xu=function(e,t){if(void 0===t){var n=B(e)||"Component";_u.has(n)||(_u.add(n),l("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",n))}},Object.defineProperty(Ru,"_processChildContext",{enumerable:!1,value:function(){throw new Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(Ru);var Au={isMounted:function(e){var t=ce.current;if(null!==t&&1===t.tag){var n=t,r=n.stateNode;r._warnedAboutRefsInRender||l("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",W(n)||"A component"),r._warnedAboutRefsInRender=!0}var i=h(e);return!!i&&he(i)===i},enqueueSetState:function(e,t,n){var r=h(e),i=wf(),a=Sf(r),o=Ho(i,a);o.payload=t,null!=n&&(Cu(n,"setState"),o.callback=n);var s=jo(r,o,a);null!==s&&(_f(s,r,a,i),Yo(s,r,a)),Gi(r,a)},enqueueReplaceState:function(e,t,n){var r=h(e),i=wf(),a=Sf(r),o=Ho(i,a);o.tag=1,o.payload=t,null!=n&&(Cu(n,"replaceState"),o.callback=n);var s=jo(r,o,a);null!==s&&(_f(s,r,a,i),Yo(s,r,a)),Gi(r,a)},enqueueForceUpdate:function(e,t){var n=h(e),r=wf(),i=Sf(n),a=Ho(r,i);a.tag=Go,null!=t&&(Cu(t,"forceUpdate"),a.callback=t);var o=jo(n,a,i);null!==o&&(_f(o,n,i,r),Yo(o,n,i)),function(e,t){null!==yi&&"function"==typeof yi.markForceUpdateScheduled&&yi.markForceUpdateScheduled(e,t)}(n,i)}};function Iu(e,t,n,r,i,a,o){var s=e.stateNode;if("function"==typeof s.shouldComponentUpdate){var u=s.shouldComponentUpdate(r,a,o);if(8&e.mode){Si(!0);try{u=s.shouldComponentUpdate(r,a,o)}finally{Si(!1)}}return void 0===u&&l("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",B(t)||"Component"),u}return!(t.prototype&&t.prototype.isPureReactComponent&&Da(n,r)&&Da(i,a))}function Lu(e,t){var n;t.updater=Au,e.stateNode=t,n=e,t._reactInternals=n,t._reactInternalInstance=Ru}function Nu(e,t,n){var r=!1,i=In,a=In,o=t.contextType;if("contextType"in t&&null!==o&&(void 0===o||o.$$typeof!==M||void 0!==o._context)&&!Tu.has(t)){Tu.add(t);var s;s=void 0===o?" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":"object"!=typeof o?" However, it is set to a "+typeof o+".":o.$$typeof===R?" Did you accidentally pass the Context.Provider instead?":void 0!==o._context?" Did you accidentally pass the Context.Consumer instead?":" However, it is set to an object with keys {"+Object.keys(o).join(", ")+"}.",l("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",B(t)||"Component",s)}"object"==typeof o&&null!==o?a=Ro(o):(i=Fn(0,t,!0),a=(r=null!=t.contextTypes)?Gn(e,i):In);var u=new t(n,a);if(8&e.mode){Si(!0);try{u=new t(n,a)}finally{Si(!1)}}var c=e.memoizedState=null!==u.state&&void 0!==u.state?u.state:null;if(Lu(e,u),"function"==typeof t.getDerivedStateFromProps&&null===c){var h=B(t)||"Component";bu.has(h)||(bu.add(h),l("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",h,null===u.state?"null":"undefined",h))}if("function"==typeof t.getDerivedStateFromProps||"function"==typeof u.getSnapshotBeforeUpdate){var d=null,f=null,p=null;if("function"==typeof u.componentWillMount&&!0!==u.componentWillMount.__suppressDeprecationWarning?d="componentWillMount":"function"==typeof u.UNSAFE_componentWillMount&&(d="UNSAFE_componentWillMount"),"function"==typeof u.componentWillReceiveProps&&!0!==u.componentWillReceiveProps.__suppressDeprecationWarning?f="componentWillReceiveProps":"function"==typeof u.UNSAFE_componentWillReceiveProps&&(f="UNSAFE_componentWillReceiveProps"),"function"==typeof u.componentWillUpdate&&!0!==u.componentWillUpdate.__suppressDeprecationWarning?p="componentWillUpdate":"function"==typeof u.UNSAFE_componentWillUpdate&&(p="UNSAFE_componentWillUpdate"),null!==d||null!==f||null!==p){var g=B(t)||"Component",m="function"==typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";Su.has(g)||(Su.add(g),l("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n%s uses %s but also contains the following legacy lifecycles:%s%s%s\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://reactjs.org/link/unsafe-component-lifecycles",g,m,null!==d?"\n  "+d:"",null!==f?"\n  "+f:"",null!==p?"\n  "+p:""))}}return r&&On(e,i,a),u}function zu(e,t,n,r){var i=t.state;if("function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==i){var a=W(e)||"Component";yu.has(a)||(yu.add(a),l("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",a)),Au.enqueueReplaceState(t,t.state,null)}}function Fu(e,t,n,r){!function(e,t,n){var r=e.stateNode,i=B(t)||"Component";r.render||(t.prototype&&"function"==typeof t.prototype.render?l("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",i):l("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",i)),!r.getInitialState||r.getInitialState.isReactClassApproved||r.state||l("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",i),r.getDefaultProps&&!r.getDefaultProps.isReactClassApproved&&l("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",i),r.propTypes&&l("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",i),r.contextType&&l("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",i),!t.childContextTypes||Eu.has(t)||8&e.mode||(Eu.add(t),l("%s uses the legacy childContextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() instead\n\n.Learn more about this warning here: https://reactjs.org/link/legacy-context",i)),!t.contextTypes||Eu.has(t)||8&e.mode||(Eu.add(t),l("%s uses the legacy contextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() with static contextType instead.\n\nLearn more about this warning here: https://reactjs.org/link/legacy-context",i)),r.contextTypes&&l("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",i),t.contextType&&t.contextTypes&&!Pu.has(t)&&(Pu.add(t),l("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",i)),"function"==typeof r.componentShouldUpdate&&l("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",i),t.prototype&&t.prototype.isPureReactComponent&&void 0!==r.shouldComponentUpdate&&l("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",B(t)||"A pure component"),"function"==typeof r.componentDidUnmount&&l("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",i),"function"==typeof r.componentDidReceiveProps&&l("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",i),"function"==typeof r.componentWillRecieveProps&&l("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",i),"function"==typeof r.UNSAFE_componentWillRecieveProps&&l("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",i);var a=r.props!==n;void 0!==r.props&&a&&l("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",i,i),r.defaultProps&&l("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",i,i),"function"!=typeof r.getSnapshotBeforeUpdate||"function"==typeof r.componentDidUpdate||wu.has(t)||(wu.add(t),l("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",B(t))),"function"==typeof r.getDerivedStateFromProps&&l("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",i),"function"==typeof r.getDerivedStateFromError&&l("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",i),"function"==typeof t.getSnapshotBeforeUpdate&&l("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",i);var o=r.state;o&&("object"!=typeof o||be(o))&&l("%s.state: must be set to an object or null",i),"function"==typeof r.getChildContext&&"object"!=typeof t.childContextTypes&&l("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",i)}(e,t,n);var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Uo(e);var a=t.contextType;if("object"==typeof a&&null!==a)i.context=Ro(a);else{var o=Fn(0,t,!0);i.context=Gn(e,o)}if(i.state===n){var s=B(t)||"Component";ku.has(s)||(ku.add(s),l("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",s))}8&e.mode&&Ua.recordLegacyContextWarning(e,i),Ua.recordUnsafeLifecycleWarnings(e,i),i.state=e.memoizedState;var u=t.getDerivedStateFromProps;if("function"==typeof u&&(Du(e,t,u,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(function(e,t){var n=t.state;"function"==typeof t.componentWillMount&&t.componentWillMount(),"function"==typeof t.UNSAFE_componentWillMount&&t.UNSAFE_componentWillMount(),n!==t.state&&(l("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",W(e)||"Component"),Au.enqueueReplaceState(t,t.state,null))}(e,i),Xo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount){var c=4;c|=re,0!==(e.mode&Xn)&&(c|=ie),e.flags|=c}}function Ou(e,t){return{value:e,source:t,stack:Ia(t),digest:null}}function Gu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function Bu(e,t){try{var n=t.value,r=t.source,i=t.stack,a=null!==i?i:"";if(null!=n&&n._suppressLogging){if(1===e.tag)return;console.error(n)}var o=r?W(r):null,s=(o?"The above error occurred in the <"+o+"> component:":"The above error occurred in one of your React components:")+"\n"+a+"\n\n"+(3===e.tag?"Consider adding an error boundary to your tree to customize error handling behavior.\nVisit https://reactjs.org/link/error-boundaries to learn more about error boundaries.":"React will try to recreate this component tree from scratch using the error boundary you provided, "+(W(e)||"Anonymous")+".");console.error(s)}catch(e){setTimeout(function(){throw e})}}var Uu="function"==typeof WeakMap?WeakMap:Map;function Wu(e,t,n){var r=Ho(kr,n);r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){qf(i),Bu(e,t)},r}function Hu(e,t,n){var r=Ho(kr,n);r.tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var a=t.value;r.payload=function(){return i(a)},r.callback=function(){bp(e),Bu(e,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(r.callback=function(){bp(e),Bu(e,t),"function"!=typeof i&&(null===nf?nf=new Set([this]):nf.add(this));var n=t.value,r=t.stack;this.componentDidCatch(n,{componentStack:null!==r?r:""}),"function"!=typeof i&&(Ur(e.lanes,1)||l("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",W(e)||"Unknown"))}),r}function ju(e,t,n){var r,i=e.pingCache;if(null===i?(i=e.pingCache=new Uu,r=new Set,i.set(t,r)):void 0===(r=i.get(t))&&(r=new Set,i.set(t,r)),!r.has(n)){r.add(n);var a=Qf.bind(null,e,t,n);wi&&op(e,n),t.then(a,a)}}function Yu(e){var t=e;do{if(t.tag===m&&ms(t))return t;t=t.return}while(null!==t);return null}function qu(e,t,n,r,i){if(!(1&e.mode)){if(e===t)e.flags|=Z;else{if(e.flags|=j,n.flags|=ee,n.flags&=-52805,1===n.tag)if(null===n.alternate)n.tag=b;else{var a=Ho(kr,1);a.tag=Go,jo(n,a,1)}n.lanes=Hr(n.lanes,1)}return e}return e.flags|=Z,e.lanes=i,e}function Vu(e,t,n,r,i){if(n.flags|=J,wi&&op(e,i),null!==r&&"object"==typeof r&&"function"==typeof r.then){var a=r;!function(e){var t=e.tag;if(!(1&e.mode||0!==t&&t!==p&&t!==y)){var n=e.alternate;n?(e.updateQueue=n.updateQueue,e.memoizedState=n.memoizedState,e.lanes=n.lanes):(e.updateQueue=null,e.memoizedState=null)}}(n),Ea()&&1&n.mode&&pa();var o=Yu(t);if(null!==o)return o.flags&=-257,qu(o,t,n,0,i),1&o.mode&&ju(e,a,i),void function(e,t,n){var r=e.updateQueue;if(null===r){var i=new Set;i.add(n),e.updateQueue=i}else r.add(n)}(o,0,a);if(!(1&i))return ju(e,a,i),void Ff();r=new Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.")}else if(Ea()&&1&n.mode){pa();var s=Yu(t);if(null!==s)return 0===(s.flags&Z)&&(s.flags|=Y),qu(s,t,n,0,i),void Ra(Ou(r,n))}!function(e){Gd!==Md&&(Gd=Ed),null===Yd?Yd=[e]:Yd.push(e)}(r=Ou(r,n));var l=t;do{switch(l.tag){case 3:var u=r;l.flags|=Z;var c=Or(i);return l.lanes=Hr(l.lanes,c),void qo(l,Wu(l,u,c));case 1:var h=r,d=l.type,f=l.stateNode;if(0===(l.flags&j)&&("function"==typeof d.getDerivedStateFromError||null!==f&&"function"==typeof f.componentDidCatch&&!Yf(f))){l.flags|=Z;var g=Or(i);return l.lanes=Hr(l.lanes,g),void qo(l,Hu(l,h,g))}}l=l.return}while(null!==l)}var Xu,Qu,$u,Ku,Ju,Zu,ec,tc,nc,rc=a.ReactCurrentOwner,ic=!1;function ac(e,t,n,r){t.child=null===e?po(t,null,n,r):fo(t,e.child,n,r)}function oc(e,t,n,r,i){if(t.type!==t.elementType){var a=n.propTypes;a&&kn(a,r,"prop",B(n))}var o,s,l=n.render,u=t.ref;if(Eo(t,i),ki(t),rc.current=t,Ba(!0),o=Us(e,t,l,r,u,i),s=Ws(),8&t.mode){Si(!0);try{o=Us(e,t,l,r,u,i),s=Ws()}finally{Si(!1)}}return Ba(!1),Pi(),null===e||ic?(Ea()&&s&&aa(t),t.flags|=1,ac(e,t,o,i),t.child):(Hs(e,t,i),zc(e,t,i))}function sc(e,t,n,r,i){if(null===e){var a,o=n.type;if(function(e){return"function"==typeof e&&!Dp(e)&&void 0===e.defaultProps}(o)&&null===n.compare&&void 0===n.defaultProps)return a=gp(o),t.tag=y,t.type=a,mc(t,o),lc(e,t,a,r,i);var s=o.propTypes;if(s&&kn(s,r,"prop",B(o)),void 0!==n.defaultProps){var u=B(o)||"Unknown";nc[u]||(l("%s: Support for defaultProps will be removed from memo components in a future major release. Use JavaScript default parameters instead.",u),nc[u]=!0)}var c=Lp(n.type,null,r,t,t.mode,i);return c.ref=t.ref,c.return=t,t.child=c,c}var h=n.type,d=h.propTypes;d&&kn(d,r,"prop",B(h));var f=e.child;if(!Fc(e,i)){var p=f.memoizedProps,g=n.compare;if((g=null!==g?g:Da)(p,r)&&e.ref===t.ref)return zc(e,t,i)}t.flags|=1;var m=Ap(f,r);return m.ref=t.ref,m.return=t,t.child=m,m}function lc(e,t,n,r,i){if(t.type!==t.elementType){var a=t.elementType;if(a.$$typeof===N){var o=a,s=o._payload,l=o._init;try{a=l(s)}catch(e){a=null}var u=a&&a.propTypes;u&&kn(u,r,"prop",B(a))}}if(null!==e){var c=e.memoizedProps;if(Da(c,r)&&e.ref===t.ref&&t.type===e.type){if(ic=!1,t.pendingProps=r=c,!Fc(e,i))return t.lanes=e.lanes,zc(e,t,i);0!==(e.flags&ee)&&(ic=!0)}}return hc(e,t,n,r,i)}function uc(e,t,n){var r,i=t.pendingProps,a=i.children,o=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(1&t.mode){if(!Ur(n,xr)){var s;s=null!==o?Hr(o.baseLanes,n):n,t.lanes=t.childLanes=xr;var l={baseLanes:s,cachePool:null,transitions:null};return t.memoizedState=l,t.updateQueue=null,Mf(t,s),null}t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mf(t,null!==o?o.baseLanes:n)}else{t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mf(t,n)}else null!==o?(r=Hr(o.baseLanes,n),t.memoizedState=null):r=n,Mf(t,r);return ac(e,t,a,n),t.child}function cc(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=q,t.flags|=ne)}function hc(e,t,n,r,i){if(t.type!==t.elementType){var a=n.propTypes;a&&kn(a,r,"prop",B(n))}var o,s,l;if(o=Gn(t,Fn(0,n,!0)),Eo(t,i),ki(t),rc.current=t,Ba(!0),s=Us(e,t,n,r,o,i),l=Ws(),8&t.mode){Si(!0);try{s=Us(e,t,n,r,o,i),l=Ws()}finally{Si(!1)}}return Ba(!1),Pi(),null===e||ic?(Ea()&&l&&aa(t),t.flags|=1,ac(e,t,s,i),t.child):(Hs(e,t,i),zc(e,t,i))}function dc(e,t,n,r,i){switch(Xp(t)){case!1:var a=t.stateNode,o=new(0,t.type)(t.memoizedProps,a.context).state;a.updater.enqueueSetState(a,o,null);break;case!0:t.flags|=j,t.flags|=Z;var s=new Error("Simulated error coming from DevTools"),u=Or(i);t.lanes=Hr(t.lanes,u),qo(t,Hu(t,Ou(s,t),u))}if(t.type!==t.elementType){var c=n.propTypes;c&&kn(c,r,"prop",B(n))}var h,d;Un(n)?(h=!0,qn(t)):h=!1,Eo(t,i),null===t.stateNode?(Nc(e,t),Nu(t,n,r),Fu(t,n,r,i),d=!0):d=null===e?function(e,t,n,r){var i=e.stateNode,a=e.memoizedProps;i.props=a;var o,s=i.context,l=t.contextType;o="object"==typeof l&&null!==l?Ro(l):Gn(e,Fn(0,t,!0));var u=t.getDerivedStateFromProps,c="function"==typeof u||"function"==typeof i.getSnapshotBeforeUpdate;c||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||a===n&&s===o||zu(e,i,n,o),$o();var h=e.memoizedState,d=i.state=h;if(Xo(e,n,i,r),d=e.memoizedState,a===n&&h===d&&!Bn()&&!Ko()){if("function"==typeof i.componentDidMount){var f=4;f|=re,0!==(e.mode&Xn)&&(f|=ie),e.flags|=f}return!1}"function"==typeof u&&(Du(e,t,u,n),d=e.memoizedState);var p=Ko()||Iu(e,t,a,n,h,d,o);if(p){if(c||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount){var g=4;g|=re,0!==(e.mode&Xn)&&(g|=ie),e.flags|=g}}else{if("function"==typeof i.componentDidMount){var m=4;m|=re,0!==(e.mode&Xn)&&(m|=ie),e.flags|=m}e.memoizedProps=n,e.memoizedState=d}return i.props=n,i.state=d,i.context=o,p}(t,n,r,i):function(e,t,n,r,i){var a=t.stateNode;Wo(e,t);var o=t.memoizedProps,s=t.type===t.elementType?o:vu(t.type,o);a.props=s;var l,u=t.pendingProps,c=a.context,h=n.contextType;l="object"==typeof h&&null!==h?Ro(h):Gn(t,Fn(0,n,!0));var d=n.getDerivedStateFromProps,f="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||o===u&&c===l||zu(t,a,r,l),$o();var p=t.memoizedState,g=a.state=p;if(Xo(t,r,a,i),g=t.memoizedState,o===u&&p===g&&!Bn()&&!Ko())return"function"==typeof a.componentDidUpdate&&(o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4)),"function"==typeof a.getSnapshotBeforeUpdate&&(o===e.memoizedProps&&p===e.memoizedState||(t.flags|=V)),!1;"function"==typeof d&&(Du(t,n,d,r),g=t.memoizedState);var m=Ko()||Iu(t,n,s,r,p,g,l)||false;return m?(f||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,g,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,g,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=V)):("function"==typeof a.componentDidUpdate&&(o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4)),"function"==typeof a.getSnapshotBeforeUpdate&&(o===e.memoizedProps&&p===e.memoizedState||(t.flags|=V)),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=l,m}(e,t,n,r,i);var f=fc(e,t,n,d,h,i),p=t.stateNode;return d&&p.props!==r&&(Zu||l("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",W(t)||"a component"),Zu=!0),f}function fc(e,t,n,r,i,a){cc(e,t);var o=0!==(t.flags&j);if(!r&&!o)return i&&Vn(t,n,!1),zc(e,t,a);var s,l=t.stateNode;if(rc.current=t,o&&"function"!=typeof n.getDerivedStateFromError)s=null,cu();else{if(ki(t),Ba(!0),s=l.render(),8&t.mode){Si(!0);try{l.render()}finally{Si(!1)}}Ba(!1),Pi()}return t.flags|=1,null!==e&&o?function(e,t,n,r){t.child=fo(t,e.child,null,r),t.child=fo(t,null,n,r)}(e,t,s,a):ac(e,t,s,a),t.memoizedState=l.state,i&&Vn(t,n,!0),t.child}function pc(e){var t=e.stateNode;t.pendingContext?jn(e,t.pendingContext,t.pendingContext!==t.context):t.context&&jn(e,t.context,!1),as(e,t.containerInfo)}function gc(e,t,n,r,i){return Pa(),Ra(i),t.flags|=Y,ac(e,t,n,r),t.child}function mc(e,t){if(t&&t.childContextTypes&&l("%s(...): childContextTypes cannot be defined on a function component.",t.displayName||t.name||"Component"),null!==e.ref){var n="",r=function(){if(null===Na)return null;var e=Na._debugOwner;return null!=e?W(e):null}();r&&(n+="\n\nCheck the render method of `"+r+"`.");var i=r||"",a=e._debugSource;a&&(i=a.fileName+":"+a.lineNumber),Ju[i]||(Ju[i]=!0,l("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",n))}if(void 0!==t.defaultProps){var o=B(t)||"Unknown";nc[o]||(l("%s: Support for defaultProps will be removed from function components in a future major release. Use JavaScript default parameters instead.",o),nc[o]=!0)}if("function"==typeof t.getDerivedStateFromProps){var s=B(t)||"Unknown";Ku[s]||(l("%s: Function components do not support getDerivedStateFromProps.",s),Ku[s]=!0)}if("object"==typeof t.contextType&&null!==t.contextType){var u=B(t)||"Unknown";$u[u]||(l("%s: Function components do not support contextType.",u),$u[u]=!0)}}Xu={},Qu={},$u={},Ku={},Ju={},Zu=!1,ec={},tc={},nc={};var vc={dehydrated:null,treeContext:null,retryLane:0};function yc(e){return{baseLanes:e,cachePool:null,transitions:null}}function bc(e,t,n){var r=t.pendingProps;$p(t)&&(t.flags|=j);var i=cs.current,a=!1,o=0!==(t.flags&j);if(o||function(e,t){return(null===t||null!==t.memoizedState)&&hs(e,2)}(i,e)?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),ps(t,i=ds(i)),null===e){_a(t);var s=t.memoizedState;if(null!==s){var u=s.dehydrated;if(null!==u)return function(e,t){return 1&e.mode?At(t)?e.lanes=8:e.lanes=xr:(l("Cannot hydrate Suspense in legacy mode. Switch from ReactDOM.hydrate(element, container) to ReactDOMClient.hydrateRoot(container, <App />).render(element) or remove the Suspense components from the server rendered components."),e.lanes=1),null}(t,u)}var c=r.children,h=r.fallback;if(a){var d=function(e,t,n,r){var i,a,o=e.mode,s=e.child,l={mode:"hidden",children:t};return 1&o||null===s?(i=Sc(l,o),a=zp(n,o,r,null)):((i=s).childLanes=0,i.pendingProps=l,2&e.mode&&(i.actualDuration=0,i.actualStartTime=-1,i.selfBaseDuration=0,i.treeBaseDuration=0),a=zp(n,o,r,null)),i.return=e,a.return=e,i.sibling=a,e.child=i,a}(t,c,h,n);return t.child.memoizedState=yc(n),t.memoizedState=vc,d}return wc(t,c)}var f=e.memoizedState;if(null!==f){var p=f.dehydrated;if(null!==p)return function(e,t,n,r,i,a,o){if(n){if(t.flags&Y)return t.flags&=-257,xc(e,t,o,Gu(new Error("There was an error while hydrating this Suspense boundary. Switched to client rendering.")));if(null!==t.memoizedState)return t.child=e.child,t.flags|=j,null;var s=function(e,t,n,r,i){var a=t.mode,o=Sc({mode:"visible",children:n},a),s=zp(r,a,i,null);return s.flags|=2,o.return=t,s.return=t,o.sibling=s,t.child=o,!(1&t.mode)||fo(t,e.child,null,i),s}(e,t,r.children,r.fallback,o);return t.child.memoizedState=yc(o),t.memoizedState=vc,s}if(ha&&l("We should not be hydrating here. This is a bug in React. Please file a bug."),!(1&t.mode))return xc(e,t,o,null);if(At(i)){var u,c,h,d=It(i);return u=d.digest,c=d.message,h=d.stack,xc(e,t,o,Gu(c?new Error(c):new Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering."),u,h))}var f=Ur(o,e.childLanes);if(ic||f){var p=bf();if(null!==p){var g=function(e,t){var n;switch(Fr(t)){case 4:n=2;break;case Jn:n=8;break;case 64:case 128:case 256:case 512:case er:case tr:case nr:case rr:case ir:case ar:case or:case sr:case lr:case ur:case cr:case hr:case fr:case pr:case gr:case mr:case vr:n=32;break;case _r:n=Sr;break;default:n=0}return 0!==(n&(e.suspendedLanes|t))?0:n}(p,o);if(0!==g&&g!==a.retryLane){a.retryLane=g;Io(e,g),_f(p,e,g,-1)}}return Ff(),xc(e,t,o,Gu(new Error("This Suspense boundary received an update before it finished hydrating. This caused the boundary to switch to client rendering. The usual way to fix this is to wrap the original update in startTransition.")))}if(Dt(i)){t.flags|=j,t.child=e.child;var m=Kf.bind(null,e);return Lt(i,m),null}!function(e,t,n){!!Ye&&(ca=Ot(t),ua=e,ha=!0,fa=null,da=!1,null!==n&&function(e,t){la(),Ji[Zi++]=ta,Ji[Zi++]=na,Ji[Zi++]=ea,ta=t.id,na=t.overflow,ea=e}(e,n))}(t,i,a.treeContext);var v=wc(t,r.children);return v.flags|=Q,v}(e,t,o,r,p,f,n)}if(a){var g=r.fallback,m=function(e,t,n,r,i){var a,o,s=t.mode,l=e.child,u=l.sibling,c={mode:"hidden",children:n};return 1&s||t.child===l?(a=_c(l,c)).subtreeFlags=l.subtreeFlags&ue:((a=t.child).childLanes=0,a.pendingProps=c,2&t.mode&&(a.actualDuration=0,a.actualStartTime=-1,a.selfBaseDuration=l.selfBaseDuration,a.treeBaseDuration=l.treeBaseDuration),t.deletions=null),null!==u?o=Ap(u,r):(o=zp(r,s,i,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,o}(e,t,r.children,g,n),v=t.child,y=e.child.memoizedState;return v.memoizedState=null===y?yc(n):function(e,t){return{baseLanes:Hr(e.baseLanes,t),cachePool:null,transitions:e.transitions}}(y,n),v.childLanes=function(e,t){return jr(e.childLanes,t)}(e,n),t.memoizedState=vc,m}var b=function(e,t,n,r){var i=e.child,a=i.sibling,o=_c(i,{mode:"visible",children:n});if(1&t.mode||(o.lanes=r),o.return=t,o.sibling=null,null!==a){var s=t.deletions;null===s?(t.deletions=[a],t.flags|=H):s.push(a)}return t.child=o,o}(e,t,r.children,n);return t.memoizedState=null,b}function wc(e,t,n){var r=Sc({mode:"visible",children:t},e.mode);return r.return=e,e.child=r,r}function Sc(e,t,n){return Fp(e,t,0,null)}function _c(e,t){return Ap(e,t)}function xc(e,t,n,r){null!==r&&Ra(r),fo(t,e.child,null,n);var i=wc(t,t.pendingProps.children);return i.flags|=2,t.memoizedState=null,i}function Cc(e,t,n){e.lanes=Hr(e.lanes,t);var r=e.alternate;null!==r&&(r.lanes=Hr(r.lanes,t)),To(e.return,t,n)}function kc(e,t){var n=be(e),r=!n&&"function"==typeof O(e);if(n||r){var i=n?"array":"iterable";return l("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",i,t,i),!1}return!0}function Pc(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Tc(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail,o=r.children;!function(e){if(void 0!==e&&"forwards"!==e&&"backwards"!==e&&"together"!==e&&!ec[e])if(ec[e]=!0,"string"==typeof e)switch(e.toLowerCase()){case"together":case"forwards":case"backwards":l('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',e,e.toLowerCase());break;case"forward":case"backward":l('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',e,e.toLowerCase());break;default:l('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',e)}else l('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',e)}(i),function(e,t){void 0===e||tc[e]||("collapsed"!==e&&"hidden"!==e?(tc[e]=!0,l('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',e)):"forwards"!==t&&"backwards"!==t&&(tc[e]=!0,l('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',e)))}(a,i),function(e,t){if(("forwards"===t||"backwards"===t)&&null!=e&&!1!==e)if(be(e)){for(var n=0;n<e.length;n++)if(!kc(e[n],n))return}else{var r=O(e);if("function"==typeof r){var i=r.call(e);if(i)for(var a=i.next(),o=0;!a.done;a=i.next()){if(!kc(a.value,o))return;o++}}else l('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',t)}}(o,i),ac(e,t,o,n);var s=cs.current;if(hs(s,2)?(s=fs(s,2),t.flags|=j):(null!==e&&0!==(e.flags&j)&&function(e,t,n){for(var r=t;null!==r;){if(r.tag===m)null!==r.memoizedState&&Cc(r,n,e);else if(r.tag===w)Cc(r,n,e);else if(null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)return;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}(t,t.child,n),s=ds(s)),ps(t,s),1&t.mode)switch(i){case"forwards":var u,c=function(e){for(var t=e,n=null;null!==t;){var r=t.alternate;null!==r&&null===vs(r)&&(n=t),t=t.sibling}return n}(t.child);null===c?(u=t.child,t.child=null):(u=c.sibling,c.sibling=null),Pc(t,!1,u,c,a);break;case"backwards":var h=null,d=t.child;for(t.child=null;null!==d;){var f=d.alternate;if(null!==f&&null===vs(f)){t.child=d;break}var p=d.sibling;d.sibling=h,h=d,d=p}Pc(t,!0,h,null,a);break;case"together":Pc(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}var Ec,Rc,Mc,Dc,Ac=!1,Ic=!1;function Lc(){ic=!0}function Nc(e,t){1&t.mode||null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zc(e,t,n){return null!==e&&(t.dependencies=e.dependencies),cu(),zf(t.lanes),Ur(n,t.childLanes)?(function(e,t){if(null!==e&&t.child!==e.child)throw new Error("Resuming work not yet implemented.");if(null!==t.child){var n=t.child,r=Ap(n,n.pendingProps);for(t.child=r,r.return=t;null!==n.sibling;)n=n.sibling,(r=r.sibling=Ap(n,n.pendingProps)).return=t;r.sibling=null}}(e,t),t.child):null}function Fc(e,t){return!!Ur(e.lanes,t)}function Oc(e,t,n){if(t._debugNeedsRemount&&null!==e)return function(e,t,n){var r=t.return;if(null===r)throw new Error("Cannot swap the root fiber.");if(e.alternate=null,t.alternate=null,n.index=t.index,n.sibling=t.sibling,n.return=t.return,n.ref=t.ref,t===r.child)r.child=n;else{var i=r.child;if(null===i)throw new Error("Expected parent to have a child.");for(;i.sibling!==t;)if(null===(i=i.sibling))throw new Error("Expected to find the previous sibling.");i.sibling=n}var a=r.deletions;return null===a?(r.deletions=[e],r.flags|=H):a.push(e),n.flags|=2,n}(e,t,Lp(t.type,t.key,t.pendingProps,t._debugOwner||null,t.mode,t.lanes));if(null!==e)if(e.memoizedProps!==t.pendingProps||Bn()||t.type!==e.type)ic=!0;else{if(!Fc(e,n)&&0===(t.flags&j))return ic=!1,function(e,t,n){switch(t.tag){case 3:pc(t),t.stateNode,Pa();break;case 5:ls(t);break;case 1:Un(t.type)&&qn(t);break;case 4:as(t,t.stateNode.containerInfo);break;case f:var r=t.memoizedProps.value;ko(t,t.type._context,r);break;case g:Ur(n,t.childLanes)&&(t.flags|=4);var i=t.stateNode;i.effectDuration=0,i.passiveEffectDuration=0;break;case m:var a=t.memoizedState;if(null!==a){if(null!==a.dehydrated)return ps(t,ds(cs.current)),t.flags|=j,null;if(Ur(n,t.child.childLanes))return bc(e,t,n);ps(t,ds(cs.current));var o=zc(e,t,n);return null!==o?o.sibling:null}ps(t,ds(cs.current));break;case w:var s=0!==(e.flags&j),l=Ur(n,t.childLanes);if(s){if(l)return Tc(e,t,n);t.flags|=j}var u=t.memoizedState;if(null!==u&&(u.rendering=null,u.tail=null,u.lastEffect=null),ps(t,cs.current),l)break;return null;case _:case x:return t.lanes=0,uc(e,t,n)}return zc(e,t,n)}(e,t,n);ic=0!==(e.flags&ee)}else if(ic=!1,Ea()&&function(e){return la(),0!==(e.flags&te)}(t)){var r=t.index;ia(t,(la(),Ki),r)}switch(t.lanes=0,t.tag){case 2:return function(e,t,n,r){Nc(e,t);var i,a,o,s=t.pendingProps;if(i=Gn(t,Fn(0,n,!1)),Eo(t,r),ki(t),n.prototype&&"function"==typeof n.prototype.render){var u=B(n)||"Unknown";Xu[u]||(l("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",u,u),Xu[u]=!0)}if(8&t.mode&&Ua.recordLegacyContextWarning(t,null),Ba(!0),rc.current=t,a=Us(null,t,n,s,i,r),o=Ws(),Ba(!1),Pi(),t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof){var c=B(n)||"Unknown";Qu[c]||(l("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",c,c,c),Qu[c]=!0)}if("object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof){var h=B(n)||"Unknown";Qu[h]||(l("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",h,h,h),Qu[h]=!0),t.tag=1,t.memoizedState=null,t.updateQueue=null;var d=!1;return Un(n)?(d=!0,qn(t)):d=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Uo(t),Lu(t,a),Fu(t,n,s,r),fc(null,t,n,!0,d,r)}if(t.tag=0,8&t.mode){Si(!0);try{a=Us(null,t,n,s,i,r),o=Ws()}finally{Si(!1)}}return Ea()&&o&&aa(t),ac(null,t,a,r),mc(t,n),t.child}(e,t,t.type,n);case 16:return function(e,t,n,r){Nc(e,t);var i=t.pendingProps,a=n,o=a._payload,s=(0,a._init)(o);t.type=s;var l=t.tag=function(e){if("function"==typeof e)return Dp(e)?1:0;if(null!=e){var t=e.$$typeof;if(t===D)return p;if(t===L)return v}return 2}(s),u=vu(s,i);switch(l){case 0:return mc(t,s),t.type=s=gp(s),hc(null,t,s,u,r);case 1:return t.type=s=mp(s),dc(null,t,s,u,r);case p:return t.type=s=vp(s),oc(null,t,s,u,r);case v:if(t.type!==t.elementType){var c=s.propTypes;c&&kn(c,u,"prop",B(s))}return sc(null,t,s,vu(s.type,u),r)}var h="";throw null!==s&&"object"==typeof s&&s.$$typeof===N&&(h=" Did you wrap a component in React.lazy() more than once?"),new Error("Element type is invalid. Received a promise that resolves to: "+s+". Lazy element type must resolve to a class or function."+h)}(e,t,t.elementType,n);case 0:var i=t.type,a=t.pendingProps;return hc(e,t,i,t.elementType===i?a:vu(i,a),n);case 1:var o=t.type,s=t.pendingProps;return dc(e,t,o,t.elementType===o?s:vu(o,s),n);case 3:return function(e,t,n){if(pc(t),null===e)throw new Error("Should have a current fiber. This is a bug in React.");var r=t.pendingProps,i=t.memoizedState,a=i.element;Wo(e,t),Xo(t,r,null,n);var o=t.memoizedState,s=(t.stateNode,o.element);if(Ye&&i.isDehydrated){var l={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions};if(t.updateQueue.baseState=l,t.memoizedState=l,t.flags&Y)return gc(e,t,s,n,Ou(new Error("There was an error while hydrating. Because the error happened outside of a Suspense boundary, the entire root will switch to client rendering."),t));if(s!==a)return gc(e,t,s,n,Ou(new Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),t));!function(e){if(!Ye)return!1;var t=e.stateNode.containerInfo;ca=Ft(t),ua=e,ha=!0,fa=null,da=!1}(t);var u=po(t,null,s,n);t.child=u;for(var c=u;c;)c.flags=-3&c.flags|Q,c=c.sibling}else{if(Pa(),s===a)return zc(e,t,n);ac(e,t,s,n)}return t.child}(e,t,n);case 5:return function(e,t,n){ls(t),null===e&&_a(t);var r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children;return ze(r,i)?o=null:null!==a&&ze(r,a)&&(t.flags|=32),cc(e,t),ac(e,t,o,n),t.child}(e,t,n);case 6:return function(e,t){return null===e&&_a(t),null}(e,t);case m:return bc(e,t,n);case 4:return function(e,t,n){as(t,t.stateNode.containerInfo);var r=t.pendingProps;return null===e?t.child=fo(t,null,r,n):ac(e,t,r,n),t.child}(e,t,n);case p:var u=t.type,c=t.pendingProps;return oc(e,t,u,t.elementType===u?c:vu(u,c),n);case 7:return function(e,t,n){return ac(e,t,t.pendingProps,n),t.child}(e,t,n);case 8:return function(e,t,n){return ac(e,t,t.pendingProps.children,n),t.child}(e,t,n);case g:return function(e,t,n){t.flags|=4;var r=t.stateNode;return r.effectDuration=0,r.passiveEffectDuration=0,ac(e,t,t.pendingProps.children,n),t.child}(e,t,n);case f:return function(e,t,n){var r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;"value"in i||Ac||(Ac=!0,l("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"));var s=t.type.propTypes;if(s&&kn(s,i,"prop","Context.Provider"),ko(t,r,o),null!==a){var u=a.value;if(Bi(u,o)){if(a.children===i.children&&!Bn())return zc(e,t,n)}else!function(e,t,n){!function(e,t,n){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var i=void 0,a=r.dependencies;if(null!==a){i=r.child;for(var o=a.firstContext;null!==o;){if(o.context===t){if(1===r.tag){var s=Or(n),l=Ho(kr,s);l.tag=Go;var u=r.updateQueue;if(null===u);else{var c=u.shared,h=c.pending;null===h?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}r.lanes=Hr(r.lanes,n);var d=r.alternate;null!==d&&(d.lanes=Hr(d.lanes,n)),To(r.return,n,e),a.lanes=Hr(a.lanes,n);break}o=o.next}}else if(r.tag===f)i=r.type===e.type?null:r.child;else if(18===r.tag){var p=r.return;if(null===p)throw new Error("We just came from a parent so we must have had a parent. This is a bug in React.");p.lanes=Hr(p.lanes,n);var g=p.alternate;null!==g&&(g.lanes=Hr(g.lanes,n)),To(p,n,e),i=r.sibling}else i=r.child;if(null!==i)i.return=r;else for(i=r;null!==i;){if(i===e){i=null;break}var m=i.sibling;if(null!==m){m.return=i.return,i=m;break}i=i.return}r=i}}(e,t,n)}(t,r,n)}return ac(e,t,i.children,n),t.child}(e,t,n);case 9:return function(e,t,n){var r=t.type;void 0===r._context?r!==r.Consumer&&(Ic||(Ic=!0,l("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"))):r=r._context;var i=t.pendingProps.children;"function"!=typeof i&&l("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),Eo(t,n);var a,o=Ro(r);return ki(t),rc.current=t,Ba(!0),a=i(o),Ba(!1),Pi(),t.flags|=1,ac(e,t,a,n),t.child}(e,t,n);case v:var h=t.type,d=vu(h,t.pendingProps);if(t.type!==t.elementType){var C=h.propTypes;C&&kn(C,d,"prop",B(h))}return sc(e,t,h,d=vu(h.type,d),n);case y:return lc(e,t,t.type,t.pendingProps,n);case b:var k=t.type,P=t.pendingProps;return function(e,t,n,r,i){var a;return Nc(e,t),t.tag=1,Un(n)?(a=!0,qn(t)):a=!1,Eo(t,i),Nu(t,n,r),Fu(t,n,r,i),fc(null,t,n,!0,a,i)}(e,t,k,t.elementType===k?P:vu(k,P),n);case w:return Tc(e,t,n);case S:break;case _:return uc(e,t,n)}throw new Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function Gc(e){e.flags|=4}function Bc(e){e.flags|=q,e.flags|=ne}function Uc(e,t){if(null!==e&&e.child===t.child)return!0;if(0!==(t.flags&H))return!1;for(var n=t.child;null!==n;){if(0!==(n.flags&oe)||0!==(n.subtreeFlags&oe))return!1;n=n.sibling}return!0}if(He)Ec=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag||6===i.tag)Ie(e,i.stateNode);else if(4===i.tag);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)return;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Rc=function(e,t){},Mc=function(e,t,n,r,i){var a=e.memoizedProps;if(a!==r){var o=t.stateNode,s=ss(),l=Ne(o,n,a,r,i,s);t.updateQueue=l,l&&Gc(t)}},Dc=function(e,t,n,r){n!==r&&Gc(t)};else if(je){Ec=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;if(n&&r){var o=i.memoizedProps,s=i.type;a=Pt(a,s,o,i)}Ie(e,a)}else if(6===i.tag){var l=i.stateNode;if(n&&r){var u=i.memoizedProps;l=Tt(l,u,i)}Ie(e,l)}else if(4===i.tag);else if(i.tag===_&&null!==i.memoizedState){var c=i.child;null!==c&&(c.return=i),Ec(e,i,!0,!0)}else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)return;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var Wc=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;if(n&&r){var o=i.memoizedProps,s=i.type;a=Pt(a,s,o,i)}xt(e,a)}else if(6===i.tag){var l=i.stateNode;if(n&&r){var u=i.memoizedProps;l=Tt(l,u,i)}xt(e,l)}else if(4===i.tag);else if(i.tag===_&&null!==i.memoizedState){var c=i.child;null!==c&&(c.return=i),Wc(e,i,!0,!0)}else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)return;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Rc=function(e,t){var n=t.stateNode;if(Uc(e,t));else{var r=n.containerInfo,i=_t(r);Wc(i,t,!1,!1),n.pendingChildren=i,Gc(t),Ct(r,i)}},Mc=function(e,t,n,r,i){var a=e.stateNode,o=e.memoizedProps,s=Uc(e,t);if(s&&o===r)t.stateNode=a;else{var l=t.stateNode,u=ss(),c=null;if(o!==r&&(c=Ne(l,n,o,r,i,u)),s&&null===c)t.stateNode=a;else{var h=St(a,c,n,o,r,t,s,l);Le(h,n,r,i,u)&&Gc(t),t.stateNode=h,s?Gc(t):Ec(h,t,!1,!1)}}},Dc=function(e,t,n,r){if(n!==r){var i=is(),a=ss();t.stateNode=Fe(r,i,a,t),Gc(t)}else t.stateNode=e.stateNode}}else Rc=function(e,t){},Mc=function(e,t,n,r,i){},Dc=function(e,t,n,r){};function Hc(e,t){if(!Ea())switch(e.tailMode){case"hidden":for(var n=e.tail,r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":for(var i=e.tail,a=null;null!==i;)null!==i.alternate&&(a=i),i=i.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function jc(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t){if(2&e.mode){for(var i=e.selfBaseDuration,a=e.child;null!==a;)n=Hr(n,Hr(a.lanes,a.childLanes)),r|=a.subtreeFlags&ue,r|=a.flags&ue,i+=a.treeBaseDuration,a=a.sibling;e.treeBaseDuration=i}else for(var o=e.child;null!==o;)n=Hr(n,Hr(o.lanes,o.childLanes)),r|=o.subtreeFlags&ue,r|=o.flags&ue,o.return=e,o=o.sibling;e.subtreeFlags|=r}else{if(2&e.mode){for(var s=e.actualDuration,l=e.selfBaseDuration,u=e.child;null!==u;)n=Hr(n,Hr(u.lanes,u.childLanes)),r|=u.subtreeFlags,r|=u.flags,s+=u.actualDuration,l+=u.treeBaseDuration,u=u.sibling;e.actualDuration=s,e.treeBaseDuration=l}else for(var c=e.child;null!==c;)n=Hr(n,Hr(c.lanes,c.childLanes)),r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;e.subtreeFlags|=r}return e.childLanes=n,t}function Yc(e,t,n){var r=t.pendingProps;switch(sa(t),t.tag){case 2:case 16:case y:case 0:case p:case 7:case 8:case g:case 9:case v:return jc(t),null;case 1:return Un(t.type)&&Wn(t),jc(t),null;case 3:var i=t.stateNode;return os(t),Hn(t),bs(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(null===e||null===e.child)&&(Ca(t)?Gc(t):null!==e&&(e.memoizedState.isDehydrated&&0===(t.flags&Y)||(t.flags|=V,Ta()))),Rc(e,t),jc(t),null;case 5:us(t);var a=is(),o=t.type;if(null!==e&&null!=t.stateNode)Mc(e,t,o,r,a),e.ref!==t.ref&&Bc(t);else{if(!r){if(null===t.stateNode)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return jc(t),null}var s=ss();if(Ca(t))(function(e,t,n){if(!Ye)throw new Error("Expected prepareToHydrateHostInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.");var r=e.stateNode,i=!da,a=Gt(r,e.type,e.memoizedProps,t,n,e,i);return e.updateQueue=a,null!==a})(t,a,s)&&Gc(t);else{var l=Ae(o,r,a,s,t);Ec(l,t,!1,!1),t.stateNode=l,Le(l,o,r,a,s)&&Gc(t)}null!==t.ref&&Bc(t)}return jc(t),null;case 6:var u=r;if(e&&null!=t.stateNode){var c=e.memoizedProps;Dc(e,t,c,u)}else{if("string"!=typeof u&&null===t.stateNode)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");var h=is(),d=ss();Ca(t)?function(e){if(!Ye)throw new Error("Expected prepareToHydrateHostTextInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.");var t=e.stateNode,n=e.memoizedProps,r=Bt(t,n,e,!da);if(r){var i=ua;if(null!==i)switch(i.tag){case 3:var a=i.stateNode.containerInfo,o=!!(1&i.mode);Xt(a,t,n,o);break;case 5:var s=i.type,l=i.memoizedProps,u=i.stateNode,c=!!(1&i.mode);Qt(s,l,u,t,n,c)}}return r}(t)&&Gc(t):t.stateNode=Fe(u,h,d,t)}return jc(t),null;case m:gs(t);var C=t.memoizedState;if((null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated)&&!function(e,t,n){if(ha&&null!==ca&&1&t.mode&&0===(t.flags&j))return ka(t),Pa(),t.flags|=98560,!1;var r=Ca(t);if(null!==n&&null!==n.dehydrated){if(null===e){if(!r)throw new Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(function(e){if(!Ye)throw new Error("Expected prepareToHydrateHostSuspenseInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.");var t=e.memoizedState,n=null!==t?t.dehydrated:null;if(!n)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");Ut(n,e)}(t),jc(t),2&t.mode&&null!==n){var i=t.child;null!==i&&(t.treeBaseDuration-=i.treeBaseDuration)}return!1}if(Pa(),0===(t.flags&j)&&(t.memoizedState=null),t.flags|=4,jc(t),2&t.mode&&null!==n){var a=t.child;null!==a&&(t.treeBaseDuration-=a.treeBaseDuration)}return!1}return Ta(),!0}(e,t,C))return t.flags&Z?t:null;if(0!==(t.flags&j))return t.lanes=n,2&t.mode&&mu(t),t;var k=null!==C;if(k!==(null!==e&&null!==e.memoizedState)&&k&&(t.child.flags|=$,1&t.mode&&(null===e&&(t.memoizedProps.unstable_avoidThisFallback,1)||hs(cs.current,1)?Gd===Pd&&(Gd=Rd):Ff())),null!==t.updateQueue&&(t.flags|=4),jc(t),2&t.mode&&k){var P=t.child;null!==P&&(t.treeBaseDuration-=P.treeBaseDuration)}return null;case 4:return os(t),Rc(e,t),null===e&&Ve(t.stateNode.containerInfo),jc(t),null;case f:return Po(t.type._context,t),jc(t),null;case b:return Un(t.type)&&Wn(t),jc(t),null;case w:gs(t);var T=t.memoizedState;if(null===T)return jc(t),null;var E=0!==(t.flags&j),R=T.rendering;if(null===R)if(E)Hc(T,!1);else{if(Gd!==Pd||null!==e&&0!==(e.flags&j))for(var M=t.child;null!==M;){var D=vs(M);if(null!==D){E=!0,t.flags|=j,Hc(T,!1);var A=D.updateQueue;return null!==A&&(t.updateQueue=A,t.flags|=4),t.subtreeFlags=0,go(t,n),ps(t,fs(cs.current,2)),t.child}M=M.sibling}null!==T.tail&&ui()>Zd()&&(t.flags|=j,E=!0,Hc(T,!1),t.lanes=yr)}else{if(!E){var I=vs(R);if(null!==I){t.flags|=j,E=!0;var L=I.updateQueue;if(null!==L&&(t.updateQueue=L,t.flags|=4),Hc(T,!0),null===T.tail&&"hidden"===T.tailMode&&!R.alternate&&!Ea())return jc(t),null}else 2*ui()-T.renderingStartTime>Zd()&&n!==xr&&(t.flags|=j,E=!0,Hc(T,!1),t.lanes=yr)}if(T.isBackwards)R.sibling=t.child,t.child=R;else{var N=T.last;null!==N?N.sibling=R:t.child=R,T.last=R}}if(null!==T.tail){var z=T.tail;T.rendering=z,T.tail=z.sibling,T.renderingStartTime=ui(),z.sibling=null;var F=cs.current;return ps(t,F=E?fs(F,2):ds(F)),z}return jc(t),null;case S:break;case _:case x:Df(t);var O=null!==t.memoizedState;return null!==e&&null!==e.memoizedState!==O&&(t.flags|=$),O&&1&t.mode?Ur(Fd,xr)&&(jc(t),He&&6&t.subtreeFlags&&(t.flags|=$)):jc(t),null;case 24:case 25:return null}throw new Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function qc(e,t,n){switch(sa(t),t.tag){case 1:Un(t.type)&&Wn(t);var r=t.flags;return r&Z?(t.flags=-65537&r|j,2&t.mode&&mu(t),t):null;case 3:t.stateNode,os(t),Hn(t),bs();var i=t.flags;return 0!==(i&Z)&&0===(i&j)?(t.flags=-65537&i|j,t):null;case 5:return us(t),null;case m:gs(t);var a=t.memoizedState;if(null!==a&&null!==a.dehydrated){if(null===t.alternate)throw new Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");Pa()}var o=t.flags;return o&Z?(t.flags=-65537&o|j,2&t.mode&&mu(t),t):null;case w:return gs(t),null;case 4:return os(t),null;case f:return Po(t.type._context,t),null;case _:case x:return Df(t),null;default:return null}}function Vc(e,t,n){switch(sa(t),t.tag){case 1:null!=t.type.childContextTypes&&Wn(t);break;case 3:t.stateNode,os(t),Hn(t),bs();break;case 5:us(t);break;case 4:os(t);break;case m:case w:gs(t);break;case f:Po(t.type._context,t);break;case _:case x:Df(t)}}function Xc(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var Qc=Xc;if("undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent){var $c=document.createElement("react");Qc=function(e,t,n,r,i,a,o,s,l){if("undefined"==typeof document||null===document)throw new Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var u=document.createEvent("Event"),c=!1,h=!0,d=window.event,f=Object.getOwnPropertyDescriptor(window,"event");function p(){$c.removeEventListener(S,v,!1),void 0!==window.event&&window.hasOwnProperty("event")&&(window.event=d)}var g,m=Array.prototype.slice.call(arguments,3);function v(){c=!0,p(),t.apply(n,m),h=!1}var y=!1,b=!1;function w(e){if(g=e.error,y=!0,null===g&&0===e.colno&&0===e.lineno&&(b=!0),e.defaultPrevented&&null!=g&&"object"==typeof g)try{g._suppressLogging=!0}catch(e){}}var S="react-"+(e||"invokeguardedcallback");if(window.addEventListener("error",w),$c.addEventListener(S,v,!1),u.initEvent(S,!1,!1),$c.dispatchEvent(u),f&&Object.defineProperty(window,"event",f),c&&h&&(y?b&&(g=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")):g=new Error("An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the \"Pause on exceptions\" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue."),this.onError(g)),window.removeEventListener("error",w),!c)return p(),Xc.apply(this,arguments)}}var Kc=Qc,Jc=!1,Zc=null,eh={onError:function(e){Jc=!0,Zc=e}};function th(e,t,n,r,i,a,o,s,l){Jc=!1,Zc=null,Kc.apply(eh,arguments)}function nh(){if(Jc){var e=Zc;return Jc=!1,Zc=null,e}throw new Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}var rh=null;rh=new Set;var ih=!1,ah=!1,oh="function"==typeof WeakSet?WeakSet:Set,sh=null,lh=null,uh=null,ch=function(e,t){if(t.props=e.memoizedProps,t.state=e.memoizedState,2&e.mode)try{pu(),t.componentWillUnmount()}finally{du(e)}else t.componentWillUnmount()};function hh(e,t){try{wh(4,e)}catch(n){Xf(e,t,n)}}function dh(e,t,n){try{ch(e,n)}catch(n){Xf(e,t,n)}}function fh(e,t){try{Ch(e)}catch(n){Xf(e,t,n)}}function ph(e,t){var n=e.ref;if(null!==n)if("function"==typeof n){var r;try{if(2&e.mode)try{pu(),r=n(null)}finally{du(e)}else r=n(null)}catch(n){Xf(e,t,n)}"function"==typeof r&&l("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",W(e))}else n.current=null}function gh(e,t,n){try{n()}catch(n){Xf(e,t,n)}}var mh=!1;function vh(){for(;null!==sh;){var e=sh;Ga(e);try{yh(e)}catch(t){Xf(e,e.return,t)}Oa();var t=e.sibling;if(null!==t)return t.return=e.return,void(sh=t);sh=e.return}}function yh(e){var t=e.alternate;if(0!==(e.flags&V)){switch(Ga(e),e.tag){case 0:case p:case y:break;case 1:if(null!==t){var n=t.memoizedProps,r=t.memoizedState,i=e.stateNode;e.type!==e.elementType||Zu||(i.props!==e.memoizedProps&&l("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",W(e)||"instance"),i.state!==e.memoizedState&&l("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",W(e)||"instance"));var a=i.getSnapshotBeforeUpdate(e.elementType===e.type?n:vu(e.type,n),r),o=rh;void 0!==a||o.has(e.type)||(o.add(e.type),l("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",W(e))),i.__reactInternalSnapshotBeforeUpdate=a}break;case 3:if(He){var s=e.stateNode;wt(s.containerInfo)}break;case 5:case 6:case 4:case b:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}Oa()}}function bh(e,t,n){var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next,o=a;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,void 0!==s&&(8&e?Ri(t):4&e&&Ii(t),2&e&&hp(!0),gh(t,n,s),2&e&&hp(!1),8&e?Mi():4&e&&Li())}o=o.next}while(o!==a)}}function wh(e,t){var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next,a=i;do{if((a.tag&e)===e){8&e?Ti(t):4&e&&Di(t);var o=a.create;2&e&&hp(!0),a.destroy=o(),2&e&&hp(!1),8&e?Ei():4&e&&Ai();var s=a.destroy;if(void 0!==s&&"function"!=typeof s){var u;l("%s must not return anything besides a function, which is used for clean-up.%s",u=4&a.tag?"useLayoutEffect":2&a.tag?"useInsertionEffect":"useEffect",null===s?" You returned null. If your effect does not require clean up, return undefined (or nothing).":"function"==typeof s.then?"\n\nIt looks like you wrote "+u+"(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:\n\n"+u+"(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching":" You returned: "+s)}}a=a.next}while(a!==i)}}function Sh(e,t){if(4&t.flags&&t.tag===g){var n=t.stateNode.passiveEffectDuration,r=t.memoizedProps,i=r.id,a=r.onPostCommit,o=su(),s=null===t.alternate?"mount":"update";ou()&&(s="nested-update"),"function"==typeof a&&a(i,s,n,o);var l=t.return;e:for(;null!==l;){switch(l.tag){case 3:case g:l.stateNode.passiveEffectDuration+=n;break e}l=l.return}}}function _h(e,t,n,r){if(0!==(n.flags&se))switch(n.tag){case 0:case p:case y:if(!ah)if(2&n.mode)try{pu(),wh(5,n)}finally{du(n)}else wh(5,n);break;case 1:var i=n.stateNode;if(4&n.flags&&!ah)if(null===t)if(n.type!==n.elementType||Zu||(i.props!==n.memoizedProps&&l("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",W(n)||"instance"),i.state!==n.memoizedState&&l("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",W(n)||"instance")),2&n.mode)try{pu(),i.componentDidMount()}finally{du(n)}else i.componentDidMount();else{var a=n.elementType===n.type?t.memoizedProps:vu(n.type,t.memoizedProps),o=t.memoizedState;if(n.type!==n.elementType||Zu||(i.props!==n.memoizedProps&&l("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",W(n)||"instance"),i.state!==n.memoizedState&&l("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",W(n)||"instance")),2&n.mode)try{pu(),i.componentDidUpdate(a,o,i.__reactInternalSnapshotBeforeUpdate)}finally{du(n)}else i.componentDidUpdate(a,o,i.__reactInternalSnapshotBeforeUpdate)}var s=n.updateQueue;null!==s&&(n.type!==n.elementType||Zu||(i.props!==n.memoizedProps&&l("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",W(n)||"instance"),i.state!==n.memoizedState&&l("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",W(n)||"instance")),Jo(0,s,i));break;case 3:var u=n.updateQueue;if(null!==u){var c=null;if(null!==n.child)switch(n.child.tag){case 5:c=Te(n.child.stateNode);break;case 1:c=n.child.stateNode}Jo(0,u,c)}break;case 5:var h=n.stateNode;if(null===t&&4&n.flags){var d=n.type,f=n.memoizedProps;ut(h,d,f,n)}break;case 6:case 4:break;case g:var v=n.memoizedProps,C=v.onCommit,k=v.onRender,P=n.stateNode.effectDuration,T=su(),E=null===t?"mount":"update";ou()&&(E="nested-update"),"function"==typeof k&&k(n.memoizedProps.id,E,n.actualDuration,n.treeBaseDuration,n.actualStartTime,T),"function"==typeof C&&C(n.memoizedProps.id,E,P,T),M=n,sf.push(M),rf||(rf=!0,lp(di,function(){return jf(),null}));var R=n.return;e:for(;null!==R;){switch(R.tag){case 3:case g:R.stateNode.effectDuration+=P;break e}R=R.return}break;case m:!function(e,t){if(Ye&&null===t.memoizedState){var n=t.alternate;if(null!==n){var r=n.memoizedState;if(null!==r){var i=r.dehydrated;null!==i&&jt(i)}}}}(0,n);break;case w:case b:case S:case _:case x:case 25:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}var M;ah||n.flags&q&&Ch(n)}function xh(e){switch(e.tag){case 0:case p:case y:if(2&e.mode)try{pu(),hh(e,e.return)}finally{du(e)}else hh(e,e.return);break;case 1:var t=e.stateNode;"function"==typeof t.componentDidMount&&function(e,t,n){try{n.componentDidMount()}catch(n){Xf(e,t,n)}}(e,e.return,t),fh(e,e.return);break;case 5:fh(e,e.return)}}function Ch(e){var t=e.ref;if(null!==t){var n,r=e.stateNode;if(n=5===e.tag?Te(r):r,"function"==typeof t){var i;if(2&e.mode)try{pu(),i=t(n)}finally{du(e)}else i=t(n);"function"==typeof i&&l("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",W(e))}else t.hasOwnProperty("current")||l("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",W(e)),t.current=n}}function kh(e){var t=e.alternate;if(null!==t&&(e.alternate=null,kh(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag){var n=e.stateNode;null!==n&&Qe(n)}e.stateNode=null,e._debugOwner=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ph(e){return 5===e.tag||3===e.tag||4===e.tag}function Th(e){var t=e;e:for(;;){for(;null===t.sibling;){if(null===t.return||Ph(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue e;if(null===t.child||4===t.tag)continue e;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function Eh(e){if(He){var t=function(e){for(var t=e.return;null!==t;){if(Ph(t))return t;t=t.return}throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}(e);switch(t.tag){case 5:var n=t.stateNode;32&t.flags&&(gt(n),t.flags&=-33),Mh(e,Th(e),n);break;case 3:case 4:var r=t.stateNode.containerInfo;Rh(e,Th(e),r);break;default:throw new Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}}function Rh(e,t,n){var r=e.tag;if(5===r||6===r){var i=e.stateNode;t?dt(n,i,t):st(n,i)}else if(4===r);else{var a=e.child;if(null!==a){Rh(a,t,n);for(var o=a.sibling;null!==o;)Rh(o,t,n),o=o.sibling}}}function Mh(e,t,n){var r=e.tag;if(5===r||6===r){var i=e.stateNode;t?ht(n,i,t):ot(n,i)}else if(4===r);else{var a=e.child;if(null!==a){Mh(a,t,n);for(var o=a.sibling;null!==o;)Mh(o,t,n),o=o.sibling}}}var Dh=null,Ah=!1;function Ih(e,t,n){if(He){var r=t;e:for(;null!==r;){switch(r.tag){case 5:Dh=r.stateNode,Ah=!1;break e;case 3:case 4:Dh=r.stateNode.containerInfo,Ah=!0;break e}r=r.return}if(null===Dh)throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");Nh(e,t,n),Dh=null,Ah=!1}else Nh(e,t,n);var i,a;null!==(a=(i=n).alternate)&&(a.return=null),i.return=null}function Lh(e,t,n){for(var r=n.child;null!==r;)Nh(e,t,r),r=r.sibling}function Nh(e,t,n){switch(function(e){if(vi&&"function"==typeof vi.onCommitFiberUnmount)try{vi.onCommitFiberUnmount(mi,e)}catch(e){bi||(bi=!0,l("React instrumentation encountered an error: %s",e))}}(n),n.tag){case 5:ah||ph(n,t);case 6:if(He){var r=Dh,i=Ah;Dh=null,Lh(e,t,n),Ah=i,null!==(Dh=r)&&(Ah?pt(Dh,n.stateNode):ft(Dh,n.stateNode))}else Lh(e,t,n);return;case 18:return void(He&&null!==Dh&&(Ah?qt(Dh,n.stateNode):Yt(Dh,n.stateNode)));case 4:if(He){var a=Dh,o=Ah;Dh=n.stateNode.containerInfo,Ah=!0,Lh(e,t,n),Dh=a,Ah=o}else!function(e){if(je){var t=e.stateNode.containerInfo,n=_t(t);kt(t,n)}}(n),Lh(e,t,n);return;case 0:case p:case v:case y:if(!ah){var s=n.updateQueue;if(null!==s){var u=s.lastEffect;if(null!==u){var c=u.next,h=c;do{var d=h,f=d.destroy,g=d.tag;void 0!==f&&(2&g?gh(n,t,f):4&g&&(Ii(n),2&n.mode?(pu(),gh(n,t,f),du(n)):gh(n,t,f),Li())),h=h.next}while(h!==c)}}}return void Lh(e,t,n);case 1:if(!ah){ph(n,t);var m=n.stateNode;"function"==typeof m.componentWillUnmount&&dh(n,t,m)}return void Lh(e,t,n);case S:return void Lh(e,t,n);case _:if(1&n.mode){var b=ah;ah=b||null!==n.memoizedState,Lh(e,t,n),ah=b}else Lh(e,t,n);break;default:return void Lh(e,t,n)}}function zh(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new oh),t.forEach(function(t){var r=Jf.bind(null,e,t);if(!n.has(t)){if(n.add(t),wi){if(null===lh||null===uh)throw Error("Expected finished root and lanes to be set. This is a bug in React.");op(uh,lh)}t.then(r,r)}})}}function Fh(e,t,n){var r=t.deletions;if(null!==r)for(var i=0;i<r.length;i++){var a=r[i];try{Ih(e,t,a)}catch(e){Xf(a,t,e)}}var o=Na;if(t.subtreeFlags&oe)for(var s=t.child;null!==s;)Ga(s),Oh(s,e),s=s.sibling;Ga(o)}function Oh(e,t,n){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case p:case v:case y:if(Fh(t,e),Gh(e),4&i){try{bh(3,e,e.return),wh(3,e)}catch(t){Xf(e,e.return,t)}if(2&e.mode){try{pu(),bh(5,e,e.return)}catch(t){Xf(e,e.return,t)}du(e)}else try{bh(5,e,e.return)}catch(t){Xf(e,e.return,t)}}return;case 1:return Fh(t,e),Gh(e),void(i&q&&null!==r&&ph(r,r.return));case 5:if(Fh(t,e),Gh(e),i&q&&null!==r&&ph(r,r.return),He){if(32&e.flags){var a=e.stateNode;try{gt(a)}catch(t){Xf(e,e.return,t)}}if(4&i){var o=e.stateNode;if(null!=o){var s=e.memoizedProps,l=null!==r?r.memoizedProps:s,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{ct(o,c,u,l,s,e)}catch(t){Xf(e,e.return,t)}}}}return;case 6:if(Fh(t,e),Gh(e),4&i&&He){if(null===e.stateNode)throw new Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var h=e.stateNode,d=e.memoizedProps,f=null!==r?r.memoizedProps:d;try{lt(h,f,d)}catch(t){Xf(e,e.return,t)}}return;case 3:if(Fh(t,e),Gh(e),4&i){if(He&&Ye&&null!==r&&r.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(t){Xf(e,e.return,t)}if(je){var g=t.containerInfo,b=t.pendingChildren;try{kt(g,b)}catch(t){Xf(e,e.return,t)}}}return;case 4:if(Fh(t,e),Gh(e),4&i&&je){var C=e.stateNode,k=C.containerInfo,P=C.pendingChildren;try{kt(k,P)}catch(t){Xf(e,e.return,t)}}return;case m:Fh(t,e),Gh(e);var T=e.child;if(T.flags&$){var E=T.stateNode,R=null!==T.memoizedState;E.isHidden=R,R&&(null!==T.alternate&&null!==T.alternate.memoizedState||(Vd=ui()))}if(4&i){try{!function(e){e.memoizedState}(e)}catch(t){Xf(e,e.return,t)}zh(e)}return;case _:var M=null!==r&&null!==r.memoizedState;if(1&e.mode){var D=ah;ah=D||M,Fh(t,e),ah=D}else Fh(t,e);if(Gh(e),i&$){var A=e.stateNode,I=null!==e.memoizedState,L=e;if(A.isHidden=I,I&&!M&&1&L.mode){sh=L;for(var N=L.child;null!==N;)sh=N,Hh(N),N=N.sibling}He&&function(e,t){var n=null;if(He)for(var r=e;;){if(5===r.tag){if(null===n){n=r;try{var i=r.stateNode;t?mt(i):yt(r.stateNode,r.memoizedProps)}catch(t){Xf(e,e.return,t)}}}else if(6===r.tag){if(null===n)try{var a=r.stateNode;t?vt(a):bt(a,r.memoizedProps)}catch(t){Xf(e,e.return,t)}}else if((r.tag!==_&&r.tag!==x||null===r.memoizedState||r===e)&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)return;for(;null===r.sibling;){if(null===r.return||r.return===e)return;n===r&&(n=null),r=r.return}n===r&&(n=null),r.sibling.return=r.return,r=r.sibling}}(L,I)}return;case w:return Fh(t,e),Gh(e),void(4&i&&zh(e));case S:return;default:return Fh(t,e),void Gh(e)}}function Gh(e){var t=e.flags;if(2&t){try{Eh(e)}catch(t){Xf(e,e.return,t)}e.flags&=-3}t&Q&&(e.flags&=-4097)}function Bh(e,t,n){lh=n,uh=t,sh=e,Uh(e,t,n),lh=null,uh=null}function Uh(e,t,n){for(var r=!!(1&e.mode);null!==sh;){var i=sh,a=i.child;if(i.tag===_&&r){var o=null!==i.memoizedState||ih;if(o){Wh(e);continue}var s=i.alternate,l=null!==s&&null!==s.memoizedState,u=ih,c=ah;ih=o,(ah=l||ah)&&!c&&(sh=i,Yh(i));for(var h=a;null!==h;)sh=h,Uh(h,t,n),h=h.sibling;sh=i,ih=u,ah=c,Wh(e)}else 0!==(i.subtreeFlags&se)&&null!==a?(a.return=i,sh=a):Wh(e)}}function Wh(e,t,n){for(;null!==sh;){var r=sh;if(0!==(r.flags&se)){var i=r.alternate;Ga(r);try{_h(0,i,r)}catch(e){Xf(r,r.return,e)}Oa()}if(r===e)return void(sh=null);var a=r.sibling;if(null!==a)return a.return=r.return,void(sh=a);sh=r.return}}function Hh(e){for(;null!==sh;){var t=sh,n=t.child;switch(t.tag){case 0:case p:case v:case y:if(2&t.mode)try{pu(),bh(4,t,t.return)}finally{du(t)}else bh(4,t,t.return);break;case 1:ph(t,t.return);var r=t.stateNode;"function"==typeof r.componentWillUnmount&&dh(t,t.return,r);break;case 5:ph(t,t.return);break;case _:if(null!==t.memoizedState){jh(e);continue}}null!==n?(n.return=t,sh=n):jh(e)}}function jh(e){for(;null!==sh;){var t=sh;if(t===e)return void(sh=null);var n=t.sibling;if(null!==n)return n.return=t.return,void(sh=n);sh=t.return}}function Yh(e){for(;null!==sh;){var t=sh,n=t.child;t.tag!==_||null===t.memoizedState?null!==n?(n.return=t,sh=n):qh(e):qh(e)}}function qh(e){for(;null!==sh;){var t=sh;Ga(t);try{xh(t)}catch(e){Xf(t,t.return,e)}if(Oa(),t===e)return void(sh=null);var n=t.sibling;if(null!==n)return n.return=t.return,void(sh=n);sh=t.return}}function Vh(e,t,n,r){for(;null!==sh;){var i=sh;if(0!==(i.flags&X)){Ga(i);try{Xh(0,i)}catch(e){Xf(i,i.return,e)}Oa()}if(i===e)return void(sh=null);var a=i.sibling;if(null!==a)return a.return=i.return,void(sh=a);sh=i.return}}function Xh(e,t,n,r){switch(t.tag){case 0:case p:case y:if(2&t.mode){gu();try{wh(9,t)}finally{fu(t)}}else wh(9,t)}}function Qh(){for(;null!==sh;){var e=sh;0!==(e.flags&X)&&(Ga(e),$h(e),Oa());var t=e.sibling;if(null!==t)return t.return=e.return,void(sh=t);sh=e.return}}function $h(e){switch(e.tag){case 0:case p:case y:2&e.mode?(gu(),bh(9,e,e.return),fu(e)):bh(9,e,e.return)}}function Kh(e,t){for(;null!==sh;){var n=sh;Ga(n),Zh(n,t),Oa();var r=n.child;null!==r?(r.return=n,sh=r):Jh(e)}}function Jh(e){for(;null!==sh;){var t=sh,n=t.sibling,r=t.return;if(kh(t),t===e)return void(sh=null);if(null!==n)return n.return=r,void(sh=n);sh=r}}function Zh(e,t){switch(e.tag){case 0:case p:case y:2&e.mode?(gu(),bh(8,e,t),fu(e)):bh(8,e,t)}}function ed(e){switch(e.tag){case 0:case p:case y:try{wh(5,e)}catch(t){Xf(e,e.return,t)}break;case 1:var t=e.stateNode;try{t.componentDidMount()}catch(t){Xf(e,e.return,t)}}}function td(e){switch(e.tag){case 0:case p:case y:try{wh(9,e)}catch(t){Xf(e,e.return,t)}}}function nd(e){switch(e.tag){case 0:case p:case y:try{bh(5,e,e.return)}catch(t){Xf(e,e.return,t)}break;case 1:var t=e.stateNode;"function"==typeof t.componentWillUnmount&&dh(e,e.return,t)}}function rd(e){switch(e.tag){case 0:case p:case y:try{bh(9,e,e.return)}catch(t){Xf(e,e.return,t)}}}var id=0,ad=1,od=2,sd=3,ld=4;if("function"==typeof Symbol&&Symbol.for){var ud=Symbol.for;id=ud("selector.component"),ad=ud("selector.has_pseudo_class"),od=ud("selector.role"),sd=ud("selector.test_id"),ld=ud("selector.text")}function cd(e){var t=qe(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw new Error("Invalid host root specified. Should be either a React container or a node with a testname attribute.");return t}var n=Ze(e);if(null===n)throw new Error("Could not find React container within specified host subtree.");return n.stateNode.current}function hd(e,t){switch(t.$$typeof){case id:if(e.type===t.value)return!0;break;case ad:return function(e,t){for(var n=[e,0],r=0;r<n.length;){var i=n[r++],a=n[r++],o=t[a];if(5!==i.tag||!nt(i)){for(;null!=o&&hd(i,o);)o=t[++a];if(a===t.length)return!0;for(var s=i.child;null!==s;)n.push(s,a),s=s.sibling}}return!1}(e,t.value);case od:if(5===e.tag){var n=e.stateNode;if(rt(n,t.value))return!0}break;case ld:if(5===e.tag||6===e.tag){var r=tt(e);if(null!==r&&r.indexOf(t.value)>=0)return!0}break;case sd:if(5===e.tag){var i=e.memoizedProps["data-testname"];if("string"==typeof i&&i.toLowerCase()===t.value.toLowerCase())return!0}break;default:throw new Error("Invalid selector type specified.")}return!1}function dd(e){switch(e.$$typeof){case id:return"<"+(B(e.value)||"Unknown")+">";case ad:return":has("+(dd(e)||"")+")";case od:return'[role="'+e.value+'"]';case ld:return'"'+e.value+'"';case sd:return'[data-testname="'+e.value+'"]';default:throw new Error("Invalid selector type specified.")}}function fd(e,t){for(var n=[],r=[e,0],i=0;i<r.length;){var a=r[i++],o=r[i++],s=t[o];if(5!==a.tag||!nt(a)){for(;null!=s&&hd(a,s);)s=t[++o];if(o===t.length)n.push(a);else for(var l=a.child;null!==l;)r.push(l,o),l=l.sibling}}return n}function pd(e,t){if(!Je)throw new Error("Test selector API is not supported by this renderer.");for(var n=fd(cd(e),t),r=[],i=Array.from(n),a=0;a<i.length;){var o=i[a++];if(5===o.tag){if(nt(o))continue;r.push(o.stateNode)}else for(var s=o.child;null!==s;)i.push(s),s=s.sibling}return r}var gd=[],md=a.ReactCurrentActQueue;function vd(){var e="undefined"!=typeof IS_REACT_ACT_ENVIRONMENT?IS_REACT_ACT_ENVIRONMENT:void 0;return e||null===md.current||l("The current testing environment is not configured to support act(...)"),e}var yd=Math.ceil,bd=a.ReactCurrentDispatcher,wd=a.ReactCurrentOwner,Sd=a.ReactCurrentBatchConfig,_d=a.ReactCurrentActQueue,xd=0,Cd=2,kd=4,Pd=0,Td=1,Ed=2,Rd=3,Md=4,Dd=5,Ad=6,Id=xd,Ld=null,Nd=null,zd=0,Fd=0,Od=Mn(0),Gd=Pd,Bd=null,Ud=0,Wd=0,Hd=0,jd=0,Yd=null,qd=null,Vd=0,Xd=500,Qd=1/0,$d=500,Kd=null;function Jd(){Qd=ui()+$d}function Zd(){return Qd}var ef=!1,tf=null,nf=null,rf=!1,af=null,of=0,sf=[],lf=50,uf=0,cf=null,hf=!1,df=!1,ff=50,pf=0,gf=null,mf=kr,vf=0,yf=!1;function bf(){return Ld}function wf(){return(Id&(Cd|kd))!==xd?ui():mf!==kr?mf:mf=ui()}function Sf(e){if(!(1&e.mode))return 1;if((Id&Cd)!==xd&&0!==zd)return Or(zd);if(null!==Ma.transition){if(null!==Sd.transition){var t=Sd.transition;t._updatedFibers||(t._updatedFibers=new Set),t._updatedFibers.add(e)}return 0===vf&&(vf=zr()),vf}var n=ti();return 0!==n?n:Xe()}function _f(e,t,n,r){!function(){if(uf>lf)throw uf=0,cf=null,new Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");pf>ff&&(pf=0,gf=null,l("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render."))}(),yf&&l("useInsertionEffect must not schedule updates."),hf&&(df=!0),Vr(e,n,r),0!==(Id&Cd)&&e===Ld?function(e){if(za&&!Ll)switch(e.tag){case 0:case p:case y:var t=Nd&&W(Nd)||"Unknown",n=t;ip.has(n)||(ip.add(n),l("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render",W(e)||"Unknown",t,t));break;case 1:ap||(l("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),ap=!0)}}(t):(wi&&$r(e,t,n),function(e){if(1&e.mode){if(!vd())return}else{if(t="undefined"!=typeof IS_REACT_ACT_ENVIRONMENT?IS_REACT_ACT_ENVIRONMENT:void 0,n="undefined"!=typeof jest,!We||!n||!1===t)return;if(Id!==xd)return;if(0!==e.tag&&e.tag!==p&&e.tag!==y)return}var t,n;if(null===_d.current){var r=Na;try{Ga(e),l("An update to %s inside a test was not wrapped in act(...).\n\nWhen testing, code that causes React state updates should be wrapped into act(...):\n\nact(() => {\n  /* fire events that update state */\n});\n/* assert on the output */\n\nThis ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act",W(e))}finally{r?Ga(e):Oa()}}}(t),e===Ld&&((Id&Cd)===xd&&(Hd=Hr(Hd,n)),Gd===Md&&Tf(e,zd)),xf(e,r),1!==n||Id!==xd||1&t.mode||_d.isBatchingLegacy||(Jd(),Yi()))}function xf(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.pendingLanes,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,o=n;o>0;){var s=Gr(o),l=1<<s,u=a[s];u===kr?0!==(l&r)&&0===(l&i)||(a[s]=Mr(l,t)):u<=t&&(e.expiredLanes|=l),o&=~l}}(e,t);var r=Rr(e,e===Ld?zd:0);if(0===r)return null!==n&&up(n),e.callbackNode=null,void(e.callbackPriority=0);var i=Fr(r),a=e.callbackPriority;if(a!==i||null!==_d.current&&n!==sp){var o,s;if(null!=n&&up(n),1===i)0===e.tag?(null!==_d.isBatchingLegacy&&(_d.didScheduleLegacyUpdate=!0),s=Ef.bind(null,e),Wi=!0,ji(s)):ji(Ef.bind(null,e)),$e?null!==_d.current?_d.current.push(qi):Ke(function(){(Id&(Cd|kd))===xd&&qi()}):lp(ci,qi),o=null;else{var u;switch(ii(r)){case 1:u=ci;break;case 4:u=hi;break;case Jr:u=di;break;case Zr:u=fi;break;default:u=di}o=lp(u,Cf.bind(null,e))}e.callbackPriority=i,e.callbackNode=o}else null==n&&1!==a&&l("Expected scheduled callback to exist. This error is likely caused by a bug in React. Please file an issue.")}function Cf(e,t){if(iu=!1,au=!1,mf=kr,vf=0,(Id&(Cd|kd))!==xd)throw new Error("Should not already be working.");var n=e.callbackNode;if(jf()&&e.callbackNode!==n)return null;var r=Rr(e,e===Ld?zd:0);if(0===r)return null;var i=!Lr(0,r)&&!function(e,t){return 0!==(t&e.expiredLanes)}(e,r)&&!t,a=i?function(e,t){var n=Id;Id|=Cd;var r=Lf();if(Ld!==e||zd!==t){if(wi){var i=e.memoizedUpdaters;i.size>0&&(op(e,zd),i.clear()),Kr(e,t)}Kd=null,Jd(),Af(e,t)}for(Fi(t);;)try{Bf();break}catch(t){If(e,t)}return _o(),Nf(r),Id=n,null!==Nd?(null!==yi&&"function"==typeof yi.markRenderYielded&&yi.markRenderYielded(),Pd):(Oi(),Ld=null,zd=0,Gd)}(e,r):Of(e,r);if(a!==Pd){if(a===Ed){var o=Dr(e);0!==o&&(r=o,a=kf(e,o))}if(a===Td){var s=Bd;throw Af(e,0),Tf(e,r),xf(e,ui()),s}if(a===Ad)Tf(e,r);else{var l=!Lr(0,r),u=e.current.alternate;if(l&&!function(e){for(var t=e;;){if(t.flags&K){var n=t.updateQueue;if(null!==n){var r=n.stores;if(null!==r)for(var i=0;i<r.length;i++){var a=r[i],o=a.getSnapshot,s=a.value;try{if(!Bi(o(),s))return!1}catch(e){return!1}}}}var l=t.child;if(t.subtreeFlags&K&&null!==l)l.return=t,t=l;else{if(t===e)return!0;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(u)){if((a=Of(e,r))===Ed){var c=Dr(e);0!==c&&(r=c,a=kf(e,c))}if(a===Td){var h=Bd;throw Af(e,0),Tf(e,r),xf(e,ui()),h}}e.finishedWork=u,e.finishedLanes=r,function(e,t,n){switch(t){case Pd:case Td:throw new Error("Root did not complete. This is a bug in React.");case Ed:Hf(e,qd,Kd);break;case Rd:if(Tf(e,n),Ir(n)&&!cp()){var r=Vd+Xd-ui();if(r>10){if(0!==Rr(e,0))break;var i=e.suspendedLanes;if(!Wr(i,n)){wf(),Xr(e,i);break}e.timeoutHandle=Oe(Hf.bind(null,e,qd,Kd),r);break}}Hf(e,qd,Kd);break;case Md:if(Tf(e,n),function(e){return(e&Zn)===e}(n))break;if(!cp()){var a=function(e,t){for(var n=e.eventTimes,r=kr;t>0;){var i=Gr(t),a=1<<i,o=n[i];o>r&&(r=o),t&=~a}return r}(e,n),o=a,s=ui()-o,l=((u=s)<120?120:u<480?480:u<1080?1080:u<1920?1920:u<3e3?3e3:u<4320?4320:1960*yd(u/1960))-s;if(l>10){e.timeoutHandle=Oe(Hf.bind(null,e,qd,Kd),l);break}}Hf(e,qd,Kd);break;case Dd:Hf(e,qd,Kd);break;default:throw new Error("Unknown root exit status.")}var u}(e,a,r)}}return xf(e,ui()),e.callbackNode===n?Cf.bind(null,e):null}function kf(e,t){var n=Yd;Vi(e)&&(Af(e,t).flags|=Y,un(e.containerInfo));var r=Of(e,t);if(r!==Ed){var i=qd;qd=n,null!==i&&Pf(i)}return r}function Pf(e){null===qd?qd=e:qd.push.apply(qd,e)}function Tf(e,t){t=jr(t,jd),function(e,t){e.suspendedLanes|=t,e.pingedLanes&=~t;for(var n=e.expirationTimes,r=t;r>0;){var i=Gr(r),a=1<<i;n[i]=kr,r&=~a}}(e,t=jr(t,Hd))}function Ef(e){if(iu=au,au=!1,(Id&(Cd|kd))!==xd)throw new Error("Should not already be working.");jf();var t=Rr(e,0);if(!Ur(t,1))return xf(e,ui()),null;var n=Of(e,t);if(0!==e.tag&&n===Ed){var r=Dr(e);0!==r&&(t=r,n=kf(e,r))}if(n===Td){var i=Bd;throw Af(e,0),Tf(e,t),xf(e,ui()),i}if(n===Ad)throw new Error("Root did not complete. This is a bug in React.");var a=e.current.alternate;return e.finishedWork=a,e.finishedLanes=t,Hf(e,qd,Kd),xf(e,ui()),null}function Rf(e){null!==af&&0===af.tag&&(Id&(Cd|kd))===xd&&jf();var t=Id;Id|=1;var n=Sd.transition,r=ti();try{return Sd.transition=null,ni(1),e?e():void 0}finally{ni(r),Sd.transition=n,((Id=t)&(Cd|kd))===xd&&qi()}}function Mf(e,t){An(Od,Fd,e),Fd=Hr(Fd,t),Ud=Hr(Ud,t)}function Df(e){Fd=Od.current,Dn(Od,e)}function Af(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==Be&&(e.timeoutHandle=Be,Ge(n)),null!==Nd)for(var r=Nd.return;null!==r;)r.alternate,Vc(0,r),r=r.return;Ld=e;var i=Ap(e.current,null);return Nd=i,zd=Fd=Ud=t,Gd=Pd,Bd=null,Wd=0,Hd=0,jd=0,Yd=null,qd=null,function(){if(null!==Mo){for(var e=0;e<Mo.length;e++){var t=Mo[e],n=t.interleaved;if(null!==n){t.interleaved=null;var r=n.next,i=t.pending;if(null!==i){var a=i.next;i.next=r,n.next=a}t.pending=n}}Mo=null}}(),Ua.discardPendingWarnings(),i}function If(e,t){for(;;){var n=Nd;try{if(_o(),js(),Oa(),wd.current=null,null===n||null===n.return)return Gd=Td,Bd=t,void(Nd=null);2&n.mode&&hu(n,!0),Pi(),null!==t&&"object"==typeof t&&"function"==typeof t.then?zi(n,t,zd):Ni(n,t,zd),Vu(e,n.return,n,t,zd),Wf(n)}catch(e){t=e,Nd===n&&null!==n?(n=n.return,Nd=n):n=Nd;continue}return}}function Lf(){var e=bd.current;return bd.current=Hl,null===e?Hl:e}function Nf(e){bd.current=e}function zf(e){Wd=Hr(e,Wd)}function Ff(){Gd!==Pd&&Gd!==Rd&&Gd!==Ed||(Gd=Md),null!==Ld&&(Ar(Wd)||Ar(Hd))&&Tf(Ld,zd)}function Of(e,t){var n=Id;Id|=Cd;var r=Lf();if(Ld!==e||zd!==t){if(wi){var i=e.memoizedUpdaters;i.size>0&&(op(e,zd),i.clear()),Kr(e,t)}Kd=null,Af(e,t)}for(Fi(t);;)try{Gf();break}catch(t){If(e,t)}if(_o(),Id=n,Nf(r),null!==Nd)throw new Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return Oi(),Ld=null,zd=0,Gd}function Gf(){for(;null!==Nd;)Uf(Nd)}function Bf(){for(;null!==Nd&&!si();)Uf(Nd)}function Uf(e){var t,n=e.alternate;Ga(e),2&e.mode?(uu(e),t=tp(n,e,Fd),hu(e,!0)):t=tp(n,e,Fd),Oa(),e.memoizedProps=e.pendingProps,null===t?Wf(e):Nd=t,wd.current=null}function Wf(e){var t=e;do{var n=t.alternate,r=t.return;if(0===(t.flags&J)){Ga(t);var i=void 0;if(2&t.mode?(uu(t),i=Yc(n,t,Fd),hu(t,!1)):i=Yc(n,t,Fd),Oa(),null!==i)return void(Nd=i)}else{var a=qc(0,t);if(null!==a)return a.flags&=32767,void(Nd=a);if(2&t.mode){hu(t,!1);for(var o=t.actualDuration,s=t.child;null!==s;)o+=s.actualDuration,s=s.sibling;t.actualDuration=o}if(null===r)return Gd=Ad,void(Nd=null);r.flags|=J,r.subtreeFlags=0,r.deletions=null}var l=t.sibling;if(null!==l)return void(Nd=l);Nd=t=r}while(null!==t);Gd===Pd&&(Gd=Dd)}function Hf(e,t,n){var r=ti(),i=Sd.transition;try{Sd.transition=null,ni(1),function(e,t,n,r){do{jf()}while(null!==af);if(Ua.flushLegacyContextWarning(),Ua.flushPendingUnsafeLifecycleWarnings(),(Id&(Cd|kd))!==xd)throw new Error("Should not already be working.");var i=e.finishedWork,a=e.finishedLanes;if(function(e){null!==yi&&"function"==typeof yi.markCommitStarted&&yi.markCommitStarted(e)}(a),null===i)return Ci(),null;if(0===a&&l("root.finishedLanes should not be empty during a commit. This is a bug in React."),e.finishedWork=null,e.finishedLanes=0,i===e.current)throw new Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");e.callbackNode=null,e.callbackPriority=0;var o=Hr(i.lanes,i.childLanes);(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t;for(var r=e.entanglements,i=e.eventTimes,a=e.expirationTimes,o=n;o>0;){var s=Gr(o),l=1<<s;r[s]=0,i[s]=kr,a[s]=kr,o&=~l}})(e,o),e===Ld&&(Ld=null,Nd=null,zd=0),0===(i.subtreeFlags&le)&&0===(i.flags&le)||rf||(rf=!0,lp(di,function(){return jf(),null}));var s=!!(15990&i.subtreeFlags),u=!!(15990&i.flags);if(s||u){var c=Sd.transition;Sd.transition=null;var h=ti();ni(1);var d=Id;Id|=kd,wd.current=null,function(e,t){Me(e.containerInfo),sh=t,function(){for(;null!==sh;){var e=sh,t=e.child;1028&e.subtreeFlags&&null!==t?(t.return=e,sh=t):vh()}}();var n=mh;mh=!1}(e,i),lu(),function(e,t,n){lh=n,uh=e,Ga(t),Oh(t,e),Ga(t),lh=null,uh=null}(e,i,a),De(e.containerInfo),e.current=i,function(e){null!==yi&&"function"==typeof yi.markLayoutEffectsStarted&&yi.markLayoutEffectsStarted(e)}(a),Bh(i,e,a),null!==yi&&"function"==typeof yi.markLayoutEffectsStopped&&yi.markLayoutEffectsStopped(),li(),Id=d,ni(h),Sd.transition=c}else e.current=i,lu();var f=rf;if(rf?(rf=!1,af=e,of=a):(pf=0,gf=null),0===(o=e.pendingLanes)&&(nf=null),f||Zf(e.current,!1),function(e,t){if(vi&&"function"==typeof vi.onCommitFiberRoot)try{var n,r=(e.current.flags&j)===j;switch(t){case 1:n=ci;break;case 4:n=hi;break;case Jr:n=di;break;case Zr:n=fi;break;default:n=di}vi.onCommitFiberRoot(mi,e,n,r)}catch(e){bi||(bi=!0,l("React instrumentation encountered an error: %s",e))}}(i.stateNode,r),wi&&e.memoizedUpdaters.clear(),Je&&gd.forEach(function(e){return e()}),xf(e,ui()),null!==t)for(var p=e.onRecoverableError,g=0;g<t.length;g++){var m=t[g],v=m.stack,y=m.digest;p(m.value,{componentStack:v,digest:y})}if(ef){ef=!1;var b=tf;throw tf=null,b}Ur(of,1)&&0!==e.tag&&jf(),Ur(o=e.pendingLanes,1)?(au=!0,e===cf?uf++:(uf=0,cf=e)):uf=0,qi(),Ci()}(e,t,n,r)}finally{Sd.transition=i,ni(r)}return null}function jf(){if(null!==af){var e=(r=ii(of),0===Jr||16>r?16:r),t=Sd.transition,n=ti();try{return Sd.transition=null,ni(e),function(){if(null===af)return!1;0;var e=af,t=of;if(af=null,of=0,(Id&(Cd|kd))!==xd)throw new Error("Cannot flush passive effects while already rendering.");hf=!0,df=!1,function(e){null!==yi&&"function"==typeof yi.markPassiveEffectsStarted&&yi.markPassiveEffectsStarted(e)}(t);var n,r,i=Id;Id|=kd,r=e.current,sh=r,function(){for(;null!==sh;){var e=sh,t=e.child;if(0!==(sh.flags&H)){var n=e.deletions;if(null!==n){for(var r=0;r<n.length;r++){var i=n[r];sh=i,Kh(i,e)}var a=e.alternate;if(null!==a){var o=a.child;if(null!==o){a.child=null;do{var s=o.sibling;o.sibling=null,o=s}while(null!==o)}}sh=e}}0!==(e.subtreeFlags&le)&&null!==t?(t.return=e,sh=t):Qh()}}(),n=e.current,sh=n,function(e){for(;null!==sh;){var t=sh,n=t.child;0!==(t.subtreeFlags&le)&&null!==n?(n.return=t,sh=n):Vh(e)}}(n);var a=sf;sf=[];for(var o=0;o<a.length;o++)Sh(0,a[o]);null!==yi&&"function"==typeof yi.markPassiveEffectsStopped&&yi.markPassiveEffectsStopped(),Zf(e.current,!0),Id=i,qi(),df?e===gf?pf++:(pf=0,gf=e):pf=0,hf=!1,df=!1,function(e){if(vi&&"function"==typeof vi.onPostCommitFiberRoot)try{vi.onPostCommitFiberRoot(mi,e)}catch(e){bi||(bi=!0,l("React instrumentation encountered an error: %s",e))}}(e);var s=e.current.stateNode;return s.effectDuration=0,s.passiveEffectDuration=0,!0}()}finally{ni(n),Sd.transition=t}}var r;return!1}function Yf(e){return null!==nf&&nf.has(e)}var qf=function(e){ef||(ef=!0,tf=e)};function Vf(e,t,n){var r=jo(e,Wu(e,Ou(n,t),1),1),i=wf();null!==r&&(Vr(r,1,i),xf(r,i))}function Xf(e,t,n){if(function(e){th(null,function(){throw e}),nh()}(n),hp(!1),3!==e.tag){var r=null;for(r=t;null!==r;){if(3===r.tag)return void Vf(r,e,n);if(1===r.tag){var i=r.type,a=r.stateNode;if("function"==typeof i.getDerivedStateFromError||"function"==typeof a.componentDidCatch&&!Yf(a)){var o=jo(r,Hu(r,Ou(n,e),1),1),s=wf();return void(null!==o&&(Vr(o,1,s),xf(o,s)))}}r=r.return}l("Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Likely causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.\n\nError message:\n\n%s",n)}else Vf(e,e,n)}function Qf(e,t,n){var r=e.pingCache;null!==r&&r.delete(t);var i=wf();Xr(e,n),function(e){0!==e.tag&&vd()&&null===_d.current&&l("A suspended resource finished loading inside a test, but the event was not wrapped in act(...).\n\nWhen testing, code that resolves suspended data should be wrapped into act(...):\n\nact(() => {\n  /* finish loading suspended data */\n});\n/* assert on the output */\n\nThis ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act")}(e),Ld===e&&Wr(zd,n)&&(Gd===Md||Gd===Rd&&Ir(zd)&&ui()-Vd<Xd?Af(e,0):jd=Hr(jd,n)),xf(e,i)}function $f(e,t){var n;0===t&&(t=1&e.mode?(n=Tr,!((Tr<<=1)&dr)&&(Tr=fr),n):1);var r=wf(),i=Io(e,t);null!==i&&(Vr(i,t,r),xf(i,r))}function Kf(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),$f(e,n)}function Jf(e,t){var n,r=0;switch(e.tag){case m:n=e.stateNode;var i=e.memoizedState;null!==i&&(r=i.retryLane);break;case w:n=e.stateNode;break;default:throw new Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}null!==n&&n.delete(t),$f(e,r)}function Zf(e,t){Ga(e),ep(e,ie,nd),t&&ep(e,ae,rd),ep(e,ie,ed),t&&ep(e,ae,td),Oa()}function ep(e,t,n){for(var r=e,i=null;null!==r;){var a=r.subtreeFlags&t;r!==i&&null!==r.child&&0!==a?r=r.child:(0!==(r.flags&t)&&n(r),r=null!==r.sibling?r.sibling:i=r.return)}}var tp,np=null;function rp(e){if((Id&Cd)===xd&&1&e.mode){var t=e.tag;if(2===t||3===t||1===t||0===t||t===p||t===v||t===y){var n=W(e)||"ReactComponent";if(null!==np){if(np.has(n))return;np.add(n)}else np=new Set([n]);var r=Na;try{Ga(e),l("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")}finally{r?Ga(e):Oa()}}}}tp=function(e,t,n){var r=Bp(null,t);try{return Oc(e,t,n)}catch(a){if(da||null!==a&&"object"==typeof a&&"function"==typeof a.then)throw a;if(_o(),js(),Vc(0,t),Bp(t,r),2&t.mode&&uu(t),th(null,Oc,null,e,t,n),Jc){var i=nh();"object"==typeof i&&null!==i&&i._suppressLogging&&"object"==typeof a&&null!==a&&!a._suppressLogging&&(a._suppressLogging=!0)}throw a}};var ip,ap=!1;function op(e,t){wi&&e.memoizedUpdaters.forEach(function(n){$r(e,n,t)})}ip=new Set;var sp={};function lp(e,t){var n=_d.current;return null!==n?(n.push(t),sp):ai(e,t)}function up(e){if(e!==sp)return oi(e)}function cp(){return null!==_d.current}function hp(e){yf=e}var dp=null,fp=null,pp=function(e){dp=e};function gp(e){if(null===dp)return e;var t=dp(e);return void 0===t?e:t.current}function mp(e){return gp(e)}function vp(e){if(null===dp)return e;var t=dp(e);if(void 0===t){if(null!=e&&"function"==typeof e.render){var n=gp(e.render);if(e.render!==n){var r={$$typeof:D,render:n};return void 0!==e.displayName&&(r.displayName=e.displayName),r}}return e}return t.current}function yp(e,t){if(null===dp)return!1;var n=e.elementType,r=t.type,i=!1,a="object"==typeof r&&null!==r?r.$$typeof:null;switch(e.tag){case 1:"function"==typeof r&&(i=!0);break;case 0:("function"==typeof r||a===N)&&(i=!0);break;case p:(a===D||a===N)&&(i=!0);break;case v:case y:(a===L||a===N)&&(i=!0);break;default:return!1}if(i){var o=dp(n);if(void 0!==o&&o===dp(r))return!0}return!1}function bp(e){null!==dp&&"function"==typeof WeakSet&&(null===fp&&(fp=new WeakSet),fp.add(e))}var wp=function(e,t){if(null!==dp){var n=t.staleFamilies,r=t.updatedFamilies;jf(),Rf(function(){_p(e.current,r,n)})}},Sp=function(e,t){e.context===In&&(jf(),Rf(function(){jp(t,e,null,null)}))};function _p(e,t,n){var r=e.alternate,i=e.child,a=e.sibling,o=e.tag,s=e.type,l=null;switch(o){case 0:case y:case 1:l=s;break;case p:l=s.render}if(null===dp)throw new Error("Expected resolveFamily to be set during hot reload.");var u=!1,c=!1;if(null!==l){var h=dp(l);void 0!==h&&(n.has(h)?c=!0:t.has(h)&&(1===o?c=!0:u=!0))}if(null!==fp&&(fp.has(e)||null!==r&&fp.has(r))&&(c=!0),c&&(e._debugNeedsRemount=!0),c||u){var d=Io(e,1);null!==d&&_f(d,e,1,kr)}null===i||c||_p(i,t,n),null!==a&&_p(a,t,n)}var xp,Cp=function(e,t){var n=new Set,r=new Set(t.map(function(e){return e.current}));return kp(e.current,r,n),n};function kp(e,t,n){var r=e.child,i=e.sibling,a=e.tag,o=e.type,s=null;switch(a){case 0:case y:case 1:s=o;break;case p:s=o.render}var l=!1;null!==s&&t.has(s)&&(l=!0),l?function(e,t){var n=function(e,t){for(var n=e,r=!1;;){if(5===n.tag)r=!0,t.add(n.stateNode);else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)return r;for(;null===n.sibling;){if(null===n.return||n.return===e)return r;n=n.return}n.sibling.return=n.return,n=n.sibling}return!1}(e,t);if(!n)for(var r=e;;){switch(r.tag){case 5:return void t.add(r.stateNode);case 4:case 3:return void t.add(r.stateNode.containerInfo)}if(null===r.return)throw new Error("Expected to reach root first.");r=r.return}}(e,n):null!==r&&kp(r,t,n),null!==i&&kp(i,t,n)}xp=!1;try{var Pp=Object.preventExtensions({});new Map([[Pp,null]]),new Set([Pp])}catch(e){xp=!0}function Tp(e,t,n,r){this.tag=e,this.key=n,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=r,this.flags=0,this.subtreeFlags=0,this.deletions=null,this.lanes=0,this.childLanes=0,this.alternate=null,this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0,this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,xp||"function"!=typeof Object.preventExtensions||Object.preventExtensions(this)}var Ep,Rp,Mp=function(e,t,n,r){return new Tp(e,t,n,r)};function Dp(e){var t=e.prototype;return!(!t||!t.isReactComponent)}function Ap(e,t){var n=e.alternate;null===n?((n=Mp(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n._debugSource=e._debugSource,n._debugOwner=e._debugOwner,n._debugHookTypes=e._debugHookTypes,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null,n.actualDuration=0,n.actualStartTime=-1),n.flags=e.flags&ue,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue;var r=e.dependencies;switch(n.dependencies=null===r?null:{lanes:r.lanes,firstContext:r.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.selfBaseDuration=e.selfBaseDuration,n.treeBaseDuration=e.treeBaseDuration,n._debugNeedsRemount=e._debugNeedsRemount,n.tag){case 2:case 0:case y:n.type=gp(e.type);break;case 1:n.type=mp(e.type);break;case p:n.type=vp(e.type)}return n}function Ip(e,t){e.flags&=14680066;var n=e.alternate;if(null===n)e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null,e.selfBaseDuration=0,e.treeBaseDuration=0;else{e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type;var r=n.dependencies;e.dependencies=null===r?null:{lanes:r.lanes,firstContext:r.firstContext},e.selfBaseDuration=n.selfBaseDuration,e.treeBaseDuration=n.treeBaseDuration}return e}function Lp(e,t,n,r,i,a){var o=2,s=e;if("function"==typeof e)Dp(e)?(o=1,s=mp(s)):s=gp(s);else if("string"==typeof e)o=5;else e:switch(e){case P:return zp(n.children,i,a,t);case T:o=8,1&(i|=8)&&(i|=Xn);break;case E:return function(e,t,n,r){"string"!=typeof e.id&&l('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof e.id);var i=Mp(g,e,r,2|t);return i.elementType=E,i.lanes=n,i.stateNode={effectDuration:0,passiveEffectDuration:0},i}(n,i,a,t);case A:return function(e,t,n,r){var i=Mp(m,e,r,t);return i.elementType=A,i.lanes=n,i}(n,i,a,t);case I:return function(e,t,n,r){var i=Mp(w,e,r,t);return i.elementType=I,i.lanes=n,i}(n,i,a,t);case z:return Fp(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case R:o=f;break e;case M:o=9;break e;case D:o=p,s=vp(s);break e;case L:o=v;break e;case N:o=16,s=null;break e}var u="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(u+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var c=r?W(r):null;throw c&&(u+="\n\nCheck the render method of `"+c+"`."),new Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(null==e?e:typeof e)+"."+u)}var h=Mp(o,n,t,i);return h.elementType=e,h.type=s,h.lanes=a,h._debugOwner=r,h}function Np(e,t,n){var r;r=e._owner;var i=Lp(e.type,e.key,e.props,r,t,n);return i._debugSource=e._source,i._debugOwner=e._owner,i}function zp(e,t,n,r){var i=Mp(7,e,r,t);return i.lanes=n,i}function Fp(e,t,n,r){var i=Mp(_,e,r,t);return i.elementType=z,i.lanes=n,i.stateNode={isHidden:!1},i}function Op(e,t,n){var r=Mp(6,e,null,t);return r.lanes=n,r}function Gp(e,t,n){var r=null!==e.children?e.children:[],i=Mp(4,r,e.key,t);return i.lanes=n,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function Bp(e,t){return null===e&&(e=Mp(2,null,null,0)),e.tag=t.tag,e.key=t.key,e.elementType=t.elementType,e.type=t.type,e.stateNode=t.stateNode,e.return=t.return,e.child=t.child,e.sibling=t.sibling,e.index=t.index,e.ref=t.ref,e.pendingProps=t.pendingProps,e.memoizedProps=t.memoizedProps,e.updateQueue=t.updateQueue,e.memoizedState=t.memoizedState,e.dependencies=t.dependencies,e.mode=t.mode,e.flags=t.flags,e.subtreeFlags=t.subtreeFlags,e.deletions=t.deletions,e.lanes=t.lanes,e.childLanes=t.childLanes,e.alternate=t.alternate,e.actualDuration=t.actualDuration,e.actualStartTime=t.actualStartTime,e.selfBaseDuration=t.selfBaseDuration,e.treeBaseDuration=t.treeBaseDuration,e._debugSource=t._debugSource,e._debugOwner=t._debugOwner,e._debugNeedsRemount=t._debugNeedsRemount,e._debugHookTypes=t._debugHookTypes,e}function Up(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.pendingChildren=null,this.current=null,this.pingCache=null,this.finishedWork=null,this.timeoutHandle=Be,this.context=null,this.pendingContext=null,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qr(0),this.expirationTimes=qr(kr),this.pendingLanes=0,this.suspendedLanes=0,this.pingedLanes=0,this.expiredLanes=0,this.mutableReadLanes=0,this.finishedLanes=0,this.entangledLanes=0,this.entanglements=qr(0),this.identifierPrefix=r,this.onRecoverableError=i,Ye&&(this.mutableSourceEagerHydrationData=null),this.effectDuration=0,this.passiveEffectDuration=0,this.memoizedUpdaters=new Set;for(var a=this.pendingUpdatersLaneMap=[],o=0;o<31;o++)a.push(new Set);switch(t){case 1:this._debugRootType=n?"hydrateRoot()":"createRoot()";break;case 0:this._debugRootType=n?"hydrate()":"render()"}}function Wp(e,t,n,r,i,a,o,s,l,u){var c=new Up(e,t,n,s,l),h=function(e,t){var n;return 1===e?(n=1,!0===t&&(n|=8,n|=Xn)):n=0,wi&&(n|=2),Mp(3,null,null,n)}(t,a);c.current=h,h.stateNode=c;var d={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null};return h.memoizedState=d,Uo(h),c}function Hp(e){if(!e)return In;var t=h(e),n=function(e){if(!function(e){return he(e)===e}(e)||1!==e.tag)throw new Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var t=e;do{switch(t.tag){case 3:return t.stateNode.context;case 1:if(Un(t.type))return t.stateNode.__reactInternalMemoizedMergedChildContext}t=t.return}while(null!==t);throw new Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}(t);if(1===t.tag){var r=t.type;if(Un(r))return Yn(t,r,n)}return n}function jp(e,t,n,r){!function(e,t){if(vi&&"function"==typeof vi.onScheduleFiberRoot)try{vi.onScheduleFiberRoot(mi,e,t)}catch(e){bi||(bi=!0,l("React instrumentation encountered an error: %s",e))}}(t,e);var i=t.current,a=wf(),o=Sf(i);!function(e){null!==yi&&"function"==typeof yi.markRenderScheduled&&yi.markRenderScheduled(e)}(o);var s=Hp(n);null===t.context?t.context=s:t.pendingContext=s,za&&null!==Na&&!Ep&&(Ep=!0,l("Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.\n\nCheck the render method of %s.",W(Na)||"Unknown"));var u=Ho(a,o);u.payload={element:e},null!==(r=void 0===r?null:r)&&("function"!=typeof r&&l("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",r),u.callback=r);var c=jo(i,u,o);return null!==c&&(_f(c,i,o,a),Yo(c,i,o)),o}function Yp(e,t){var n,r,i=e.memoizedState;null!==i&&null!==i.dehydrated&&(i.retryLane=(r=t,0!==(n=i.retryLane)&&n<r?n:r))}function qp(e,t){Yp(e,t);var n=e.alternate;n&&Yp(n,t)}Ep=!1,Rp={};var Vp=function(e){return null};function Xp(e){return Vp(e)}var Qp=function(e){return!1};function $p(e){return Qp(e)}var Kp,Jp,Zp,eg,tg,ng,rg,ig,ag,og=function(e,t,n){var r=t[n],i=be(e)?e.slice():c({},e);return n+1===t.length?(be(i)?i.splice(r,1):delete i[r],i):(i[r]=og(e[r],t,n+1),i)},sg=function(e,t){return og(e,t,0)},lg=function(e,t,n,r){var i=t[r],a=be(e)?e.slice():c({},e);return r+1===t.length?(a[n[r]]=a[i],be(a)?a.splice(i,1):delete a[i]):a[i]=lg(e[i],t,n,r+1),a},ug=function(e,t,n){if(t.length===n.length){for(var r=0;r<n.length-1;r++)if(t[r]!==n[r])return void s("copyWithRename() expects paths to be the same except for the deepest key");return lg(e,t,n,0)}s("copyWithRename() expects paths of the same length")},cg=function(e,t,n,r){if(n>=t.length)return r;var i=t[n],a=be(e)?e.slice():c({},e);return a[i]=cg(e[i],t,n+1,r),a},hg=function(e,t,n){return cg(e,t,0,n)},dg=function(e,t){for(var n=e.memoizedState;null!==n&&t>0;)n=n.next,t--;return n};function fg(e){var t=pe(e);return null===t?null:t.stateNode}function pg(e){return null}function gg(){return Na}return Kp=function(e,t,n,r){var i=dg(e,t);if(null!==i){var a=hg(i.memoizedState,n,r);i.memoizedState=a,i.baseState=a,e.memoizedProps=c({},e.memoizedProps);var o=Io(e,1);null!==o&&_f(o,e,1,kr)}},Jp=function(e,t,n){var r=dg(e,t);if(null!==r){var i=sg(r.memoizedState,n);r.memoizedState=i,r.baseState=i,e.memoizedProps=c({},e.memoizedProps);var a=Io(e,1);null!==a&&_f(a,e,1,kr)}},Zp=function(e,t,n,r){var i=dg(e,t);if(null!==i){var a=ug(i.memoizedState,n,r);i.memoizedState=a,i.baseState=a,e.memoizedProps=c({},e.memoizedProps);var o=Io(e,1);null!==o&&_f(o,e,1,kr)}},eg=function(e,t,n){e.pendingProps=hg(e.memoizedProps,t,n),e.alternate&&(e.alternate.pendingProps=e.pendingProps);var r=Io(e,1);null!==r&&_f(r,e,1,kr)},tg=function(e,t){e.pendingProps=sg(e.memoizedProps,t),e.alternate&&(e.alternate.pendingProps=e.pendingProps);var n=Io(e,1);null!==n&&_f(n,e,1,kr)},ng=function(e,t,n){e.pendingProps=ug(e.memoizedProps,t,n),e.alternate&&(e.alternate.pendingProps=e.pendingProps);var r=Io(e,1);null!==r&&_f(r,e,1,kr)},rg=function(e){var t=Io(e,1);null!==t&&_f(t,e,1,kr)},ig=function(e){Vp=e},ag=function(e){Qp=e},t.attemptContinuousHydration=function(e){if(e.tag===m){var t=br,n=Io(e,t);null!==n&&_f(n,e,t,wf()),qp(e,t)}},t.attemptDiscreteHydration=function(e){if(e.tag===m){var t=Io(e,1);null!==t&&_f(t,e,1,wf()),qp(e,1)}},t.attemptHydrationAtCurrentPriority=function(e){if(e.tag===m){var t=Sf(e),n=Io(e,t);null!==n&&_f(n,e,t,wf()),qp(e,t)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(Vi(t)){var n=function(e){return Er(e.pendingLanes)}(t);!function(e,t){0!==t&&(Qr(e,Hr(t,1)),xf(e,ui()),(Id&(Cd|kd))===xd&&(Jd(),qi()))}(t,n)}break;case m:Rf(function(){var t=Io(e,1);if(null!==t){var n=wf();_f(t,e,1,n)}}),qp(e,1)}},t.batchedUpdates=function(e,t){var n=Id;Id|=1;try{return e(t)}finally{(Id=n)!==xd||_d.isBatchingLegacy||(Jd(),Yi())}},t.createComponentSelector=function(e){return{$$typeof:id,value:e}},t.createContainer=function(e,t,n,r,i,a,o,s){return Wp(e,t,!1,null,0,r,0,a,o)},t.createHasPseudoClassSelector=function(e){return{$$typeof:ad,value:e}},t.createHydrationContainer=function(e,t,n,r,i,a,o,s,l,u){var c=Wp(n,r,!0,e,0,a,0,s,l);c.context=Hp(null);var h=c.current,d=wf(),f=Sf(h),p=Ho(d,f);return p.callback=null!=t?t:null,jo(h,p,f),function(e,t,n){e.current.lanes=t,Vr(e,t,n),xf(e,n)}(c,f,d),c},t.createPortal=function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return ao(r=i)&&(l("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",io(r)),oo(r)),{$$typeof:k,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:od,value:e}},t.createTestNameSelector=function(e){return{$$typeof:sd,value:e}},t.createTextSelector=function(e){return{$$typeof:ld,value:e}},t.deferredUpdates=function(e){var t=ti(),n=Sd.transition;try{return Sd.transition=null,ni(Jr),e()}finally{ni(t),Sd.transition=n}},t.discreteUpdates=function(e,t,n,r,i){var a=ti(),o=Sd.transition;try{return Sd.transition=null,ni(1),e(t,n,r,i)}finally{ni(a),Sd.transition=o,Id===xd&&Jd()}},t.findAllNodes=pd,t.findBoundingRects=function(e,t){if(!Je)throw new Error("Test selector API is not supported by this renderer.");for(var n=pd(e,t),r=[],i=0;i<n.length;i++)r.push(et(n[i]));for(var a=r.length-1;a>0;a--)for(var o=r[a],s=o.x,l=s+o.width,u=o.y,c=u+o.height,h=a-1;h>=0;h--)if(a!==h){var d=r[h],f=d.x,p=f+d.width,g=d.y,m=g+d.height;if(s>=f&&u>=g&&l<=p&&c<=m){r.splice(a,1);break}if(!(s!==f||o.width!==d.width||m<u||g>c)){g>u&&(d.height+=g-u,d.y=u),m<c&&(d.height=c-g),r.splice(a,1);break}if(!(u!==g||o.height!==d.height||p<s||f>l)){f>s&&(d.width+=f-s,d.x=s),p<l&&(d.width=l-f),r.splice(a,1);break}}return r},t.findHostInstance=function(e){var t=h(e);if(void 0===t){if("function"==typeof e.render)throw new Error("Unable to find node on an unmounted component.");var n=Object.keys(e).join(",");throw new Error("Argument appears to not be a ReactComponent. Keys: "+n)}var r=pe(t);return null===r?null:r.stateNode},t.findHostInstanceWithNoPortals=function(e){var t=me(e);return null===t?null:t.stateNode},t.findHostInstanceWithWarning=function(e,t){var n=h(e);if(void 0===n){if("function"==typeof e.render)throw new Error("Unable to find node on an unmounted component.");var r=Object.keys(e).join(",");throw new Error("Argument appears to not be a ReactComponent. Keys: "+r)}var i=pe(n);if(null===i)return null;if(8&i.mode){var a=W(n)||"Component";if(!Rp[a]){Rp[a]=!0;var o=Na;try{Ga(i),8&n.mode?l("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",t,t,a):l("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",t,t,a)}finally{o?Ga(o):Oa()}}}return i.stateNode},t.flushControlled=function(e){var t=Id;Id|=1;var n=Sd.transition,r=ti();try{Sd.transition=null,ni(1),e()}finally{ni(r),Sd.transition=n,(Id=t)===xd&&(Jd(),qi())}},t.flushPassiveEffects=jf,t.flushSync=Rf,t.focusWithin=function(e,t){if(!Je)throw new Error("Test selector API is not supported by this renderer.");for(var n=fd(cd(e),t),r=Array.from(n),i=0;i<r.length;){var a=r[i++];if(!nt(a)){if(5===a.tag){var o=a.stateNode;if(it(o))return!0}for(var s=a.child;null!==s;)r.push(s),s=s.sibling}}return!1},t.getCurrentUpdatePriority=ti,t.getFindAllNodesFailureDescription=function(e,t){if(!Je)throw new Error("Test selector API is not supported by this renderer.");for(var n=0,r=[],i=[cd(e),0],a=0;a<i.length;){var o=i[a++],s=i[a++],l=t[s];if((5!==o.tag||!nt(o))&&(hd(o,l)&&(r.push(dd(l)),++s>n&&(n=s)),s<t.length))for(var u=o.child;null!==u;)i.push(u,s),u=u.sibling}if(n<t.length){for(var c=[],h=n;h<t.length;h++)c.push(dd(t[h]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+c.join(" > ")}return null},t.getPublicRootInstance=function(e){var t=e.current;return t.child?5===t.child.tag?Te(t.child.stateNode):t.child.stateNode:null},t.injectIntoDevTools=function(e){var t=e.findFiberByHostInstance,n=a.ReactCurrentDispatcher;return function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled)return!0;if(!t.supportsFiber)return l("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"),!0;try{e=c({},e,{getLaneLabelMap:xi,injectProfilingHooks:_i}),mi=t.inject(e),vi=t}catch(e){l("React instrumentation encountered an error: %s.",e)}return!!t.checkDCE}({bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:Kp,overrideHookStateDeletePath:Jp,overrideHookStateRenamePath:Zp,overrideProps:eg,overridePropsDeletePath:tg,overridePropsRenamePath:ng,setErrorHandler:ig,setSuspenseHandler:ag,scheduleUpdate:rg,currentDispatcherRef:n,findHostInstanceByFiber:fg,findFiberByHostInstance:t||pg,findHostInstancesForRefresh:Cp,scheduleRefresh:wp,scheduleRoot:Sp,setRefreshHandler:pp,getCurrentFiber:gg,reconcilerVersion:"18.3.1"})},t.isAlreadyRendering=function(){return(Id&(Cd|kd))!==xd},t.observeVisibleRects=function(e,t,n,r){if(!Je)throw new Error("Test selector API is not supported by this renderer.");var i=pd(e,t),a=at(i,n,r),o=a.disconnect,s=a.observe,l=a.unobserve,u=function(){var n=pd(e,t);i.forEach(function(e){n.indexOf(e)<0&&l(e)}),n.forEach(function(e){i.indexOf(e)<0&&s(e)})};return gd.push(u),{disconnect:function(){var e=gd.indexOf(u);e>=0&&gd.splice(e,1),o()}}},t.registerMutableSourceForHydration=function(e,t){var n=(0,t._getVersion)(t._source);null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=ei;try{return ei=e,t()}finally{ei=n}},t.shouldError=Xp,t.shouldSuspend=$p,t.updateContainer=jp,t}},5391:(e,t,n)=>{n.d(t,{_V:()=>Hr,Wd:()=>Br,N1:()=>Wr,rw:()=>Ur,BI:()=>Yr});var r={};n.r(r),n.d(r,{appendChild:()=>sr,appendChildToContainer:()=>lr,appendInitialChild:()=>Un,cancelTimeout:()=>tr,clearContainer:()=>wr,commitMount:()=>pr,commitTextUpdate:()=>fr,commitUpdate:()=>gr,createInstance:()=>Wn,createTextInstance:()=>Hn,detachDeletedInstance:()=>Sr,finalizeInitialChildren:()=>jn,getChildHostContext:()=>Zn,getCurrentEventPriority:()=>_r,getPublicInstance:()=>Yn,getRootHostContext:()=>Jn,hideInstance:()=>mr,hideTextInstance:()=>vr,idlePriority:()=>On.unstable_IdlePriority,insertBefore:()=>ur,insertInContainerBefore:()=>cr,isPrimaryRenderer:()=>ir,noTimeout:()=>nr,now:()=>On.unstable_now,prepareForCommit:()=>qn,preparePortalMount:()=>Vn,prepareUpdate:()=>Xn,removeChild:()=>hr,removeChildFromContainer:()=>dr,resetAfterCommit:()=>Qn,resetTextContent:()=>$n,run:()=>On.unstable_runWithPriority,scheduleTimeout:()=>er,shouldDeprioritizeSubtree:()=>Kn,shouldSetTextContent:()=>rr,supportsMutation:()=>or,unhideInstance:()=>yr,unhideTextInstance:()=>br,warnsIfNotActing:()=>ar});const i=Math.PI/180,a="undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{},o={_global:a,version:"10.0.2",isBrowser:"undefined"!=typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test(function(e){}.toString()),dblClickWindow:400,getAngle:e=>o.angleDeg?e*i:e,enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:()=>o.DD.isDragging,isTransforming(){var e,t;return null!==(t=null===(e=o.Transformer)||void 0===e?void 0:e.isTransforming())&&void 0!==t&&t},isDragReady:()=>!!o.DD.node,releaseCanvasOnDestroy:!0,document:a.document,_injectGlobal(e){void 0!==a.Konva&&console.error("Severa Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),a.Konva=e}},s=e=>{o[e.prototype.getClassName()]=e};o._injectGlobal(o);const l=()=>{if("undefined"==typeof document)throw new Error('Konva.js unsupported environment.\n\nLooks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.\n\nTo use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.\n\nbash: npm install canvas\njs: import "konva/canvas-backend";\n\nor\n\nbash: npm install skia-canvas\njs: import "konva/skia-backend";\n')};class u{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new u(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const t=this.m;return{x:t[0]*e.x+t[2]*e.y+t[4],y:t[1]*e.x+t[3]*e.y+t[5]}}translate(e,t){return this.m[4]+=this.m[0]*e+this.m[2]*t,this.m[5]+=this.m[1]*e+this.m[3]*t,this}scale(e,t){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=t,this.m[3]*=t,this}rotate(e){const t=Math.cos(e),n=Math.sin(e),r=this.m[0]*t+this.m[2]*n,i=this.m[1]*t+this.m[3]*n,a=this.m[0]*-n+this.m[2]*t,o=this.m[1]*-n+this.m[3]*t;return this.m[0]=r,this.m[1]=i,this.m[2]=a,this.m[3]=o,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,t){const n=this.m[0]+this.m[2]*t,r=this.m[1]+this.m[3]*t,i=this.m[2]+this.m[0]*e,a=this.m[3]+this.m[1]*e;return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=a,this}multiply(e){const t=this.m[0]*e.m[0]+this.m[2]*e.m[1],n=this.m[1]*e.m[0]+this.m[3]*e.m[1],r=this.m[0]*e.m[2]+this.m[2]*e.m[3],i=this.m[1]*e.m[2]+this.m[3]*e.m[3],a=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],o=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=t,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=a,this.m[5]=o,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),t=this.m[3]*e,n=-this.m[1]*e,r=-this.m[2]*e,i=this.m[0]*e,a=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),o=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=t,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=a,this.m[5]=o,this}getMatrix(){return this.m}decompose(){const e=this.m[0],t=this.m[1],n=this.m[2],r=this.m[3],i=e*r-t*n,a={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=e||0!=t){const o=Math.sqrt(e*e+t*t);a.rotation=t>0?Math.acos(e/o):-Math.acos(e/o),a.scaleX=o,a.scaleY=i/o,a.skewX=(e*n+t*r)/i,a.skewY=0}else if(0!=n||0!=r){const o=Math.sqrt(n*n+r*r);a.rotation=Math.PI/2-(r>0?Math.acos(-n/o):-Math.acos(n/o)),a.scaleX=i/o,a.scaleY=o,a.skewX=0,a.skewY=(e*n+t*r)/i}return a.rotation=v._getRotation(a.rotation),a}}const c=Math.PI/180,h=180/Math.PI,d="Konva error: ",f={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},p=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let g=[];const m="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||function(e){setTimeout(e,60)},v={_isElement:e=>!(!e||1!=e.nodeType),_isFunction:e=>!!(e&&e.constructor&&e.call&&e.apply),_isPlainObject:e=>!!e&&e.constructor===Object,_isArray:e=>"[object Array]"===Object.prototype.toString.call(e),_isNumber:e=>"[object Number]"===Object.prototype.toString.call(e)&&!isNaN(e)&&isFinite(e),_isString:e=>"[object String]"===Object.prototype.toString.call(e),_isBoolean:e=>"[object Boolean]"===Object.prototype.toString.call(e),isObject:e=>e instanceof Object,isValidSelector(e){if("string"!=typeof e)return!1;const t=e[0];return"#"===t||"."===t||t===t.toUpperCase()},_sign:e=>0===e||e>0?1:-1,requestAnimFrame(e){g.push(e),1===g.length&&m(function(){const e=g;g=[],e.forEach(function(e){e()})})},createCanvasElement(){l();const e=document.createElement("canvas");try{e.style=e.style||{}}catch(e){}return e},createImageElement:()=>(l(),document.createElement("img")),_isInDocument(e){for(;e=e.parentNode;)if(e==document)return!0;return!1},_urlToImage(e,t){const n=v.createImageElement();n.onload=function(){t(n)},n.src=e},_rgbToHex:(e,t,n)=>((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1),_hexToRgb(e){e=e.replace("#","");const t=parseInt(e,16);return{r:t>>16&255,g:t>>8&255,b:255&t}},getRandomColor(){let e=(16777215*Math.random()|0).toString(16);for(;e.length<6;)e="0"+e;return"#"+e},getRGB(e){let t;return e in f?(t=f[e],{r:t[0],g:t[1],b:t[2]}):"#"===e[0]?this._hexToRgb(e.substring(1)):"rgb("===e.substr(0,4)?(t=p.exec(e.replace(/ /g,"")),{r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}):{r:0,g:0,b:0}},colorToRGBA:e=>(e=e||"black",v._namedColorToRBA(e)||v._hex3ColorToRGBA(e)||v._hex4ColorToRGBA(e)||v._hex6ColorToRGBA(e)||v._hex8ColorToRGBA(e)||v._rgbColorToRGBA(e)||v._rgbaColorToRGBA(e)||v._hslColorToRGBA(e)),_namedColorToRBA(e){const t=f[e.toLowerCase()];return t?{r:t[0],g:t[1],b:t[2],a:1}:null},_rgbColorToRGBA(e){if(0===e.indexOf("rgb(")){const t=(e=e.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:1}}},_rgbaColorToRGBA(e){if(0===e.indexOf("rgba(")){const t=(e=e.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map((e,t)=>"%"===e.slice(-1)?3===t?parseInt(e)/100:parseInt(e)/100*255:Number(e));return{r:t[0],g:t[1],b:t[2],a:t[3]}}},_hex8ColorToRGBA(e){if("#"===e[0]&&9===e.length)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:parseInt(e.slice(7,9),16)/255}},_hex6ColorToRGBA(e){if("#"===e[0]&&7===e.length)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:1}},_hex4ColorToRGBA(e){if("#"===e[0]&&5===e.length)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:parseInt(e[4]+e[4],16)/255}},_hex3ColorToRGBA(e){if("#"===e[0]&&4===e.length)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:1}},_hslColorToRGBA(e){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(e)){const[t,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e),r=Number(n[0])/360,i=Number(n[1])/100,a=Number(n[2])/100;let o,s,l;if(0===i)return l=255*a,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};o=a<.5?a*(1+i):a+i-a*i;const u=2*a-o,c=[0,0,0];for(let e=0;e<3;e++)s=r+1/3*-(e-1),s<0&&s++,s>1&&s--,l=6*s<1?u+6*(o-u)*s:2*s<1?o:3*s<2?u+(o-u)*(2/3-s)*6:u,c[e]=255*l;return{r:Math.round(c[0]),g:Math.round(c[1]),b:Math.round(c[2]),a:1}}},haveIntersection:(e,t)=>!(t.x>e.x+e.width||t.x+t.width<e.x||t.y>e.y+e.height||t.y+t.height<e.y),cloneObject(e){const t={};for(const n in e)this._isPlainObject(e[n])?t[n]=this.cloneObject(e[n]):this._isArray(e[n])?t[n]=this.cloneArray(e[n]):t[n]=e[n];return t},cloneArray:e=>e.slice(0),degToRad:e=>e*c,radToDeg:e=>e*h,_degToRad:e=>(v.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),v.degToRad(e)),_radToDeg:e=>(v.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),v.radToDeg(e)),_getRotation:e=>o.angleDeg?v.radToDeg(e):e,_capitalize:e=>e.charAt(0).toUpperCase()+e.slice(1),throw(e){throw new Error(d+e)},error(e){console.error(d+e)},warn(e){o.showWarnings&&console.warn("Konva warning: "+e)},each(e,t){for(const n in e)t(n,e[n])},_inRange:(e,t,n)=>t<=e&&e<n,_getProjectionToSegment(e,t,n,r,i,a){let o,s,l;const u=(e-n)*(e-n)+(t-r)*(t-r);if(0==u)o=e,s=t,l=(i-n)*(i-n)+(a-r)*(a-r);else{const c=((i-e)*(n-e)+(a-t)*(r-t))/u;c<0?(o=e,s=t,l=(e-i)*(e-i)+(t-a)*(t-a)):c>1?(o=n,s=r,l=(n-i)*(n-i)+(r-a)*(r-a)):(o=e+c*(n-e),s=t+c*(r-t),l=(o-i)*(o-i)+(s-a)*(s-a))}return[o,s,l]},_getProjectionToLine(e,t,n){const r=v.cloneObject(e);let i=Number.MAX_VALUE;return t.forEach(function(a,o){if(!n&&o===t.length-1)return;const s=t[(o+1)%t.length],l=v._getProjectionToSegment(a.x,a.y,s.x,s.y,e.x,e.y),u=l[0],c=l[1],h=l[2];h<i&&(r.x=u,r.y=c,i=h)}),r},_prepareArrayForTween(e,t,n){const r=[],i=[];if(e.length>t.length){const n=t;t=e,e=n}for(let t=0;t<e.length;t+=2)r.push({x:e[t],y:e[t+1]});for(let e=0;e<t.length;e+=2)i.push({x:t[e],y:t[e+1]});const a=[];return i.forEach(function(e){const t=v._getProjectionToLine(e,r,n);a.push(t.x),a.push(t.y)}),a},_prepareToStringify(e){let t;e.visitedByCircularReferenceRemoval=!0;for(const n in e)if(e.hasOwnProperty(n)&&e[n]&&"object"==typeof e[n])if(t=Object.getOwnPropertyDescriptor(e,n),e[n].visitedByCircularReferenceRemoval||v._isElement(e[n])){if(!t.configurable)return null;delete e[n]}else if(null===v._prepareToStringify(e[n])){if(!t.configurable)return null;delete e[n]}return delete e.visitedByCircularReferenceRemoval,e},_assign(e,t){for(const n in t)e[n]=t[n];return e},_getFirstPointerId:e=>e.touches?e.changedTouches[0].identifier:e.pointerId||999,releaseCanvas(...e){o.releaseCanvasOnDestroy&&e.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(e,t,n,r){let i=t<0?t:0,a=n<0?n:0;t=Math.abs(t),n=Math.abs(n);let o=0,s=0,l=0,u=0;"number"==typeof r?o=s=l=u=Math.min(r,t/2,n/2):(o=Math.min(r[0]||0,t/2,n/2),s=Math.min(r[1]||0,t/2,n/2),u=Math.min(r[2]||0,t/2,n/2),l=Math.min(r[3]||0,t/2,n/2)),e.moveTo(i+o,a),e.lineTo(i+t-s,a),e.arc(i+t-s,a+s,s,3*Math.PI/2,0,!1),e.lineTo(i+t,a+n-u),e.arc(i+t-u,a+n-u,u,0,Math.PI/2,!1),e.lineTo(i+l,a+n),e.arc(i+l,a+n-l,l,Math.PI/2,Math.PI,!1),e.lineTo(i,a+o),e.arc(i+o,a+o,o,Math.PI,3*Math.PI/2,!1)},drawRoundedPolygonPath(e,t,n,r,i){r=Math.abs(r);for(let a=0;a<n;a++){const o=t[(a-1+n)%n],s=t[a],l=t[(a+1)%n],u={x:s.x-o.x,y:s.y-o.y},c={x:l.x-s.x,y:l.y-s.y},h=Math.hypot(u.x,u.y),d=Math.hypot(c.x,c.y);let f;f="number"==typeof i?i:a<i.length?i[a]:0,f=r*Math.cos(Math.PI/n)*Math.min(1,f/r*2);const p={x:u.x/h,y:u.y/h},g={x:c.x/d,y:c.y/d},m={x:s.x-p.x*f,y:s.y-p.y*f},v={x:s.x+g.x*f,y:s.y+g.y*f};0===a?e.moveTo(m.x,m.y):e.lineTo(m.x,m.y),e.arcTo(s.x,s.y,v.x,v.y,f)}}},y=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];let b,w=null;function S(){if(null!==w)return w;try{const e=v.createCanvasElement().getContext("2d");return e?!!e&&"filter"in e:(w=!1,!1)}catch(e){return w=!1,!1}}class _{constructor(e){this.canvas=e,o.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,t){let n,r,i,a,o=this.traceArr,s=o.length,l="";for(n=0;n<s;n++)r=o[n],i=r.method,i?(a=r.args,l+=i,e?l+="()":v._isArray(a[0])?l+="(["+a.join(",")+"])":(t&&(a=a.map(e=>"number"==typeof e?Math.floor(e):e)),l+="("+a.join(",")+")")):(l+=r.property,e||(l+="="+r.val)),l+=";";return l}clearTrace(){this.traceArr=[]}_trace(e){let t,n=this.traceArr;n.push(e),t=n.length,t>=100&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const t=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,t.getWidth()/t.pixelRatio,t.getHeight()/t.pixelRatio)}_applyLineCap(e){const t=e.attrs.lineCap;t&&this.setAttr("lineCap",t)}_applyOpacity(e){const t=e.getAbsoluteOpacity();1!==t&&this.setAttr("globalAlpha",t)}_applyLineJoin(e){const t=e.attrs.lineJoin;t&&this.setAttr("lineJoin",t)}_applyMiterLimit(e){const t=e.attrs.miterLimit;null!=t&&this.setAttr("miterLimit",t)}setAttr(e,t){this._context[e]=t}arc(e,t,n,r,i,a){this._context.arc(e,t,n,r,i,a)}arcTo(e,t,n,r,i){this._context.arcTo(e,t,n,r,i)}beginPath(){this._context.beginPath()}bezierCurveTo(e,t,n,r,i,a){this._context.bezierCurveTo(e,t,n,r,i,a)}clearRect(e,t,n,r){this._context.clearRect(e,t,n,r)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,t){const n=arguments;return 2===n.length?this._context.createImageData(e,t):1===n.length?this._context.createImageData(e):void 0}createLinearGradient(e,t,n,r){return this._context.createLinearGradient(e,t,n,r)}createPattern(e,t){return this._context.createPattern(e,t)}createRadialGradient(e,t,n,r,i,a){return this._context.createRadialGradient(e,t,n,r,i,a)}drawImage(e,t,n,r,i,a,o,s,l){const u=arguments,c=this._context;3===u.length?c.drawImage(e,t,n):5===u.length?c.drawImage(e,t,n,r,i):9===u.length&&c.drawImage(e,t,n,r,i,a,o,s,l)}ellipse(e,t,n,r,i,a,o,s){this._context.ellipse(e,t,n,r,i,a,o,s)}isPointInPath(e,t,n,r){return n?this._context.isPointInPath(n,e,t,r):this._context.isPointInPath(e,t,r)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,t,n,r){this._context.fillRect(e,t,n,r)}strokeRect(e,t,n,r){this._context.strokeRect(e,t,n,r)}fillText(e,t,n,r){r?this._context.fillText(e,t,n,r):this._context.fillText(e,t,n)}measureText(e){return this._context.measureText(e)}getImageData(e,t,n,r){return this._context.getImageData(e,t,n,r)}lineTo(e,t){this._context.lineTo(e,t)}moveTo(e,t){this._context.moveTo(e,t)}rect(e,t,n,r){this._context.rect(e,t,n,r)}roundRect(e,t,n,r,i){this._context.roundRect(e,t,n,r,i)}putImageData(e,t,n){this._context.putImageData(e,t,n)}quadraticCurveTo(e,t,n,r){this._context.quadraticCurveTo(e,t,n,r)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,t){this._context.scale(e,t)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,t,n,r,i,a){this._context.setTransform(e,t,n,r,i,a)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,t,n,r){this._context.strokeText(e,t,n,r)}transform(e,t,n,r,i,a){this._context.transform(e,t,n,r,i,a)}translate(e,t){this._context.translate(e,t)}_enableTrace(){let e,t,n=this,r=y.length,i=this.setAttr;const a=function(e){let r,i=n[e];n[e]=function(){return t=function(e){const t=[],n=e.length,r=v;for(let i=0;i<n;i++){let n=e[i];r._isNumber(n)?n=Math.round(1e3*n)/1e3:r._isString(n)||(n+=""),t.push(n)}return t}(Array.prototype.slice.call(arguments,0)),r=i.apply(n,arguments),n._trace({method:e,args:t}),r}};for(e=0;e<r;e++)a(y[e]);n.setAttr=function(){i.apply(n,arguments);const e=arguments[0];let t=arguments[1];"shadowOffsetX"!==e&&"shadowOffsetY"!==e&&"shadowBlur"!==e||(t/=this.canvas.getPixelRatio()),n._trace({property:e,val:t})}}_applyGlobalCompositeOperation(e){const t=e.attrs.globalCompositeOperation;!t||"source-over"===t||this.setAttr("globalCompositeOperation",t)}}["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"].forEach(function(e){Object.defineProperty(_.prototype,e,{get(){return this._context[e]},set(t){this._context[e]=t}})});class x extends _{constructor(e,{willReadFrequently:t=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:t})}_fillColor(e){const t=e.fill();this.setAttr("fillStyle",t),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const t=e._getLinearGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fillRadialGradient(e){const t=e._getRadialGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fill(e){const t=e.fill(),n=e.getFillPriority();if(t&&"color"===n)return void this._fillColor(e);const r=e.getFillPatternImage();if(r&&"pattern"===n)return void this._fillPattern(e);const i=e.getFillLinearGradientColorStops();if(i&&"linear-gradient"===n)return void this._fillLinearGradient(e);const a=e.getFillRadialGradientColorStops();a&&"radial-gradient"===n?this._fillRadialGradient(e):t?this._fillColor(e):r?this._fillPattern(e):i?this._fillLinearGradient(e):a&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const t=e.getStrokeLinearGradientStartPoint(),n=e.getStrokeLinearGradientEndPoint(),r=e.getStrokeLinearGradientColorStops(),i=this.createLinearGradient(t.x,t.y,n.x,n.y);if(r){for(let e=0;e<r.length;e+=2)i.addColorStop(r[e],r[e+1]);this.setAttr("strokeStyle",i)}}_stroke(e){const t=e.dash(),n=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!n){this.save();const e=this.getCanvas().getPixelRatio();this.setTransform(e,0,0,e,0,0)}this._applyLineCap(e),t&&e.dashEnabled()&&(this.setLineDash(t),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),n||this.restore()}}_applyShadow(e){var t,n,r;const i=null!==(t=e.getShadowRGBA())&&void 0!==t?t:"black",a=null!==(n=e.getShadowBlur())&&void 0!==n?n:5,o=null!==(r=e.getShadowOffset())&&void 0!==r?r:{x:0,y:0},s=e.getAbsoluteScale(),l=this.canvas.getPixelRatio(),u=s.x*l,c=s.y*l;this.setAttr("shadowColor",i),this.setAttr("shadowBlur",a*Math.min(Math.abs(u),Math.abs(c))),this.setAttr("shadowOffsetX",o.x*u),this.setAttr("shadowOffsetY",o.y*c)}}class C extends _{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const t=e.getStrokeScaleEnabled();if(!t){this.save();const e=this.getCanvas().getPixelRatio();this.setTransform(e,0,0,e,0,0)}this._applyLineCap(e);const n=e.hitStrokeWidth(),r="auto"===n?e.strokeWidth():n;this.setAttr("lineWidth",r),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),t||this.restore()}}}class k{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const t=(e||{}).pixelRatio||o.pixelRatio||function(){if(b)return b;const e=v.createCanvasElement(),t=e.getContext("2d");return b=(o._global.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),v.releaseCanvas(e),b}();this.pixelRatio=t,this._canvas=v.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const t=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/t,this.getHeight()/t)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const t=this.pixelRatio;this.getContext()._context.scale(t,t)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const t=this.pixelRatio;this.getContext()._context.scale(t,t)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,t){this.setWidth(e||0),this.setHeight(t||0)}toDataURL(e,t){try{return this._canvas.toDataURL(e,t)}catch(e){try{return this._canvas.toDataURL()}catch(e){return v.error("Unable to get data URL. "+e.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class P extends k{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new x(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}function T(){const e=v.createCanvasElement();e.width=1,e.height=1;const t=e.getContext("2d",{willReadFrequently:!0});t.clearRect(0,0,1,1),t.fillStyle="rgba(255,0,255,1)",t.fillRect(0,0,1,1);const n=t.getImageData(0,0,1,1).data;return!(255===n[0]&&0===n[1]&&255===n[2]&&255===n[3])}function E(){var e,t;return"undefined"!=typeof navigator&&null!==(t=null===(e=navigator.brave)||void 0===e?void 0:e.isBrave())&&void 0!==t&&t}let R=!1;class M extends k{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new C(this),this.setSize(e.width,e.height),E()&&T()&&!R&&(R=!0,v.error('Looks like you have "Brave shield" enabled in your browser. It breaks KonvaJS internals. Please disable it. You may need to ask your users to do the same.')),E()&&T()}}const D={get isDragging(){let e=!1;return D._dragElements.forEach(t=>{"dragging"===t.dragStatus&&(e=!0)}),e},justDragged:!1,get node(){let e;return D._dragElements.forEach(t=>{e=t.node}),e},_dragElements:new Map,_drag(e){const t=[];D._dragElements.forEach((n,r)=>{const{node:i}=n,a=i.getStage();a.setPointersPositions(e),void 0===n.pointerId&&(n.pointerId=v._getFirstPointerId(e));const o=a._changedPointerPositions.find(e=>e.id===n.pointerId);if(o){if("dragging"!==n.dragStatus){const t=i.dragDistance();if(Math.max(Math.abs(o.x-n.startPointerPos.x),Math.abs(o.y-n.startPointerPos.y))<t)return;if(i.startDrag({evt:e}),!i.isDragging())return}i._setDragPosition(e,n),t.push(i)}}),t.forEach(t=>{t.fire("dragmove",{type:"dragmove",target:t,evt:e},!0)})},_endDragBefore(e){const t=[];D._dragElements.forEach(n=>{const{node:r}=n,i=r.getStage();if(e&&i.setPointersPositions(e),!i._changedPointerPositions.find(e=>e.id===n.pointerId))return;"dragging"!==n.dragStatus&&"stopped"!==n.dragStatus||(D.justDragged=!0,o._mouseListenClick=!1,o._touchListenClick=!1,o._pointerListenClick=!1,n.dragStatus="stopped");const a=n.node.getLayer()||n.node instanceof o.Stage&&n.node;a&&-1===t.indexOf(a)&&t.push(a)}),t.forEach(e=>{e.draw()})},_endDragAfter(e){D._dragElements.forEach((t,n)=>{"stopped"===t.dragStatus&&t.node.fire("dragend",{type:"dragend",target:t.node,evt:e},!0),"dragging"!==t.dragStatus&&D._dragElements.delete(n)})}};function A(e){return v._isString(e)?'"'+e+'"':"[object Number]"===Object.prototype.toString.call(e)||v._isBoolean(e)?e:Object.prototype.toString.call(e)}function I(e){return e>255?255:e<0?0:Math.round(e)}function L(){if(o.isUnminified)return function(e,t){return v._isNumber(e)||v.warn(A(e)+' is a not valid value for "'+t+'" attribute. The value should be a number.'),e}}function N(e){if(o.isUnminified)return function(t,n){let r=v._isNumber(t),i=v._isArray(t)&&t.length==e;return r||i||v.warn(A(t)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+e+")"),t}}function z(){if(o.isUnminified)return function(e,t){return v._isNumber(e)||"auto"===e||v.warn(A(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or "auto".'),e}}function F(){if(o.isUnminified)return function(e,t){return v._isString(e)||v.warn(A(e)+' is a not valid value for "'+t+'" attribute. The value should be a string.'),e}}function O(){if(o.isUnminified)return function(e,t){const n=v._isString(e),r="[object CanvasGradient]"===Object.prototype.toString.call(e)||e&&e.addColorStop;return n||r||v.warn(A(e)+' is a not valid value for "'+t+'" attribute. The value should be a string or a native gradient.'),e}}function G(){if(o.isUnminified)return function(e,t){return!0===e||!1===e||v.warn(A(e)+' is a not valid value for "'+t+'" attribute. The value should be a boolean.'),e}}o.isBrowser&&(window.addEventListener("mouseup",D._endDragBefore,!0),window.addEventListener("touchend",D._endDragBefore,!0),window.addEventListener("touchcancel",D._endDragBefore,!0),window.addEventListener("mousemove",D._drag),window.addEventListener("touchmove",D._drag),window.addEventListener("mouseup",D._endDragAfter,!1),window.addEventListener("touchend",D._endDragAfter,!1),window.addEventListener("touchcancel",D._endDragAfter,!1));const B="get",U="set",W={addGetterSetter(e,t,n,r,i){W.addGetter(e,t,n),W.addSetter(e,t,r,i),W.addOverloadedGetterSetter(e,t)},addGetter(e,t,n){const r=B+v._capitalize(t);e.prototype[r]=e.prototype[r]||function(){const e=this.attrs[t];return void 0===e?n:e}},addSetter(e,t,n,r){const i=U+v._capitalize(t);e.prototype[i]||W.overWriteSetter(e,t,n,r)},overWriteSetter(e,t,n,r){const i=U+v._capitalize(t);e.prototype[i]=function(e){return n&&null!=e&&(e=n.call(this,e,t)),this._setAttr(t,e),r&&r.call(this),this}},addComponentsGetterSetter(e,t,n,r,i){const a=n.length,s=v._capitalize,l=B+s(t),u=U+s(t);e.prototype[l]=function(){const e={};for(let r=0;r<a;r++){const i=n[r];e[i]=this.getAttr(t+s(i))}return e};const c=function(e){if(o.isUnminified)return function(t,n){return null==t||v.isObject(t)||v.warn(A(t)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+e),t}}(n);e.prototype[u]=function(e){const a=this.attrs[t];r&&(e=r.call(this,e,t)),c&&c.call(this,e,t);for(const n in e)e.hasOwnProperty(n)&&this._setAttr(t+s(n),e[n]);return e||n.forEach(e=>{this._setAttr(t+s(e),void 0)}),this._fireChangeEvent(t,a,e),i&&i.call(this),this},W.addOverloadedGetterSetter(e,t)},addOverloadedGetterSetter(e,t){const n=v._capitalize(t),r=U+n,i=B+n;e.prototype[t]=function(){return arguments.length?(this[r](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(e,t,n,r){v.error("Adding deprecated "+t);const i=B+v._capitalize(t),a=t+" property is deprecated and will be removed soon. Look at Konva change log for more information.";e.prototype[i]=function(){v.error(a);const e=this.attrs[t];return void 0===e?n:e},W.addSetter(e,t,r,function(){v.error(a)}),W.addOverloadedGetterSetter(e,t)},backCompat(e,t){v.each(t,function(t,n){const r=e.prototype[n],i=B+v._capitalize(t),a=U+v._capitalize(t);function o(){r.apply(this,arguments),v.error('"'+t+'" method is deprecated and will be removed soon. Use ""'+n+'" instead.')}e.prototype[t]=o,e.prototype[i]=o,e.prototype[a]=o})},afterSetFilter(){this._filterUpToDate=!1}};function H(e){const t=/(\w+)\(([^)]+)\)/g;let n;for(;null!==(n=t.exec(e));){const[,e,t]=n;switch(e){case"blur":{const e=parseFloat(t.replace("px",""));return function(t){this.blurRadius(.5*e);const n=o.Filters;n&&n.Blur&&n.Blur.call(this,t)}}case"brightness":{const e=t.includes("%")?parseFloat(t)/100:parseFloat(t);return function(t){this.brightness(e);const n=o.Filters;n&&n.Brightness&&n.Brightness.call(this,t)}}case"contrast":{const e=parseFloat(t);return function(t){const n=100*(Math.sqrt(e)-1);this.contrast(n);const r=o.Filters;r&&r.Contrast&&r.Contrast.call(this,t)}}case"grayscale":return function(e){const t=o.Filters;t&&t.Grayscale&&t.Grayscale.call(this,e)};case"sepia":return function(e){const t=o.Filters;t&&t.Sepia&&t.Sepia.call(this,e)};case"invert":return function(e){const t=o.Filters;t&&t.Invert&&t.Invert.call(this,e)};default:v.warn(`CSS filter "${e}" is not supported in fallback mode. Consider using function filters for better compatibility.`)}}return()=>{}}const j="absoluteOpacity",Y="allEventListeners",q="absoluteTransform",V="absoluteScale",X="canvas",Q="listening",$="Shape",K=" ",J="stage",Z="transform",ee="visible",te=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(K);let ne=1;class re{constructor(e){this._id=ne++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){e!==Z&&e!==q||!this._cache.get(e)?e?this._cache.delete(e):this._cache.clear():this._cache.get(e).dirty=!0}_getCache(e,t){let n=this._cache.get(e);return(void 0===n||(e===Z||e===q)&&!0===n.dirty)&&(n=t.call(this),this._cache.set(e,n)),n}_calculate(e,t,n){if(!this._attachedDepsListeners.get(e)){const n=t.map(e=>e+"Change.konva").join(K);this.on(n,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,n)}_getCanvasCache(){return this._cache.get(X)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===q&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(X)){const{scene:e,filter:t,hit:n,buffer:r}=this._cache.get(X);v.releaseCanvas(e,t,n,r),this._cache.delete(X)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const t=e||{};let n={};void 0!==t.x&&void 0!==t.y&&void 0!==t.width&&void 0!==t.height||(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let r=Math.ceil(t.width||n.width),i=Math.ceil(t.height||n.height),a=t.pixelRatio,o=void 0===t.x?Math.floor(n.x):t.x,s=void 0===t.y?Math.floor(n.y):t.y,l=t.offset||0,u=t.drawBorder||!1,c=t.hitCanvasPixelRatio||1;if(!r||!i)return void v.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");r+=2*l+(Math.abs(Math.round(n.x)-o)>.5?1:0),i+=2*l+(Math.abs(Math.round(n.y)-s)>.5?1:0),o-=l,s-=l;const h=new P({pixelRatio:a,width:r,height:i}),d=new P({pixelRatio:a,width:0,height:0,willReadFrequently:!0}),f=new M({pixelRatio:c,width:r,height:i}),p=h.getContext(),g=f.getContext(),m=new P({width:h.width/h.pixelRatio+Math.abs(o),height:h.height/h.pixelRatio+Math.abs(s),pixelRatio:h.pixelRatio}),y=m.getContext();return f.isCache=!0,h.isCache=!0,this._cache.delete(X),this._filterUpToDate=!1,!1===t.imageSmoothingEnabled&&(h.getContext()._context.imageSmoothingEnabled=!1,d.getContext()._context.imageSmoothingEnabled=!1),p.save(),g.save(),y.save(),p.translate(-o,-s),g.translate(-o,-s),y.translate(-o,-s),m.x=o,m.y=s,this._isUnderCache=!0,this._clearSelfAndDescendantCache(j),this._clearSelfAndDescendantCache(V),this.drawScene(h,this,m),this.drawHit(f,this),this._isUnderCache=!1,p.restore(),g.restore(),u&&(p.save(),p.beginPath(),p.rect(0,0,r,i),p.closePath(),p.setAttr("strokeStyle","red"),p.setAttr("lineWidth",5),p.stroke(),p.restore()),this._cache.set(X,{scene:h,filter:d,hit:f,buffer:m,x:o,y:s}),this._requestDraw(),this}isCached(){return this._cache.has(X)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,t){const n=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let r=1/0,i=1/0,a=-1/0,o=-1/0;const s=this.getAbsoluteTransform(t);return n.forEach(function(e){const t=s.point(e);void 0===r&&(r=a=t.x,i=o=t.y),r=Math.min(r,t.x),i=Math.min(i,t.y),a=Math.max(a,t.x),o=Math.max(o,t.y)}),{x:r,y:i,width:a-r,height:o-i}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const t=this._getCanvasCache();e.translate(t.x,t.y);const n=this._getCachedSceneCanvas(),r=n.pixelRatio;e.drawImage(n._canvas,0,0,n.width/r,n.height/r),e.restore()}_drawCachedHitCanvas(e){const t=this._getCanvasCache(),n=t.hit;e.save(),e.translate(t.x,t.y),e.drawImage(n._canvas,0,0,n.width/n.pixelRatio,n.height/n.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e,t,n,r,i=this.filters(),a=this._getCanvasCache(),o=a.scene,s=a.filter,l=s.getContext();if(!i||0===i.length)return o;if(this._filterUpToDate)return s;let u=!0;for(let e=0;e<i.length;e++)if("string"==typeof i[e]&&S(),"string"!=typeof i[e]||!S()){u=!1;break}const c=o.pixelRatio;if(s.setSize(o.width/o.pixelRatio,o.height/o.pixelRatio),u){const e=i.join(" ");return l.save(),l.setAttr("filter",e),l.drawImage(o._canvas,0,0,o.getWidth()/c,o.getHeight()/c),l.restore(),this._filterUpToDate=!0,s}try{for(e=i.length,l.clear(),l.drawImage(o._canvas,0,0,o.getWidth()/c,o.getHeight()/c),t=l.getImageData(0,0,s.getWidth(),s.getHeight()),n=0;n<e;n++)r=i[n],"string"==typeof r&&(r=H(r)),r.call(this,t),l.putImageData(t,0,0)}catch(e){v.error("Unable to apply filter. "+e.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,s}on(e,t){if(this._cache&&this._cache.delete(Y),3===arguments.length)return this._delegate.apply(this,arguments);const n=e.split(K);for(let e=0;e<n.length;e++){const r=n[e].split("."),i=r[0],a=r[1]||"";this.eventListeners[i]||(this.eventListeners[i]=[]),this.eventListeners[i].push({name:a,handler:t})}return this}off(e,t){let n,r,i,a,o,s,l=(e||"").split(K),u=l.length;if(this._cache&&this._cache.delete(Y),!e)for(r in this.eventListeners)this._off(r);for(n=0;n<u;n++)if(i=l[n],a=i.split("."),o=a[0],s=a[1],o)this.eventListeners[o]&&this._off(o,s,t);else for(r in this.eventListeners)this._off(r,s,t);return this}dispatchEvent(e){const t={target:this,type:e.type,evt:e};return this.fire(e.type,t),this}addEventListener(e,t){return this.on(e,function(e){t.call(this,e.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,t,n){const r=this;this.on(e,function(e){const i=e.target.findAncestors(t,!0,r);for(let t=0;t<i.length;t++)(e=v.cloneObject(e)).currentTarget=i[t],n.call(i[t],e)})}remove(){return this.isDragging()&&this.stopDrag(),D._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(q),this._clearSelfAndDescendantCache(j),this._clearSelfAndDescendantCache(V),this._clearSelfAndDescendantCache(J),this._clearSelfAndDescendantCache(ee),this._clearSelfAndDescendantCache(Q)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const t="get"+v._capitalize(e);return v._isFunction(this[t])?this[t]():this.attrs[e]}getAncestors(){let e=this.getParent(),t=[];for(;e;)t.push(e),e=e.getParent();return t}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let t,n;if(!e)return this;for(t in e)"children"!==t&&(n="set"+v._capitalize(t),v._isFunction(this[n])?this[n](e[t]):this._setAttr(t,e[t]))}),this}isListening(){return this._getCache(Q,this._isListening)}_isListening(e){if(!this.listening())return!1;const t=this.getParent();return!t||t===e||this===e||t._isListening(e)}isVisible(){return this._getCache(ee,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const t=this.getParent();return!t||t===e||this===e||t._isVisible(e)}shouldDrawHit(e,t=!1){if(e)return this._isVisible(e)&&this._isListening(e);const n=this.getLayer();let r=!1;D._dragElements.forEach(e=>{"dragging"===e.dragStatus&&("Stage"===e.node.nodeType||e.node.getLayer()===n)&&(r=!0)});const i=!t&&!o.hitOnDragEnabled&&(r||o.isTransforming());return this.isListening()&&this.isVisible()&&!i}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e,t,n,r,i=this.getDepth(),a=this,o=0;const s=this.getStage();return"Stage"!==a.nodeType&&s&&function s(l){for(e=[],t=l.length,n=0;n<t;n++)r=l[n],o++,r.nodeType!==$&&(e=e.concat(r.getChildren().slice())),r._id===a._id&&(n=t);e.length>0&&e[0].getDepth()<=i&&s(e)}(s.getChildren()),o}getDepth(){let e=0,t=this.parent;for(;t;)e++,t=t.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Z),this._clearSelfAndDescendantCache(q)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const t=e.getPointerPosition();if(!t)return null;const n=this.getAbsoluteTransform().copy();return n.invert(),n.point(t)}getAbsolutePosition(e){let t=!1,n=this.parent;for(;n;){if(n.isCached()){t=!0;break}n=n.parent}t&&!e&&(e=!0);const r=this.getAbsoluteTransform(e).getMatrix(),i=new u,a=this.offset();return i.m=r.slice(),i.translate(a.x,a.y),i.getTranslation()}setAbsolutePosition(e){const{x:t,y:n,...r}=this._clearTransform();this.attrs.x=t,this.attrs.y=n,this._clearCache(Z);const i=this._getAbsoluteTransform().copy();return i.invert(),i.translate(e.x,e.y),e={x:this.attrs.x+i.getTranslation().x,y:this.attrs.y+i.getTranslation().y},this._setTransform(r),this.setPosition({x:e.x,y:e.y}),this._clearCache(Z),this._clearSelfAndDescendantCache(q),this}_setTransform(e){let t;for(t in e)this.attrs[t]=e[t]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let t=e.x,n=e.y,r=this.x(),i=this.y();return void 0!==t&&(r+=t),void 0!==n&&(i+=n),this.setPosition({x:r,y:i}),this}_eachAncestorReverse(e,t){let n,r,i=[],a=this.getParent();if(!t||t._id!==this._id){for(i.unshift(this);a&&(!t||a._id!==t._id);)i.unshift(a),a=a.parent;for(n=i.length,r=0;r<n;r++)e(i[r])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return v.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index;return e<this.parent.getChildren().length-1&&(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0)}moveUp(){if(!this.parent)return v.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index;return e<this.parent.getChildren().length-1&&(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0)}moveDown(){if(!this.parent)return v.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0)}moveToBottom(){if(!this.parent)return v.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}setZIndex(e){if(!this.parent)return v.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&v.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const t=this.index;return this.parent.children.splice(t,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(j,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const t=this.getParent();return t&&!t._isUnderCache&&(e*=t.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e,t,n,r,i,a=this.getAttrs();const o={attrs:{},className:this.getClassName()};for(e in a)t=a[e],i=v.isObject(t)&&!v._isPlainObject(t)&&!v._isArray(t),i||(n="function"==typeof this[e]&&this[e],delete a[e],r=n?n.call(this):null,a[e]=t,r!==t&&(o.attrs[e]=t));return v._prepareToStringify(o)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,t,n){const r=[];t&&this._isMatch(e)&&r.push(this);let i=this.parent;for(;i;){if(i===n)return r;i._isMatch(e)&&r.push(i),i=i.parent}return r}isAncestorOf(e){return!1}findAncestor(e,t,n){return this.findAncestors(e,t,n)[0]}_isMatch(e){if(!e)return!1;if("function"==typeof e)return e(this);let t,n,r=e.replace(/ /g,"").split(","),i=r.length;for(t=0;t<i;t++)if(n=r[t],v.isValidSelector(n)||(v.warn('Selector "'+n+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),v.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),v.warn("Konva is awesome, right?")),"#"===n.charAt(0)){if(this.id()===n.slice(1))return!0}else if("."===n.charAt(0)){if(this.hasName(n.slice(1)))return!0}else if(this.className===n||this.nodeType===n)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(J,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,t={},n){return t.target=t.target||this,n?this._fireAndBubble(e,t):this._fire(e,t),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(q,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let t;if(e)return t=new u,this._eachAncestorReverse(function(e){const n=e.transformsEnabled();"all"===n?t.multiply(e.getTransform()):"position"===n&&t.translate(e.x()-e.offsetX(),e.y()-e.offsetY())},e),t;{t=this._cache.get(q)||new u,this.parent?this.parent.getAbsoluteTransform().copyInto(t):t.reset();const e=this.transformsEnabled();if("all"===e)t.multiply(this.getTransform());else if("position"===e){const e=this.attrs.x||0,n=this.attrs.y||0,r=this.attrs.offsetX||0,i=this.attrs.offsetY||0;t.translate(e-r,n-i)}return t.dirty=!1,t}}getAbsoluteScale(e){let t=this;for(;t;)t._isUnderCache&&(e=t),t=t.getParent();const n=this.getAbsoluteTransform(e).decompose();return{x:n.scaleX,y:n.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Z,this._getTransform)}_getTransform(){var e,t;const n=this._cache.get(Z)||new u;n.reset();const r=this.x(),i=this.y(),a=o.getAngle(this.rotation()),s=null!==(e=this.attrs.scaleX)&&void 0!==e?e:1,l=null!==(t=this.attrs.scaleY)&&void 0!==t?t:1,c=this.attrs.skewX||0,h=this.attrs.skewY||0,d=this.attrs.offsetX||0,f=this.attrs.offsetY||0;return 0===r&&0===i||n.translate(r,i),0!==a&&n.rotate(a),0===c&&0===h||n.skew(c,h),1===s&&1===l||n.scale(s,l),0===d&&0===f||n.translate(-1*d,-1*f),n.dirty=!1,n}clone(e){let t,n,r,i,a,o=v.cloneObject(this.attrs);for(t in e)o[t]=e[t];const s=new this.constructor(o);for(t in this.eventListeners)for(n=this.eventListeners[t],r=n.length,i=0;i<r;i++)a=n[i],a.name.indexOf("konva")<0&&(s.eventListeners[t]||(s.eventListeners[t]=[]),s.eventListeners[t].push(a));return s}_toKonvaCanvas(e){e=e||{};const t=this.getClientRect(),n=this.getStage(),r=void 0!==e.x?e.x:Math.floor(t.x),i=void 0!==e.y?e.y:Math.floor(t.y),a=e.pixelRatio||1,o=new P({width:e.width||Math.ceil(t.width)||(n?n.width():0),height:e.height||Math.ceil(t.height)||(n?n.height():0),pixelRatio:a}),s=o.getContext(),l=new P({width:o.width/o.pixelRatio+Math.abs(r),height:o.height/o.pixelRatio+Math.abs(i),pixelRatio:o.pixelRatio});return!1===e.imageSmoothingEnabled&&(s._context.imageSmoothingEnabled=!1),s.save(),(r||i)&&s.translate(-1*r,-1*i),this.drawScene(o,void 0,l),s.restore(),o}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){const t=(e=e||{}).mimeType||null,n=e.quality||null,r=this._toKonvaCanvas(e).toDataURL(t,n);return e.callback&&e.callback(r),r}toImage(e){return new Promise((t,n)=>{try{const n=null==e?void 0:e.callback;n&&delete e.callback,v._urlToImage(this.toDataURL(e),function(e){t(e),null==n||n(e)})}catch(e){n(e)}})}toBlob(e){return new Promise((t,n)=>{try{const n=null==e?void 0:e.callback;n&&delete e.callback,this.toCanvas(e).toBlob(e=>{t(e),null==n||n(e)},null==e?void 0:e.mimeType,null==e?void 0:e.quality)}catch(e){n(e)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():o.dragDistance}_off(e,t,n){let r,i,a,o=this.eventListeners[e];for(r=0;r<o.length;r++)if(i=o[r].name,a=o[r].handler,!("konva"===i&&"konva"!==t||t&&i!==t||n&&n!==a)){if(o.splice(r,1),0===o.length){delete this.eventListeners[e];break}r--}}_fireChangeEvent(e,t,n){this._fire(e+"Change",{oldVal:t,newVal:n})}addName(e){if(!this.hasName(e)){const t=this.name(),n=t?t+" "+e:e;this.name(n)}return this}hasName(e){if(!e)return!1;const t=this.name();return!!t&&-1!==(t||"").split(/\s/g).indexOf(e)}removeName(e){const t=(this.name()||"").split(/\s/g),n=t.indexOf(e);return-1!==n&&(t.splice(n,1),this.name(t.join(" "))),this}setAttr(e,t){const n=this["set"+v._capitalize(e)];return v._isFunction(n)?n.call(this,t):this._setAttr(e,t),this}_requestDraw(){if(o.autoDrawEnabled){const e=this.getLayer()||this.getStage();null==e||e.batchDraw()}}_setAttr(e,t){const n=this.attrs[e];(n!==t||v.isObject(t))&&(null==t?delete this.attrs[e]:this.attrs[e]=t,this._shouldFireChangeEvents&&this._fireChangeEvent(e,n,t),this._requestDraw())}_setComponentAttr(e,t,n){let r;void 0!==n&&(r=this.attrs[e],r||(this.attrs[e]=this.getAttr(e)),this.attrs[e][t]=n,this._fireChangeEvent(e,r,n))}_fireAndBubble(e,t,n){t&&this.nodeType===$&&(t.target=this);const r=["mouseenter","mouseleave","pointerenter","pointerleave","touchenter","touchleave"];if(-1===r.indexOf(e)||!(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||"Stage"===this.nodeType&&!n)){this._fire(e,t);const i=-1!==r.indexOf(e)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(t&&!t.cancelBubble||!t)&&this.parent&&this.parent.isListening()&&!i&&(n&&n.parent?this._fireAndBubble.call(this.parent,e,t,n):this._fireAndBubble.call(this.parent,e,t))}}_getProtoListeners(e){var t,n,r;const i=null!==(t=this._cache.get(Y))&&void 0!==t?t:{};let a=null==i?void 0:i[e];if(void 0===a){a=[];let t=Object.getPrototypeOf(this);for(;t;){const i=null!==(r=null===(n=t.eventListeners)||void 0===n?void 0:n[e])&&void 0!==r?r:[];a.push(...i),t=Object.getPrototypeOf(t)}i[e]=a,this._cache.set(Y,i)}return a}_fire(e,t){(t=t||{}).currentTarget=this,t.type=e;const n=this._getProtoListeners(e);if(n)for(let e=0;e<n.length;e++)n[e].handler.call(this,t);const r=this.eventListeners[e];if(r)for(let e=0;e<r.length;e++)r[e].handler.call(this,t)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const t=e?e.pointerId:void 0,n=this.getStage(),r=this.getAbsolutePosition();if(!n)return;const i=n._getPointerById(t)||n._changedPointerPositions[0]||r;D._dragElements.set(this._id,{node:this,startPointerPos:i,offset:{x:i.x-r.x,y:i.y-r.y},dragStatus:"ready",pointerId:t})}startDrag(e,t=!0){D._dragElements.has(this._id)||this._createDragElement(e),D._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},t)}_setDragPosition(e,t){const n=this.getStage()._getPointerById(t.pointerId);if(!n)return;let r={x:n.x-t.offset.x,y:n.y-t.offset.y};const i=this.dragBoundFunc();if(void 0!==i){const t=i.call(this,r,e);t?r=t:v.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===r.x&&this._lastPos.y===r.y||(this.setAbsolutePosition(r),this._requestDraw()),this._lastPos=r}stopDrag(e){const t=D._dragElements.get(this._id);t&&(t.dragStatus="stopped"),D._endDragBefore(e),D._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=D._dragElements.get(this._id);return!!e&&"dragging"===e.dragStatus}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(void 0===e.evt.button||o.dragButtons.indexOf(e.evt.button)>=0))return;if(this.isDragging())return;let t=!1;D._dragElements.forEach(e=>{this.isAncestorOf(e.node)&&(t=!0)}),t||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const e=D._dragElements.get(this._id),t=e&&"dragging"===e.dragStatus,n=e&&"ready"===e.dragStatus;t?this.stopDrag():n&&D._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const t=this.getStage();if(!t)return!1;const n={x:-e.x,y:-e.y,width:t.width()+2*e.x,height:t.height()+2*e.y};return v.haveIntersection(n,this.getClientRect())}static create(e,t){return v._isString(e)&&(e=JSON.parse(e)),this._createNode(e,t)}static _createNode(e,t){let n,r,i,a=re.prototype.getClassName.call(e),s=e.children;if(t&&(e.attrs.container=t),o[a]||(v.warn('Can not find a node with class name "'+a+'". Fallback to "Shape".'),a="Shape"),n=new(0,o[a])(e.attrs),s)for(r=s.length,i=0;i<r;i++)n.add(re._createNode(s[i]));return n}}re.prototype.nodeType="Node",re.prototype._attrsAffectingSize=[],re.prototype.eventListeners={},re.prototype.on.call(re.prototype,te,function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(Z),this._clearSelfAndDescendantCache(q))}),re.prototype.on.call(re.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(ee)}),re.prototype.on.call(re.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Q)}),re.prototype.on.call(re.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(j)});const ie=W.addGetterSetter;ie(re,"zIndex"),ie(re,"absolutePosition"),ie(re,"position"),ie(re,"x",0,L()),ie(re,"y",0,L()),ie(re,"globalCompositeOperation","source-over",F()),ie(re,"opacity",1,L()),ie(re,"name","",F()),ie(re,"id","",F()),ie(re,"rotation",0,L()),W.addComponentsGetterSetter(re,"scale",["x","y"]),ie(re,"scaleX",1,L()),ie(re,"scaleY",1,L()),W.addComponentsGetterSetter(re,"skew",["x","y"]),ie(re,"skewX",0,L()),ie(re,"skewY",0,L()),W.addComponentsGetterSetter(re,"offset",["x","y"]),ie(re,"offsetX",0,L()),ie(re,"offsetY",0,L()),ie(re,"dragDistance",void 0,L()),ie(re,"width",0,L()),ie(re,"height",0,L()),ie(re,"listening",!0,G()),ie(re,"preventDefault",!0,G()),ie(re,"filters",void 0,function(e){return this._filterUpToDate=!1,e}),ie(re,"visible",!0,G()),ie(re,"transformsEnabled","all",F()),ie(re,"size"),ie(re,"dragBoundFunc"),ie(re,"draggable",!1,G()),W.backCompat(re,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class ae extends re{constructor(){super(...arguments),this.children=[]}getChildren(e){const t=this.children||[];return e?t.filter(e):t}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(0===e.length)return this;if(e.length>1){for(let t=0;t<e.length;t++)this.add(e[t]);return this}const t=e[0];return t.getParent()?(t.moveTo(this),this):(this._validateAdd(t),t.index=this.getChildren().length,t.parent=this,t._clearCaches(),this.getChildren().push(t),this._fire("add",{child:t}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const t=this._generalFind(e,!0);return t.length>0?t[0]:void 0}_generalFind(e,t){const n=[];return this._descendants(r=>{const i=r._isMatch(e);return i&&n.push(r),!(!i||!t)}),n}_descendants(e){let t=!1;const n=this.getChildren();for(const r of n){if(t=e(r),t)return!0;if(r.hasChildren()&&(t=r._descendants(e),t))return!0}return!1}toObject(){const e=re.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(t=>{e.children.push(t.toObject())}),e}isAncestorOf(e){let t=e.getParent();for(;t;){if(t._id===this._id)return!0;t=t.getParent()}return!1}clone(e){const t=re.prototype.clone.call(this,e);return this.getChildren().forEach(function(e){t.add(e.clone())}),t}getAllIntersections(e){const t=[];return this.find("Shape").forEach(n=>{n.isVisible()&&n.intersects(e)&&t.push(n)}),t}_clearSelfAndDescendantCache(e){var t;super._clearSelfAndDescendantCache(e),this.isCached()||null===(t=this.children)||void 0===t||t.forEach(function(t){t._clearSelfAndDescendantCache(e)})}_setChildrenIndices(){var e;null===(e=this.children)||void 0===e||e.forEach(function(e,t){e.index=t}),this._requestDraw()}drawScene(e,t,n){const r=this.getLayer(),i=e||r&&r.getCanvas(),a=i&&i.getContext(),o=this._getCanvasCache(),s=o&&o.scene,l=i&&i.isCache;if(!this.isVisible()&&!l)return this;if(s){a.save();const e=this.getAbsoluteTransform(t).getMatrix();a.transform(e[0],e[1],e[2],e[3],e[4],e[5]),this._drawCachedSceneCanvas(a),a.restore()}else this._drawChildren("drawScene",i,t,n);return this}drawHit(e,t){if(!this.shouldDrawHit(t))return this;const n=this.getLayer(),r=e||n&&n.hitCanvas,i=r&&r.getContext(),a=this._getCanvasCache();if(a&&a.hit){i.save();const e=this.getAbsoluteTransform(t).getMatrix();i.transform(e[0],e[1],e[2],e[3],e[4],e[5]),this._drawCachedHitCanvas(i),i.restore()}else this._drawChildren("drawHit",r,t);return this}_drawChildren(e,t,n,r){var i;const a=t&&t.getContext(),o=this.clipWidth(),s=this.clipHeight(),l=this.clipFunc(),u="number"==typeof o&&"number"==typeof s||l,c=n===this;if(u){a.save();const e=this.getAbsoluteTransform(n);let t,r=e.getMatrix();if(a.transform(r[0],r[1],r[2],r[3],r[4],r[5]),a.beginPath(),l)t=l.call(this,a,this);else{const e=this.clipX(),t=this.clipY();a.rect(e||0,t||0,o,s)}a.clip.apply(a,t),r=e.copy().invert().getMatrix(),a.transform(r[0],r[1],r[2],r[3],r[4],r[5])}const h=!c&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===e;h&&(a.save(),a._applyGlobalCompositeOperation(this)),null===(i=this.children)||void 0===i||i.forEach(function(i){i[e](t,n,r)}),h&&a.restore(),u&&a.restore()}getClientRect(e={}){var t;const n=e.skipTransform,r=e.relativeTo;let i,a,o,s,l={x:1/0,y:1/0,width:0,height:0};const u=this;null===(t=this.children)||void 0===t||t.forEach(function(t){if(!t.visible())return;const n=t.getClientRect({relativeTo:u,skipShadow:e.skipShadow,skipStroke:e.skipStroke});0===n.width&&0===n.height||(void 0===i?(i=n.x,a=n.y,o=n.x+n.width,s=n.y+n.height):(i=Math.min(i,n.x),a=Math.min(a,n.y),o=Math.max(o,n.x+n.width),s=Math.max(s,n.y+n.height)))});const c=this.find("Shape");let h=!1;for(let e=0;e<c.length;e++)if(c[e]._isVisible(this)){h=!0;break}return l=h&&void 0!==i?{x:i,y:a,width:o-i,height:s-a}:{x:0,y:0,width:0,height:0},n?l:this._transformedRect(l,r)}}W.addComponentsGetterSetter(ae,"clip",["x","y","width","height"]),W.addGetterSetter(ae,"clipX",void 0,L()),W.addGetterSetter(ae,"clipY",void 0,L()),W.addGetterSetter(ae,"clipWidth",void 0,L()),W.addGetterSetter(ae,"clipHeight",void 0,L()),W.addGetterSetter(ae,"clipFunc");const oe=new Map,se=void 0!==o._global.PointerEvent;function le(e){return oe.get(e)}function ue(e){return{evt:e,pointerId:e.pointerId}}function ce(e,t){return oe.get(e)===t}function he(e,t){de(e),t.getStage()&&(oe.set(e,t),se&&t._fire("gotpointercapture",ue(new PointerEvent("gotpointercapture"))))}function de(e,t){const n=oe.get(e);if(!n)return;const r=n.getStage();r&&r.content,oe.delete(e),se&&n._fire("lostpointercapture",ue(new PointerEvent("lostpointercapture")))}const fe="mouseleave",pe="mouseover",ge="mouseenter",me="mousemove",ve="mousedown",ye="mouseup",be="pointermove",we="pointerdown",Se="pointerup",_e="pointercancel",xe="pointerout",Ce="pointerleave",ke="pointerover",Pe="pointerenter",Te="contextmenu",Ee="touchstart",Re="touchend",Me="touchmove",De="touchcancel",Ae="wheel",Ie=[[ge,"_pointerenter"],[ve,"_pointerdown"],[me,"_pointermove"],[ye,"_pointerup"],[fe,"_pointerleave"],[Ee,"_pointerdown"],[Me,"_pointermove"],[Re,"_pointerup"],[De,"_pointercancel"],[pe,"_pointerover"],[Ae,"_wheel"],[Te,"_contextmenu"],[we,"_pointerdown"],[be,"_pointermove"],[Se,"_pointerup"],[_e,"_pointercancel"],[Ce,"_pointerleave"],["lostpointercapture","_lostpointercapture"]],Le={mouse:{[xe]:"mouseout",[Ce]:fe,[ke]:pe,[Pe]:ge,[be]:me,[we]:ve,[Se]:ye,[_e]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[xe]:"touchout",[Ce]:"touchleave",[ke]:"touchover",[Pe]:"touchenter",[be]:Me,[we]:Ee,[Se]:Re,[_e]:De,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[xe]:xe,[Ce]:Ce,[ke]:ke,[Pe]:Pe,[be]:be,[we]:we,[Se]:Se,[_e]:_e,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Ne=e=>e.indexOf("pointer")>=0?"pointer":e.indexOf("touch")>=0?"touch":"mouse",ze=e=>{const t=Ne(e);return"pointer"===t?o.pointerEventsEnabled&&Le.pointer:"touch"===t?Le.touch:"mouse"===t?Le.mouse:void 0};function Fe(e={}){return(e.clipFunc||e.clipWidth||e.clipHeight)&&v.warn("Stage does not support clipping. Please use clip for Layers or Groups."),e}const Oe=[];class Ge extends ae{constructor(e){super(Fe(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),Oe.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{Fe(this.attrs)}),this._checkVisibility()}_validateAdd(e){const t="Layer"===e.getType(),n="FastLayer"===e.getType();t||n||v.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if("string"==typeof e){let t;if("."===e.charAt(0)){const t=e.slice(1);e=document.getElementsByClassName(t)[0]}else t="#"!==e.charAt(0)?e:e.slice(1),e=document.getElementById(t);if(!e)throw"Can not find container in document with id "+t}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,t=e.length;for(let n=0;n<t;n++)e[n].clear();return this}clone(e){return e||(e={}),e.container="undefined"!=typeof document&&document.createElement("div"),ae.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&v._isInDocument(e)&&this.container().removeChild(e);const t=Oe.indexOf(this);return t>-1&&Oe.splice(t,1),v.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(v.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}_getPointerById(e){return this._pointerPositions.find(t=>t.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){(e={...e}).x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const t=new P({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),n=t.getContext()._context,r=this.children;return(e.x||e.y)&&n.translate(-1*e.x,-1*e.y),r.forEach(function(t){if(!t.isVisible())return;const r=t._toKonvaCanvas(e);n.drawImage(r._canvas,e.x,e.y,r.getWidth()/r.getPixelRatio(),r.getHeight()/r.getPixelRatio())}),t}getIntersection(e){if(!e)return null;const t=this.children;for(let n=t.length-1;n>=0;n--){const r=t[n].getIntersection(e);if(r)return r}return null}_resizeDOM(){const e=this.width(),t=this.height();this.content&&(this.content.style.width=e+"px",this.content.style.height=t+"px"),this.bufferCanvas.setSize(e,t),this.bufferHitCanvas.setSize(e,t),this.children.forEach(n=>{n.setSize({width:e,height:t}),n.draw()})}add(e,...t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}super.add(e);const n=this.children.length;return n>5&&v.warn("The stage has "+n+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),o.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return ce(e,this)}setPointerCapture(e){he(e,this)}releaseCapture(e){de(e)}getLayers(){return this.children}_bindContentEvents(){o.isBrowser&&Ie.forEach(([e,t])=>{this.content.addEventListener(e,e=>{this[t](e)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const t=ze(e.type);t&&this._fire(t.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const t=ze(e.type);t&&this._fire(t.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let t=this[e+"targetShape"];return t&&!t.getStage()&&(t=null),t}_pointerleave(e){const t=ze(e.type),n=Ne(e.type);if(!t)return;this.setPointersPositions(e);const r=this._getTargetShape(n),i=!(o.isDragging()||o.isTransforming())||o.hitOnDragEnabled;r&&i?(r._fireAndBubble(t.pointerout,{evt:e}),r._fireAndBubble(t.pointerleave,{evt:e}),this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this[n+"targetShape"]=null):i&&(this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(t.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const t=ze(e.type),n=Ne(e.type);if(!t)return;this.setPointersPositions(e);let r=!1;this._changedPointerPositions.forEach(i=>{const a=this.getIntersection(i);if(D.justDragged=!1,o["_"+n+"ListenClick"]=!0,!a||!a.isListening())return void(this[n+"ClickStartShape"]=void 0);o.capturePointerEventsEnabled&&a.setPointerCapture(i.id),this[n+"ClickStartShape"]=a,a._fireAndBubble(t.pointerdown,{evt:e,pointerId:i.id}),r=!0;const s=e.type.indexOf("touch")>=0;a.preventDefault()&&e.cancelable&&s&&e.preventDefault()}),r||this._fire(t.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const t=ze(e.type),n=Ne(e.type);if(!t)return;const r=e.type.indexOf("touch")>=0||"touch"===e.pointerType;if(o.isDragging()&&D.node.preventDefault()&&e.cancelable&&r&&e.preventDefault(),this.setPointersPositions(e),(o.isDragging()||o.isTransforming())&&!o.hitOnDragEnabled)return;const i={};let a=!1;const s=this._getTargetShape(n);this._changedPointerPositions.forEach(r=>{const o=le(r.id)||this.getIntersection(r),l=r.id,u={evt:e,pointerId:l},c=s!==o;if(c&&s&&(s._fireAndBubble(t.pointerout,{...u},o),s._fireAndBubble(t.pointerleave,{...u},o)),o){if(i[o._id])return;i[o._id]=!0}o&&o.isListening()?(a=!0,c&&(o._fireAndBubble(t.pointerover,{...u},s),o._fireAndBubble(t.pointerenter,{...u},s),this[n+"targetShape"]=o),o._fireAndBubble(t.pointermove,{...u})):s&&(this._fire(t.pointerover,{evt:e,target:this,currentTarget:this,pointerId:l}),this[n+"targetShape"]=null)}),a||this._fire(t.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const t=ze(e.type),n=Ne(e.type);if(!t)return;this.setPointersPositions(e);const r=this[n+"ClickStartShape"],i=this[n+"ClickEndShape"],a={};let s=!1;this._changedPointerPositions.forEach(l=>{const u=le(l.id)||this.getIntersection(l);if(u){if(u.releaseCapture(l.id),a[u._id])return;a[u._id]=!0}const c=l.id,h={evt:e,pointerId:c};let d=!1;o["_"+n+"InDblClickWindow"]?(d=!0,clearTimeout(this[n+"DblTimeout"])):D.justDragged||(o["_"+n+"InDblClickWindow"]=!0,clearTimeout(this[n+"DblTimeout"])),this[n+"DblTimeout"]=setTimeout(function(){o["_"+n+"InDblClickWindow"]=!1},o.dblClickWindow),u&&u.isListening()?(s=!0,this[n+"ClickEndShape"]=u,u._fireAndBubble(t.pointerup,{...h}),o["_"+n+"ListenClick"]&&r&&r===u&&(u._fireAndBubble(t.pointerclick,{...h}),d&&i&&i===u&&u._fireAndBubble(t.pointerdblclick,{...h}))):(this[n+"ClickEndShape"]=null,s||(this._fire(t.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),s=!0),o["_"+n+"ListenClick"]&&this._fire(t.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:c}),d&&this._fire(t.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:c}))}),s||this._fire(t.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),o["_"+n+"ListenClick"]=!1,e.cancelable&&"touch"!==n&&"pointer"!==n&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(Te,{evt:e}):this._fire(Te,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(Ae,{evt:e}):this._fire(Ae,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const t=le(e.pointerId)||this.getIntersection(this.getPointerPosition());t&&t._fireAndBubble(Se,ue(e)),de(e.pointerId)}_lostpointercapture(e){de(e.pointerId)}setPointersPositions(e){const t=this._getContentPosition();let n=null,r=null;void 0!==(e=e||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,e=>{this._pointerPositions.push({id:e.identifier,x:(e.clientX-t.left)/t.scaleX,y:(e.clientY-t.top)/t.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,e=>{this._changedPointerPositions.push({id:e.identifier,x:(e.clientX-t.left)/t.scaleX,y:(e.clientY-t.top)/t.scaleY})})):(n=(e.clientX-t.left)/t.scaleX,r=(e.clientY-t.top)/t.scaleY,this.pointerPos={x:n,y:r},this._pointerPositions=[{x:n,y:r,id:v._getFirstPointerId(e)}],this._changedPointerPositions=[{x:n,y:r,id:v._getFirstPointerId(e)}])}_setPointerPosition(e){v.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new P({width:this.width(),height:this.height()}),this.bufferHitCanvas=new M({pixelRatio:1,width:this.width(),height:this.height()}),!o.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return v.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}}Ge.prototype.nodeType="Stage",s(Ge),W.addGetterSetter(Ge,"container"),o.isBrowser&&document.addEventListener("visibilitychange",()=>{Oe.forEach(e=>{e.batchDraw()})});const Be="hasShadow",Ue="shadowRGBA",We="patternImage",He="linearGradient",je="radialGradient";let Ye;function qe(){return Ye||(Ye=v.createCanvasElement().getContext("2d"),Ye)}const Ve={};class Xe extends re{constructor(e){let t;for(super(e);t=v.getRandomColor(),!t||t in Ve;);this.colorKey=t,Ve[t]=this}getContext(){return v.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return v.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(Be,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(We,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const e=qe().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(e&&e.setTransform){const t=new u;t.translate(this.fillPatternX(),this.fillPatternY()),t.rotate(o.getAngle(this.fillPatternRotation())),t.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),t.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const n=t.getMatrix(),r="undefined"==typeof DOMMatrix?{a:n[0],b:n[1],c:n[2],d:n[3],e:n[4],f:n[5]}:new DOMMatrix(n);e.setTransform(r)}return e}}_getLinearGradient(){return this._getCache(He,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const t=qe(),n=this.fillLinearGradientStartPoint(),r=this.fillLinearGradientEndPoint(),i=t.createLinearGradient(n.x,n.y,r.x,r.y);for(let t=0;t<e.length;t+=2)i.addColorStop(e[t],e[t+1]);return i}}_getRadialGradient(){return this._getCache(je,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const t=qe(),n=this.fillRadialGradientStartPoint(),r=this.fillRadialGradientEndPoint(),i=t.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),r.x,r.y,this.fillRadialGradientEndRadius());for(let t=0;t<e.length;t+=2)i.addColorStop(e[t],e[t+1]);return i}}getShadowRGBA(){return this._getCache(Ue,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=v.colorToRGBA(this.shadowColor());return e?"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")":void 0}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return"auto"===e?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const t=this.getStage();if(!t)return!1;const n=t.bufferHitCanvas;return n.getContext().clear(),this.drawHit(n,void 0,!0),n.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return re.prototype.destroy.call(this),delete Ve[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var t;if(null!==(t=this.attrs.perfectDrawEnabled)&&void 0!==t&&!t)return!1;const n=e||this.hasFill(),r=this.hasStroke(),i=1!==this.getAbsoluteOpacity();if(n&&r&&i)return!0;const a=this.hasShadow(),o=this.shadowForStrokeEnabled();return!!(n&&r&&a&&o)}setStrokeHitEnabled(e){v.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return 0!==this.hitStrokeWidth()}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let t=!1,n=this.getParent();for(;n;){if(n.isCached()){t=!0;break}n=n.getParent()}const r=e.skipTransform,i=e.relativeTo||t&&this.getStage()||void 0,a=this.getSelfRect(),o=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,s=a.width+o,l=a.height+o,u=!e.skipShadow&&this.hasShadow(),c=u?this.shadowOffsetX():0,h=u?this.shadowOffsetY():0,d=s+Math.abs(c),f=l+Math.abs(h),p=u&&this.shadowBlur()||0,g={width:d+2*p,height:f+2*p,x:-(o/2+p)+Math.min(c,0)+a.x,y:-(o/2+p)+Math.min(h,0)+a.y};return r?g:this._transformedRect(g,i)}drawScene(e,t,n){const r=this.getLayer(),i=(e||r.getCanvas()).getContext(),a=this._getCanvasCache(),o=this.getSceneFunc(),s=this.hasShadow();let l;const u=t===this;if(!this.isVisible()&&!u)return this;if(a){i.save();const e=this.getAbsoluteTransform(t).getMatrix();return i.transform(e[0],e[1],e[2],e[3],e[4],e[5]),this._drawCachedSceneCanvas(i),i.restore(),this}if(!o)return this;if(i.save(),this._useBufferCanvas()){l=this.getStage();const e=n||l.bufferCanvas,r=e.getContext();r.clear(),r.save(),r._applyLineJoin(this),r._applyMiterLimit(this);const a=this.getAbsoluteTransform(t).getMatrix();r.transform(a[0],a[1],a[2],a[3],a[4],a[5]),o.call(this,r,this),r.restore();const u=e.pixelRatio;s&&i._applyShadow(this),i._applyOpacity(this),i._applyGlobalCompositeOperation(this),i.drawImage(e._canvas,e.x||0,e.y||0,e.width/u,e.height/u)}else{if(i._applyLineJoin(this),i._applyMiterLimit(this),!u){const e=this.getAbsoluteTransform(t).getMatrix();i.transform(e[0],e[1],e[2],e[3],e[4],e[5]),i._applyOpacity(this),i._applyGlobalCompositeOperation(this)}s&&i._applyShadow(this),o.call(this,i,this)}return i.restore(),this}drawHit(e,t,n=!1){if(!this.shouldDrawHit(t,n))return this;const r=this.getLayer(),i=e||r.hitCanvas,a=i&&i.getContext(),o=this.hitFunc()||this.sceneFunc(),s=this._getCanvasCache(),l=s&&s.hit;if(this.colorKey||v.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),l){a.save();const e=this.getAbsoluteTransform(t).getMatrix();return a.transform(e[0],e[1],e[2],e[3],e[4],e[5]),this._drawCachedHitCanvas(a),a.restore(),this}if(!o)return this;if(a.save(),a._applyLineJoin(this),a._applyMiterLimit(this),this!==t){const e=this.getAbsoluteTransform(t).getMatrix();a.transform(e[0],e[1],e[2],e[3],e[4],e[5])}return o.call(this,a,this),a.restore(),this}drawHitFromCache(e=0){const t=this._getCanvasCache(),n=this._getCachedSceneCanvas(),r=t.hit,i=r.getContext(),a=r.getWidth(),o=r.getHeight();i.clear(),i.drawImage(n._canvas,0,0,a,o);try{const t=i.getImageData(0,0,a,o),n=t.data,r=n.length,s=v._hexToRgb(this.colorKey);for(let t=0;t<r;t+=4)n[t+3]>e?(n[t]=s.r,n[t+1]=s.g,n[t+2]=s.b,n[t+3]=255):n[t+3]=0;i.putImageData(t,0,0)}catch(e){v.error("Unable to draw hit graph from cached scene canvas. "+e.message)}return this}hasPointerCapture(e){return ce(e,this)}setPointerCapture(e){he(e,this)}releaseCapture(e){de(e)}}Xe.prototype._fillFunc=function(e){const t=this.attrs.fillRule;t?e.fill(t):e.fill()},Xe.prototype._strokeFunc=function(e){e.stroke()},Xe.prototype._fillFuncHit=function(e){const t=this.attrs.fillRule;t?e.fill(t):e.fill()},Xe.prototype._strokeFuncHit=function(e){e.stroke()},Xe.prototype._centroid=!1,Xe.prototype.nodeType="Shape",s(Xe),Xe.prototype.eventListeners={},Xe.prototype.on.call(Xe.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",function(){this._clearCache(Be)}),Xe.prototype.on.call(Xe.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",function(){this._clearCache(Ue)}),Xe.prototype.on.call(Xe.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",function(){this._clearCache(We)}),Xe.prototype.on.call(Xe.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",function(){this._clearCache(He)}),Xe.prototype.on.call(Xe.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",function(){this._clearCache(je)}),W.addGetterSetter(Xe,"stroke",void 0,O()),W.addGetterSetter(Xe,"strokeWidth",2,L()),W.addGetterSetter(Xe,"fillAfterStrokeEnabled",!1),W.addGetterSetter(Xe,"hitStrokeWidth","auto",z()),W.addGetterSetter(Xe,"strokeHitEnabled",!0,G()),W.addGetterSetter(Xe,"perfectDrawEnabled",!0,G()),W.addGetterSetter(Xe,"shadowForStrokeEnabled",!0,G()),W.addGetterSetter(Xe,"lineJoin"),W.addGetterSetter(Xe,"lineCap"),W.addGetterSetter(Xe,"miterLimit"),W.addGetterSetter(Xe,"sceneFunc"),W.addGetterSetter(Xe,"hitFunc"),W.addGetterSetter(Xe,"dash"),W.addGetterSetter(Xe,"dashOffset",0,L()),W.addGetterSetter(Xe,"shadowColor",void 0,F()),W.addGetterSetter(Xe,"shadowBlur",0,L()),W.addGetterSetter(Xe,"shadowOpacity",1,L()),W.addComponentsGetterSetter(Xe,"shadowOffset",["x","y"]),W.addGetterSetter(Xe,"shadowOffsetX",0,L()),W.addGetterSetter(Xe,"shadowOffsetY",0,L()),W.addGetterSetter(Xe,"fillPatternImage"),W.addGetterSetter(Xe,"fill",void 0,O()),W.addGetterSetter(Xe,"fillPatternX",0,L()),W.addGetterSetter(Xe,"fillPatternY",0,L()),W.addGetterSetter(Xe,"fillLinearGradientColorStops"),W.addGetterSetter(Xe,"strokeLinearGradientColorStops"),W.addGetterSetter(Xe,"fillRadialGradientStartRadius",0),W.addGetterSetter(Xe,"fillRadialGradientEndRadius",0),W.addGetterSetter(Xe,"fillRadialGradientColorStops"),W.addGetterSetter(Xe,"fillPatternRepeat","repeat"),W.addGetterSetter(Xe,"fillEnabled",!0),W.addGetterSetter(Xe,"strokeEnabled",!0),W.addGetterSetter(Xe,"shadowEnabled",!0),W.addGetterSetter(Xe,"dashEnabled",!0),W.addGetterSetter(Xe,"strokeScaleEnabled",!0),W.addGetterSetter(Xe,"fillPriority","color"),W.addComponentsGetterSetter(Xe,"fillPatternOffset",["x","y"]),W.addGetterSetter(Xe,"fillPatternOffsetX",0,L()),W.addGetterSetter(Xe,"fillPatternOffsetY",0,L()),W.addComponentsGetterSetter(Xe,"fillPatternScale",["x","y"]),W.addGetterSetter(Xe,"fillPatternScaleX",1,L()),W.addGetterSetter(Xe,"fillPatternScaleY",1,L()),W.addComponentsGetterSetter(Xe,"fillLinearGradientStartPoint",["x","y"]),W.addComponentsGetterSetter(Xe,"strokeLinearGradientStartPoint",["x","y"]),W.addGetterSetter(Xe,"fillLinearGradientStartPointX",0),W.addGetterSetter(Xe,"strokeLinearGradientStartPointX",0),W.addGetterSetter(Xe,"fillLinearGradientStartPointY",0),W.addGetterSetter(Xe,"strokeLinearGradientStartPointY",0),W.addComponentsGetterSetter(Xe,"fillLinearGradientEndPoint",["x","y"]),W.addComponentsGetterSetter(Xe,"strokeLinearGradientEndPoint",["x","y"]),W.addGetterSetter(Xe,"fillLinearGradientEndPointX",0),W.addGetterSetter(Xe,"strokeLinearGradientEndPointX",0),W.addGetterSetter(Xe,"fillLinearGradientEndPointY",0),W.addGetterSetter(Xe,"strokeLinearGradientEndPointY",0),W.addComponentsGetterSetter(Xe,"fillRadialGradientStartPoint",["x","y"]),W.addGetterSetter(Xe,"fillRadialGradientStartPointX",0),W.addGetterSetter(Xe,"fillRadialGradientStartPointY",0),W.addComponentsGetterSetter(Xe,"fillRadialGradientEndPoint",["x","y"]),W.addGetterSetter(Xe,"fillRadialGradientEndPointX",0),W.addGetterSetter(Xe,"fillRadialGradientEndPointY",0),W.addGetterSetter(Xe,"fillPatternRotation",0),W.addGetterSetter(Xe,"fillRule",void 0,F()),W.backCompat(Xe,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const Qe=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],$e=Qe.length;class Ke extends ae{constructor(e){super(e),this.canvas=new P,this.hitCanvas=new M({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),e<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[e+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){re.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!re.prototype.moveUp.call(this))return!1;const e=this.getStage();return!(!e||!e.content||(e.content.removeChild(this.getNativeCanvasElement()),this.index<e.children.length-1?e.content.insertBefore(this.getNativeCanvasElement(),e.children[this.index+1].getCanvas()._canvas):e.content.appendChild(this.getNativeCanvasElement()),0))}moveDown(){if(re.prototype.moveDown.call(this)){const e=this.getStage();if(e){const t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(re.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return re.prototype.remove.call(this),e&&e.parentNode&&v._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:t}){return this.canvas.setSize(e,t),this.hitCanvas.setSize(e,t),this._setSmoothEnabled(),this}_validateAdd(e){const t=e.getType();"Group"!==t&&"Shape"!==t&&v.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return(e={...e}).width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=void 0!==e.x?e.x:this.x(),e.y=void 0!==e.y?e.y:this.y(),re.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){const e=this.visible();this.canvas._canvas.style.display=e?"block":"none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){v.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){v.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,v.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let t=1,n=!1;for(;;){for(let r=0;r<$e;r++){const i=Qe[r],a=this._getIntersection({x:e.x+i.x*t,y:e.y+i.y*t}),o=a.shape;if(o)return o;if(n=!!a.antialiased,!a.antialiased)break}if(!n)return null;t+=1}}_getIntersection(e){const t=this.hitCanvas.pixelRatio,n=this.hitCanvas.context.getImageData(Math.round(e.x*t),Math.round(e.y*t),1,1).data,r=n[3];if(255===r){const e=v._rgbToHex(n[0],n[1],n[2]),t=Ve["#"+e];return t?{shape:t}:{antialiased:!0}}return r>0?{antialiased:!0}:{}}drawScene(e,t,n){const r=this.getLayer(),i=e||r&&r.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&i.getContext().clear(),ae.prototype.drawScene.call(this,i,t,n),this._fire("draw",{node:this}),this}drawHit(e,t){const n=this.getLayer(),r=e||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),ae.prototype.drawHit.call(this,r,t),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){v.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return v.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return v.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}Ke.prototype.nodeType="Layer",s(Ke),W.addGetterSetter(Ke,"imageSmoothingEnabled",!0),W.addGetterSetter(Ke,"clearBeforeDraw",!0),W.addGetterSetter(Ke,"hitGraphEnabled",!0,G());class Je extends Ke{constructor(e){super(e),this.listening(!1),v.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Je.prototype.nodeType="FastLayer",s(Je);class Ze extends ae{_validateAdd(e){const t=e.getType();"Group"!==t&&"Shape"!==t&&v.throw("You may only add groups and shapes to groups.")}}Ze.prototype.nodeType="Group",s(Ze);const et=a.performance&&a.performance.now?function(){return a.performance.now()}:function(){return(new Date).getTime()};class tt{constructor(e,t){this.id=tt.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:et(),frameRate:0},this.func=e,this.setLayers(t)}setLayers(e){let t=[];return e&&(t=Array.isArray(e)?e:[e]),this.layers=t,this}getLayers(){return this.layers}addLayer(e){const t=this.layers,n=t.length;for(let r=0;r<n;r++)if(t[r]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const e=tt.animations,t=e.length;for(let n=0;n<t;n++)if(e[n].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=et(),tt._addAnimation(this),this}stop(){return tt._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const t=e.id,n=this.animations,r=n.length;for(let e=0;e<r;e++)if(n[e].id===t){this.animations.splice(e,1);break}}static _runFrames(){const e={},t=this.animations;for(let n=0;n<t.length;n++){const r=t[n],i=r.layers,a=r.func;r._updateFrameObject(et());const o=i.length;let s;if(s=!a||!1!==a.call(r,r.frame),s)for(let t=0;t<o;t++){const n=i[t];void 0!==n._id&&(e[n._id]=n)}}for(const t in e)e.hasOwnProperty(t)&&e[t].batchDraw()}static _animationLoop(){const e=tt;e.animations.length?(e._runFrames(),v.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,v.requestAnimFrame(this._animationLoop))}}tt.animations=[],tt.animIdCounter=0,tt.animRunning=!1;const nt={node:1,duration:1,easing:1,onFinish:1,yoyo:1},rt=["fill","stroke","shadowColor"];let it=0;class at{constructor(e,t,n,r,i,a,o){this.prop=e,this.propFunc=t,this.begin=r,this._pos=r,this.duration=a,this._change=0,this.prevPos=0,this.yoyo=o,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=i-this.begin,this.pause()}fire(e){const t=this[e];t&&t()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return void 0===e&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;2===this.state?this.setTime(e):3===this.state&&this.setTime(this.duration-e)}pause(){this.state=1,this.fire("onPause")}getTimer(){return(new Date).getTime()}}class ot{constructor(e){const t=this,n=e.node,r=n._id,i=e.easing||st.Linear,a=!!e.yoyo;let s,l;s=void 0===e.duration?.3:0===e.duration?.001:e.duration,this.node=n,this._id=it++;const u=n.getLayer()||(n instanceof o.Stage?n.getLayers():null);for(l in u||v.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new tt(function(){t.tween.onEnterFrame()},u),this.tween=new at(l,function(e){t._tweenFunc(e)},i,0,1,1e3*s,a),this._addListeners(),ot.attrs[r]||(ot.attrs[r]={}),ot.attrs[r][this._id]||(ot.attrs[r][this._id]={}),ot.tweens[r]||(ot.tweens[r]={}),e)void 0===nt[l]&&this._addAttr(l,e[l]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,t){const n=this.node,r=n._id;let i,a,o,s,l;const u=ot.tweens[r][e];u&&delete ot.attrs[r][u][e];let c=n.getAttr(e);if(v._isArray(t))if(i=[],a=Math.max(t.length,c.length),"points"===e&&t.length!==c.length&&(t.length>c.length?(s=c,c=v._prepareArrayForTween(c,t,n.closed())):(o=t,t=v._prepareArrayForTween(t,c,n.closed()))),0===e.indexOf("fill"))for(let e=0;e<a;e++)if(e%2==0)i.push(t[e]-c[e]);else{const n=v.colorToRGBA(c[e]);l=v.colorToRGBA(t[e]),c[e]=n,i.push({r:l.r-n.r,g:l.g-n.g,b:l.b-n.b,a:l.a-n.a})}else for(let e=0;e<a;e++)i.push(t[e]-c[e]);else-1!==rt.indexOf(e)?(c=v.colorToRGBA(c),l=v.colorToRGBA(t),i={r:l.r-c.r,g:l.g-c.g,b:l.b-c.b,a:l.a-c.a}):i=t-c;ot.attrs[r][this._id][e]={start:c,diff:i,end:t,trueEnd:o,trueStart:s},ot.tweens[r][e]=this._id}_tweenFunc(e){const t=this.node,n=ot.attrs[t._id][this._id];let r,i,a,o,s,l,u,c;for(r in n){if(i=n[r],a=i.start,o=i.diff,c=i.end,v._isArray(a))if(s=[],u=Math.max(a.length,c.length),0===r.indexOf("fill"))for(l=0;l<u;l++)l%2==0?s.push((a[l]||0)+o[l]*e):s.push("rgba("+Math.round(a[l].r+o[l].r*e)+","+Math.round(a[l].g+o[l].g*e)+","+Math.round(a[l].b+o[l].b*e)+","+(a[l].a+o[l].a*e)+")");else for(l=0;l<u;l++)s.push((a[l]||0)+o[l]*e);else s=-1!==rt.indexOf(r)?"rgba("+Math.round(a.r+o.r*e)+","+Math.round(a.g+o.g*e)+","+Math.round(a.b+o.b*e)+","+(a.a+o.a*e)+")":a+o*e;t.setAttr(r,s)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,t=ot.attrs[e._id][this._id];t.points&&t.points.trueEnd&&e.setAttr("points",t.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,t=ot.attrs[e._id][this._id];t.points&&t.points.trueStart&&e.points(t.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(1e3*e),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,t=this._id,n=ot.tweens[e];this.pause(),this.anim&&this.anim.stop();for(const t in n)delete ot.tweens[e][t];delete ot.attrs[e][t],ot.tweens[e]&&(0===Object.keys(ot.tweens[e]).length&&delete ot.tweens[e],0===Object.keys(ot.attrs[e]).length&&delete ot.attrs[e])}}ot.attrs={},ot.tweens={},re.prototype.to=function(e){const t=e.onFinish;e.node=this,e.onFinish=function(){this.destroy(),t&&t()},new ot(e).play()};const st={BackEaseIn(e,t,n,r){const i=1.70158;return n*(e/=r)*e*((i+1)*e-i)+t},BackEaseOut(e,t,n,r){const i=1.70158;return n*((e=e/r-1)*e*((i+1)*e+i)+1)+t},BackEaseInOut(e,t,n,r){let i=1.70158;return(e/=r/2)<1?n/2*(e*e*((1+(i*=1.525))*e-i))+t:n/2*((e-=2)*e*((1+(i*=1.525))*e+i)+2)+t},ElasticEaseIn(e,t,n,r,i,a){let o=0;return 0===e?t:1===(e/=r)?t+n:(a||(a=.3*r),!i||i<Math.abs(n)?(i=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/i),-i*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*(2*Math.PI)/a)+t)},ElasticEaseOut(e,t,n,r,i,a){let o=0;return 0===e?t:1===(e/=r)?t+n:(a||(a=.3*r),!i||i<Math.abs(n)?(i=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*e)*Math.sin((e*r-o)*(2*Math.PI)/a)+n+t)},ElasticEaseInOut(e,t,n,r,i,a){let o=0;return 0===e?t:2==(e/=r/2)?t+n:(a||(a=r*(.3*1.5)),!i||i<Math.abs(n)?(i=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/i),e<1?i*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*(2*Math.PI)/a)*-.5+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*r-o)*(2*Math.PI)/a)*.5+n+t)},BounceEaseOut:(e,t,n,r)=>(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t,BounceEaseIn:(e,t,n,r)=>n-st.BounceEaseOut(r-e,0,n,r)+t,BounceEaseInOut:(e,t,n,r)=>e<r/2?.5*st.BounceEaseIn(2*e,0,n,r)+t:.5*st.BounceEaseOut(2*e-r,0,n,r)+.5*n+t,EaseIn:(e,t,n,r)=>n*(e/=r)*e+t,EaseOut:(e,t,n,r)=>-n*(e/=r)*(e-2)+t,EaseInOut:(e,t,n,r)=>(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t,StrongEaseIn:(e,t,n,r)=>n*(e/=r)*e*e*e*e+t,StrongEaseOut:(e,t,n,r)=>n*((e=e/r-1)*e*e*e*e+1)+t,StrongEaseInOut:(e,t,n,r)=>(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t,Linear:(e,t,n,r)=>n*e/r+t},lt=v._assign(o,{Util:v,Transform:u,Node:re,Container:ae,Stage:Ge,stages:Oe,Layer:Ke,FastLayer:Je,Group:Ze,DD:D,Shape:Xe,shapes:Ve,Animation:tt,Tween:ot,Easings:st,Context:_,Canvas:k});class ut extends Xe{_sceneFunc(e){const t=o.getAngle(this.angle()),n=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,t,n),e.arc(0,0,this.innerRadius(),t,0,!n),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),t=this.outerRadius(),n=this.clockwise(),r=o.getAngle(n?360-this.angle():this.angle()),i=Math.cos(Math.min(r,Math.PI)),a=Math.sin(Math.min(Math.max(Math.PI,r),3*Math.PI/2)),s=Math.sin(Math.min(r,Math.PI/2)),l=i*(i>0?e:t),u=a*(a>0?e:t),c=s*(s>0?t:e);return{x:l,y:n?-1*c:u,width:1*t-l,height:c-u}}}function ct(e,t,n,r,i,a,o){const s=Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2)),l=Math.sqrt(Math.pow(i-n,2)+Math.pow(a-r,2)),u=o*s/(s+l),c=o*l/(s+l);return[n-u*(i-e),r-u*(a-t),n+c*(i-e),r+c*(a-t)]}function ht(e,t){const n=e.length,r=[];for(let i=2;i<n-2;i+=2){const n=ct(e[i-2],e[i-1],e[i],e[i+1],e[i+2],e[i+3],t);isNaN(n[0])||(r.push(n[0]),r.push(n[1]),r.push(e[i]),r.push(e[i+1]),r.push(n[2]),r.push(n[3]))}return r}ut.prototype._centroid=!0,ut.prototype.className="Arc",ut.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"],s(ut),W.addGetterSetter(ut,"innerRadius",0,L()),W.addGetterSetter(ut,"outerRadius",0,L()),W.addGetterSetter(ut,"angle",0,L()),W.addGetterSetter(ut,"clockwise",!1,G());class dt extends Xe{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const t=this.points(),n=t.length,r=this.tension(),i=this.closed(),a=this.bezier();if(!n)return;let o=0;if(e.beginPath(),e.moveTo(t[0],t[1]),0!==r&&n>4){const r=this.getTensionPoints(),a=r.length;for(o=i?0:4,i||e.quadraticCurveTo(r[0],r[1],r[2],r[3]);o<a-2;)e.bezierCurveTo(r[o++],r[o++],r[o++],r[o++],r[o++],r[o++]);i||e.quadraticCurveTo(r[a-2],r[a-1],t[n-2],t[n-1])}else if(a)for(o=2;o<n;)e.bezierCurveTo(t[o++],t[o++],t[o++],t[o++],t[o++],t[o++]);else for(o=2;o<n;o+=2)e.lineTo(t[o],t[o+1]);i?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():ht(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),t=e.length,n=this.tension(),r=ct(e[t-2],e[t-1],e[0],e[1],e[2],e[3],n),i=ct(e[t-4],e[t-3],e[t-2],e[t-1],e[0],e[1],n),a=ht(e,n);return[r[2],r[3]].concat(a).concat([i[0],i[1],e[t-2],e[t-1],i[2],i[3],r[0],r[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};e=0!==this.tension()?[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:this.points();let t,n,r=e[0],i=e[0],a=e[1],o=e[1];for(let s=0;s<e.length/2;s++)t=e[2*s],n=e[2*s+1],r=Math.min(r,t),i=Math.max(i,t),a=Math.min(a,n),o=Math.max(o,n);return{x:r,y:a,width:i-r,height:o-a}}}dt.prototype.className="Line",dt.prototype._attrsAffectingSize=["points","bezier","tension"],s(dt),W.addGetterSetter(dt,"closed",!1),W.addGetterSetter(dt,"bezier",!1),W.addGetterSetter(dt,"tension",0,L()),W.addGetterSetter(dt,"points",[],function(){if(o.isUnminified)return function(e,t){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&e instanceof n||(v._isArray(e)?e.forEach(function(e){v._isNumber(e)||v.warn('"'+t+'" attribute has non numeric element '+e+". Make sure that all elements are numbers.")}):v.warn(A(e)+' is a not valid value for "'+t+'" attribute. The value should be a array of numbers.')),e}}());const ft=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],pt=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],gt=[[1],[1,1],[1,2,1],[1,3,3,1]],mt=(e,t,n)=>{let r,i;const a=n/2;r=0;for(let n=0;n<20;n++)i=a*ft[20][n]+a,r+=pt[20][n]*yt(e,t,i);return a*r},vt=(e,t,n)=>{void 0===n&&(n=1);const r=e[0]-2*e[1]+e[2],i=t[0]-2*t[1]+t[2],a=2*e[1]-2*e[0],o=2*t[1]-2*t[0],s=4*(r*r+i*i),l=4*(r*a+i*o),u=a*a+o*o;if(0===s)return n*Math.sqrt(Math.pow(e[2]-e[0],2)+Math.pow(t[2]-t[0],2));const c=l/(2*s),h=n+c,d=u/s-c*c,f=h*h+d>0?Math.sqrt(h*h+d):0,p=c*c+d>0?Math.sqrt(c*c+d):0,g=c+Math.sqrt(c*c+d)!==0?d*Math.log(Math.abs((h+f)/(c+p))):0;return Math.sqrt(s)/2*(h*f-c*p+g)};function yt(e,t,n){const r=bt(1,n,e),i=bt(1,n,t),a=r*r+i*i;return Math.sqrt(a)}const bt=(e,t,n)=>{const r=n.length-1;let i,a;if(0===r)return 0;if(0===e){a=0;for(let e=0;e<=r;e++)a+=gt[r][e]*Math.pow(1-t,r-e)*Math.pow(t,e)*n[e];return a}i=new Array(r);for(let e=0;e<r;e++)i[e]=r*(n[e+1]-n[e]);return bt(e-1,t,i)},wt=(e,t,n)=>{let r=1,i=e/t,a=(e-n(i))/t,o=0;for(;r>.001;){const s=n(i+a),l=Math.abs(e-s)/t;if(l<r)r=l,i+=a;else{const o=n(i-a),s=Math.abs(e-o)/t;s<r?(r=s,i-=a):a/=2}if(o++,o>500)break}return i};class St extends Xe{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=St.parsePathData(this.data()),this.pathLength=St.getPathLength(this.dataArray)}_sceneFunc(e){const t=this.dataArray;e.beginPath();let n=!1;for(let r=0;r<t.length;r++){const i=t[r].command,a=t[r].points;switch(i){case"L":e.lineTo(a[0],a[1]);break;case"M":e.moveTo(a[0],a[1]);break;case"C":e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"Q":e.quadraticCurveTo(a[0],a[1],a[2],a[3]);break;case"A":const t=a[0],r=a[1],i=a[2],o=a[3],s=a[4],l=a[5],u=a[6],c=a[7],h=i>o?i:o,d=i>o?1:i/o,f=i>o?o/i:1;e.translate(t,r),e.rotate(u),e.scale(d,f),e.arc(0,0,h,s,s+l,1-c),e.scale(1/d,1/f),e.rotate(-u),e.translate(-t,-r);break;case"z":n=!0,e.closePath()}}n||this.hasFill()?e.fillStrokeShape(this):e.strokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(t){if("A"===t.command){const n=t.points[4],r=t.points[5],i=t.points[4]+r;let a=Math.PI/180;if(Math.abs(n-i)<a&&(a=Math.abs(n-i)),r<0)for(let r=n-a;r>i;r-=a){const n=St.getPointOnEllipticalArc(t.points[0],t.points[1],t.points[2],t.points[3],r,0);e.push(n.x,n.y)}else for(let r=n+a;r<i;r+=a){const n=St.getPointOnEllipticalArc(t.points[0],t.points[1],t.points[2],t.points[3],r,0);e.push(n.x,n.y)}}else if("C"===t.command)for(let n=0;n<=1;n+=.01){const r=St.getPointOnCubicBezier(n,t.start.x,t.start.y,t.points[0],t.points[1],t.points[2],t.points[3],t.points[4],t.points[5]);e.push(r.x,r.y)}else e=e.concat(t.points)});let t,n,r=e[0],i=e[0],a=e[1],o=e[1];for(let s=0;s<e.length/2;s++)t=e[2*s],n=e[2*s+1],isNaN(t)||(r=Math.min(r,t),i=Math.max(i,t)),isNaN(n)||(a=Math.min(a,n),o=Math.max(o,n));return{x:r,y:a,width:i-r,height:o-a}}getLength(){return this.pathLength}getPointAtLength(e){return St.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))}static getPathLength(e){let t=0;for(let n=0;n<e.length;++n)t+=e[n].pathLength;return t}static getPointAtLengthOfDataArray(e,t){let n,r=0,i=t.length;if(!i)return null;for(;r<i&&e>t[r].pathLength;)e-=t[r].pathLength,++r;if(r===i)return n=t[r-1].points.slice(-2),{x:n[0],y:n[1]};if(e<.01)return"M"===t[r].command?(n=t[r].points.slice(0,2),{x:n[0],y:n[1]}):{x:t[r].start.x,y:t[r].start.y};const a=t[r],o=a.points;switch(a.command){case"L":return St.getPointOnLine(e,a.start.x,a.start.y,o[0],o[1]);case"C":return St.getPointOnCubicBezier(wt(e,St.getPathLength(t),e=>mt([a.start.x,o[0],o[2],o[4]],[a.start.y,o[1],o[3],o[5]],e)),a.start.x,a.start.y,o[0],o[1],o[2],o[3],o[4],o[5]);case"Q":return St.getPointOnQuadraticBezier(wt(e,St.getPathLength(t),e=>vt([a.start.x,o[0],o[2]],[a.start.y,o[1],o[3]],e)),a.start.x,a.start.y,o[0],o[1],o[2],o[3]);case"A":const n=o[0],r=o[1],i=o[2],s=o[3],l=o[5],u=o[6];let c=o[4];return c+=l*e/a.pathLength,St.getPointOnEllipticalArc(n,r,i,s,c,u)}return null}static getPointOnLine(e,t,n,r,i,a,o){a=null!=a?a:t,o=null!=o?o:n;const s=this.getLineLength(t,n,r,i);if(s<1e-10)return{x:t,y:n};if(r===t)return{x:a,y:o+(i>n?e:-e)};const l=(i-n)/(r-t),u=Math.sqrt(e*e/(1+l*l))*(r<t?-1:1),c=l*u;if(Math.abs(o-n-l*(a-t))<1e-10)return{x:a+u,y:o+c};const h=((a-t)*(r-t)+(o-n)*(i-n))/(s*s),d=t+h*(r-t),f=n+h*(i-n),p=this.getLineLength(a,o,d,f),g=Math.sqrt(e*e-p*p),m=Math.sqrt(g*g/(1+l*l))*(r<t?-1:1);return{x:d+m,y:f+l*m}}static getPointOnCubicBezier(e,t,n,r,i,a,o,s,l){function u(e){return e*e*e}function c(e){return 3*e*e*(1-e)}function h(e){return 3*e*(1-e)*(1-e)}function d(e){return(1-e)*(1-e)*(1-e)}return{x:s*u(e)+a*c(e)+r*h(e)+t*d(e),y:l*u(e)+o*c(e)+i*h(e)+n*d(e)}}static getPointOnQuadraticBezier(e,t,n,r,i,a,o){function s(e){return e*e}function l(e){return 2*e*(1-e)}function u(e){return(1-e)*(1-e)}return{x:a*s(e)+r*l(e)+t*u(e),y:o*s(e)+i*l(e)+n*u(e)}}static getPointOnEllipticalArc(e,t,n,r,i,a){const o=Math.cos(a),s=Math.sin(a),l=n*Math.cos(i),u=r*Math.sin(i);return{x:e+(l*o-u*s),y:t+(l*s+u*o)}}static parsePathData(e){if(!e)return[];let t=e;const n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];t=t.replace(new RegExp(" ","g"),",");for(let e=0;e<n.length;e++)t=t.replace(new RegExp(n[e],"g"),"|"+n[e]);const r=t.split("|"),i=[],a=[];let o=0,s=0;const l=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let u;for(let e=1;e<r.length;e++){let t=r[e],n=t.charAt(0);for(t=t.slice(1),a.length=0;u=l.exec(t);)a.push(u[0]);let c=[],h="A"===n||"a"===n?0:-1;for(let e=0,t=a.length;e<t;e++){const t=a[e];if("00"!==t)if(h>=0){if(3===h){if(/^[01]{2}\d+(?:\.\d+)?$/.test(t)){c.push(parseInt(t[0],10)),c.push(parseInt(t[1],10)),c.push(parseFloat(t.slice(2))),h+=3,h>=7&&(h-=7);continue}if("11"===t||"10"===t||"01"===t){c.push(parseInt(t[0],10)),c.push(parseInt(t[1],10)),h+=2,h>=7&&(h-=7);continue}if("0"===t||"1"===t){c.push(parseInt(t,10)),h+=1,h>=7&&(h-=7);continue}}else if(4===h){if(/^[01]\d+(?:\.\d+)?$/.test(t)){c.push(parseInt(t[0],10)),c.push(parseFloat(t.slice(1))),h+=2,h>=7&&(h-=7);continue}if("0"===t||"1"===t){c.push(parseInt(t,10)),h+=1,h>=7&&(h-=7);continue}}const e=parseFloat(t);isNaN(e)?c.push(0):c.push(e),h+=1,h>=7&&(h-=7)}else{const e=parseFloat(t);isNaN(e)?c.push(0):c.push(e)}else c.push(0,0),h>=0&&(h+=2,h>=7&&(h-=7))}for(;c.length>0&&!isNaN(c[0]);){let e="",t=[];const r=o,a=s;let l,u,h,d,f,p,g,m,v,y;switch(n){case"l":o+=c.shift(),s+=c.shift(),e="L",t.push(o,s);break;case"L":o=c.shift(),s=c.shift(),t.push(o,s);break;case"m":const r=c.shift(),a=c.shift();if(o+=r,s+=a,e="M",i.length>2&&"z"===i[i.length-1].command)for(let e=i.length-2;e>=0;e--)if("M"===i[e].command){o=i[e].points[0]+r,s=i[e].points[1]+a;break}t.push(o,s),n="l";break;case"M":o=c.shift(),s=c.shift(),e="M",t.push(o,s),n="L";break;case"h":o+=c.shift(),e="L",t.push(o,s);break;case"H":o=c.shift(),e="L",t.push(o,s);break;case"v":s+=c.shift(),e="L",t.push(o,s);break;case"V":s=c.shift(),e="L",t.push(o,s);break;case"C":t.push(c.shift(),c.shift(),c.shift(),c.shift()),o=c.shift(),s=c.shift(),t.push(o,s);break;case"c":t.push(o+c.shift(),s+c.shift(),o+c.shift(),s+c.shift()),o+=c.shift(),s+=c.shift(),e="C",t.push(o,s);break;case"S":u=o,h=s,l=i[i.length-1],"C"===l.command&&(u=o+(o-l.points[2]),h=s+(s-l.points[3])),t.push(u,h,c.shift(),c.shift()),o=c.shift(),s=c.shift(),e="C",t.push(o,s);break;case"s":u=o,h=s,l=i[i.length-1],"C"===l.command&&(u=o+(o-l.points[2]),h=s+(s-l.points[3])),t.push(u,h,o+c.shift(),s+c.shift()),o+=c.shift(),s+=c.shift(),e="C",t.push(o,s);break;case"Q":t.push(c.shift(),c.shift()),o=c.shift(),s=c.shift(),t.push(o,s);break;case"q":t.push(o+c.shift(),s+c.shift()),o+=c.shift(),s+=c.shift(),e="Q",t.push(o,s);break;case"T":u=o,h=s,l=i[i.length-1],"Q"===l.command&&(u=o+(o-l.points[0]),h=s+(s-l.points[1])),o=c.shift(),s=c.shift(),e="Q",t.push(u,h,o,s);break;case"t":u=o,h=s,l=i[i.length-1],"Q"===l.command&&(u=o+(o-l.points[0]),h=s+(s-l.points[1])),o+=c.shift(),s+=c.shift(),e="Q",t.push(u,h,o,s);break;case"A":d=c.shift(),f=c.shift(),p=c.shift(),g=c.shift(),m=c.shift(),v=o,y=s,o=c.shift(),s=c.shift(),e="A",t=this.convertEndpointToCenterParameterization(v,y,o,s,g,m,d,f,p);break;case"a":d=c.shift(),f=c.shift(),p=c.shift(),g=c.shift(),m=c.shift(),v=o,y=s,o+=c.shift(),s+=c.shift(),e="A",t=this.convertEndpointToCenterParameterization(v,y,o,s,g,m,d,f,p)}i.push({command:e||n,points:t,start:{x:r,y:a},pathLength:this.calcLength(r,a,e||n,t)})}"z"!==n&&"Z"!==n||i.push({command:"z",points:[],start:void 0,pathLength:0})}return i}static calcLength(e,t,n,r){let i,a,o,s;const l=St;switch(n){case"L":return l.getLineLength(e,t,r[0],r[1]);case"C":return mt([e,r[0],r[2],r[4]],[t,r[1],r[3],r[5]],1);case"Q":return vt([e,r[0],r[2]],[t,r[1],r[3]],1);case"A":i=0;const n=r[4],u=r[5],c=r[4]+u;let h=Math.PI/180;if(Math.abs(n-c)<h&&(h=Math.abs(n-c)),a=l.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],n,0),u<0)for(s=n-h;s>c;s-=h)o=l.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],s,0),i+=l.getLineLength(a.x,a.y,o.x,o.y),a=o;else for(s=n+h;s<c;s+=h)o=l.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],s,0),i+=l.getLineLength(a.x,a.y,o.x,o.y),a=o;return o=l.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],c,0),i+=l.getLineLength(a.x,a.y,o.x,o.y),i}return 0}static convertEndpointToCenterParameterization(e,t,n,r,i,a,o,s,l){const u=l*(Math.PI/180),c=Math.cos(u)*(e-n)/2+Math.sin(u)*(t-r)/2,h=-1*Math.sin(u)*(e-n)/2+Math.cos(u)*(t-r)/2,d=c*c/(o*o)+h*h/(s*s);d>1&&(o*=Math.sqrt(d),s*=Math.sqrt(d));let f=Math.sqrt((o*o*(s*s)-o*o*(h*h)-s*s*(c*c))/(o*o*(h*h)+s*s*(c*c)));i===a&&(f*=-1),isNaN(f)&&(f=0);const p=f*o*h/s,g=f*-s*c/o,m=(e+n)/2+Math.cos(u)*p-Math.sin(u)*g,v=(t+r)/2+Math.sin(u)*p+Math.cos(u)*g,y=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},b=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(y(e)*y(t))},w=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(b(e,t))},S=w([1,0],[(c-p)/o,(h-g)/s]),_=[(c-p)/o,(h-g)/s],x=[(-1*c-p)/o,(-1*h-g)/s];let C=w(_,x);return b(_,x)<=-1&&(C=Math.PI),b(_,x)>=1&&(C=0),0===a&&C>0&&(C-=2*Math.PI),1===a&&C<0&&(C+=2*Math.PI),[m,v,o,s,S,C,u,a]}}St.prototype.className="Path",St.prototype._attrsAffectingSize=["data"],s(St),W.addGetterSetter(St,"data");class _t extends dt{_sceneFunc(e){super._sceneFunc(e);const t=2*Math.PI,n=this.points();let r=n;const i=0!==this.tension()&&n.length>4;i&&(r=this.getTensionPoints());const a=this.pointerLength(),o=n.length;let s,l;if(i){const e=[r[r.length-4],r[r.length-3],r[r.length-2],r[r.length-1],n[o-2],n[o-1]],t=St.calcLength(r[r.length-4],r[r.length-3],"C",e),i=St.getPointOnQuadraticBezier(Math.min(1,1-a/t),e[0],e[1],e[2],e[3],e[4],e[5]);s=n[o-2]-i.x,l=n[o-1]-i.y}else s=n[o-2]-n[o-4],l=n[o-1]-n[o-3];const u=(Math.atan2(l,s)+t)%t,c=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(n[o-2],n[o-1]),e.rotate(u),e.moveTo(0,0),e.lineTo(-a,c/2),e.lineTo(-a,-c/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(n[0],n[1]),i?(s=(r[0]+r[2])/2-n[0],l=(r[1]+r[3])/2-n[1]):(s=n[2]-n[0],l=n[3]-n[1]),e.rotate((Math.atan2(-l,-s)+t)%t),e.moveTo(0,0),e.lineTo(-a,c/2),e.lineTo(-a,-c/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const t=this.dashEnabled();t&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),t&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),t=this.pointerWidth()/2;return{x:e.x,y:e.y-t,width:e.width,height:e.height+2*t}}}_t.prototype.className="Arrow",s(_t),W.addGetterSetter(_t,"pointerLength",10,L()),W.addGetterSetter(_t,"pointerWidth",10,L()),W.addGetterSetter(_t,"pointerAtBeginning",!1),W.addGetterSetter(_t,"pointerAtEnding",!0);class xt extends Xe{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}xt.prototype._centroid=!0,xt.prototype.className="Circle",xt.prototype._attrsAffectingSize=["radius"],s(xt),W.addGetterSetter(xt,"radius",0,L());class Ct extends Xe{_sceneFunc(e){const t=this.radiusX(),n=this.radiusY();e.beginPath(),e.save(),t!==n&&e.scale(1,n/t),e.arc(0,0,t,0,2*Math.PI,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radiusX()}getHeight(){return 2*this.radiusY()}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}Ct.prototype.className="Ellipse",Ct.prototype._centroid=!0,Ct.prototype._attrsAffectingSize=["radiusX","radiusY"],s(Ct),W.addComponentsGetterSetter(Ct,"radius",["x","y"]),W.addGetterSetter(Ct,"radiusX",0,L()),W.addGetterSetter(Ct,"radiusY",0,L());class kt extends Xe{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",e=>{this._removeImageLoad(e.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&4===e.readyState||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),t=this.hasShadow();return!(!e||!t)||super._useBufferCanvas(!0)}_sceneFunc(e){const t=this.getWidth(),n=this.getHeight(),r=this.cornerRadius(),i=this.attrs.image;let a;if(i){const e=this.attrs.cropWidth,r=this.attrs.cropHeight;a=e&&r?[i,this.cropX(),this.cropY(),e,r,0,0,t,n]:[i,0,0,t,n]}(this.hasFill()||this.hasStroke()||r)&&(e.beginPath(),r?v.drawRoundedRectPath(e,t,n,r):e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)),i&&(r&&e.clip(),e.drawImage.apply(e,a))}_hitFunc(e){const t=this.width(),n=this.height(),r=this.cornerRadius();e.beginPath(),r?v.drawRoundedRectPath(e,t,n,r):e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,t;return null!==(e=this.attrs.width)&&void 0!==e?e:null===(t=this.image())||void 0===t?void 0:t.width}getHeight(){var e,t;return null!==(e=this.attrs.height)&&void 0!==e?e:null===(t=this.image())||void 0===t?void 0:t.height}static fromURL(e,t,n=null){const r=v.createImageElement();r.onload=function(){const e=new kt({image:r});t(e)},r.onerror=n,r.crossOrigin="Anonymous",r.src=e}}kt.prototype.className="Image",s(kt),W.addGetterSetter(kt,"cornerRadius",0,N(4)),W.addGetterSetter(kt,"image"),W.addComponentsGetterSetter(kt,"crop",["x","y","width","height"]),W.addGetterSetter(kt,"cropX",0,L()),W.addGetterSetter(kt,"cropY",0,L()),W.addGetterSetter(kt,"cropWidth",0,L()),W.addGetterSetter(kt,"cropHeight",0,L());const Pt=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],Tt="up",Et="right",Rt="down",Mt="left",Dt=Pt.length;class At extends Ze{constructor(e){super(e),this.on("add.konva",function(e){this._addListeners(e.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let t,n=this;const r=function(){n._sync()};for(t=0;t<Dt;t++)e.on(Pt[t]+"Change.konva",r)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e,t,n,r,i,a,o,s=this.getText(),l=this.getTag();if(s&&l){switch(e=s.width(),t=s.height(),n=l.pointerDirection(),r=l.pointerWidth(),o=l.pointerHeight(),i=0,a=0,n){case Tt:i=e/2,a=-1*o;break;case Et:i=e+r,a=t/2;break;case Rt:i=e/2,a=t+o;break;case Mt:i=-1*r,a=t/2}l.setAttrs({x:-1*i,y:-1*a,width:e,height:t}),s.setAttrs({x:-1*i,y:-1*a})}}}At.prototype.className="Label",s(At);class It extends Xe{_sceneFunc(e){const t=this.width(),n=this.height(),r=this.pointerDirection(),i=this.pointerWidth(),a=this.pointerHeight(),o=this.cornerRadius();let s=0,l=0,u=0,c=0;"number"==typeof o?s=l=u=c=Math.min(o,t/2,n/2):(s=Math.min(o[0]||0,t/2,n/2),l=Math.min(o[1]||0,t/2,n/2),c=Math.min(o[2]||0,t/2,n/2),u=Math.min(o[3]||0,t/2,n/2)),e.beginPath(),e.moveTo(s,0),r===Tt&&(e.lineTo((t-i)/2,0),e.lineTo(t/2,-1*a),e.lineTo((t+i)/2,0)),e.lineTo(t-l,0),e.arc(t-l,l,l,3*Math.PI/2,0,!1),r===Et&&(e.lineTo(t,(n-a)/2),e.lineTo(t+i,n/2),e.lineTo(t,(n+a)/2)),e.lineTo(t,n-c),e.arc(t-c,n-c,c,0,Math.PI/2,!1),r===Rt&&(e.lineTo((t+i)/2,n),e.lineTo(t/2,n+a),e.lineTo((t-i)/2,n)),e.lineTo(u,n),e.arc(u,n-u,u,Math.PI/2,Math.PI,!1),r===Mt&&(e.lineTo(0,(n+a)/2),e.lineTo(-1*i,n/2),e.lineTo(0,(n-a)/2)),e.lineTo(0,s),e.arc(s,s,s,Math.PI,3*Math.PI/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,t=0,n=this.pointerWidth(),r=this.pointerHeight(),i=this.pointerDirection(),a=this.width(),o=this.height();return i===Tt?(t-=r,o+=r):i===Rt?o+=r:i===Mt?(e-=1.5*n,a+=n):i===Et&&(a+=1.5*n),{x:e,y:t,width:a,height:o}}}It.prototype.className="Tag",s(It),W.addGetterSetter(It,"pointerDirection","none"),W.addGetterSetter(It,"pointerWidth",0,L()),W.addGetterSetter(It,"pointerHeight",0,L()),W.addGetterSetter(It,"cornerRadius",0,N(4));class Lt extends Xe{_sceneFunc(e){const t=this.cornerRadius(),n=this.width(),r=this.height();e.beginPath(),t?v.drawRoundedRectPath(e,n,r,t):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}}Lt.prototype.className="Rect",s(Lt),W.addGetterSetter(Lt,"cornerRadius",0,N(4));class Nt extends Xe{_sceneFunc(e){const t=this._getPoints(),n=this.radius(),r=this.sides(),i=this.cornerRadius();if(e.beginPath(),i)v.drawRoundedPolygonPath(e,t,r,n,i);else{e.moveTo(t[0].x,t[0].y);for(let n=1;n<t.length;n++)e.lineTo(t[n].x,t[n].y)}e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,t=this.attrs.radius||0,n=[];for(let r=0;r<e;r++)n.push({x:t*Math.sin(2*r*Math.PI/e),y:-1*t*Math.cos(2*r*Math.PI/e)});return n}getSelfRect(){const e=this._getPoints();let t=e[0].x,n=e[0].y,r=e[0].x,i=e[0].y;return e.forEach(e=>{t=Math.min(t,e.x),n=Math.max(n,e.x),r=Math.min(r,e.y),i=Math.max(i,e.y)}),{x:t,y:r,width:n-t,height:i-r}}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Nt.prototype.className="RegularPolygon",Nt.prototype._centroid=!0,Nt.prototype._attrsAffectingSize=["radius"],s(Nt),W.addGetterSetter(Nt,"radius",0,L()),W.addGetterSetter(Nt,"sides",0,L()),W.addGetterSetter(Nt,"cornerRadius",0,N(4));const zt=2*Math.PI;class Ft extends Xe{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,zt,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),zt,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Ft.prototype.className="Ring",Ft.prototype._centroid=!0,Ft.prototype._attrsAffectingSize=["innerRadius","outerRadius"],s(Ft),W.addGetterSetter(Ft,"innerRadius",0,L()),W.addGetterSetter(Ft,"outerRadius",0,L());class Ot extends Xe{constructor(e){super(e),this._updated=!0,this.anim=new tt(()=>{const e=this._updated;return this._updated=!1,e}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const t=this.animation(),n=this.frameIndex(),r=4*n,i=this.animations()[t],a=this.frameOffsets(),o=i[r+0],s=i[r+1],l=i[r+2],u=i[r+3],c=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,l,u),e.closePath(),e.fillStrokeShape(this)),c)if(a){const r=a[t],i=2*n;e.drawImage(c,o,s,l,u,r[i+0],r[i+1],l,u)}else e.drawImage(c,o,s,l,u,0,0,l,u)}_hitFunc(e){const t=this.animation(),n=this.frameIndex(),r=4*n,i=this.animations()[t],a=this.frameOffsets(),o=i[r+2],s=i[r+3];if(e.beginPath(),a){const r=a[t],i=2*n;e.rect(r[i+0],r[i+1],o,s)}else e.rect(0,0,o,s);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),t=this.animation();e<this.animations()[t].length/4-1?this.frameIndex(e+1):this.frameIndex(0)}}Ot.prototype.className="Sprite",s(Ot),W.addGetterSetter(Ot,"animation"),W.addGetterSetter(Ot,"animations"),W.addGetterSetter(Ot,"frameOffsets"),W.addGetterSetter(Ot,"image"),W.addGetterSetter(Ot,"frameIndex",0,L()),W.addGetterSetter(Ot,"frameRate",17,L()),W.backCompat(Ot,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class Gt extends Xe{_sceneFunc(e){const t=this.innerRadius(),n=this.outerRadius(),r=this.numPoints();e.beginPath(),e.moveTo(0,0-n);for(let i=1;i<2*r;i++){const a=i%2==0?n:t,o=a*Math.sin(i*Math.PI/r),s=-1*a*Math.cos(i*Math.PI/r);e.lineTo(o,s)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}function Bt(e){return[...e].reduce((e,t,n,r)=>{if(/\p{Emoji}/u.test(t)){const i=r[n+1];i&&/\p{Emoji_Modifier}|\u200D/u.test(i)?(e.push(t+i),r[n+1]=""):e.push(t)}else/\p{Regional_Indicator}{2}/u.test(t+(r[n+1]||""))?e.push(t+r[n+1]):n>0&&/\p{Mn}|\p{Me}|\p{Mc}/u.test(t)?e[e.length-1]+=t:t&&e.push(t);return e},[])}Gt.prototype.className="Star",Gt.prototype._centroid=!0,Gt.prototype._attrsAffectingSize=["innerRadius","outerRadius"],s(Gt),W.addGetterSetter(Gt,"numPoints",5,L()),W.addGetterSetter(Gt,"innerRadius",0,L()),W.addGetterSetter(Gt,"outerRadius",0,L());const Ut="auto",Wt="inherit",Ht="justify",jt="left",Yt="middle",qt="normal",Vt=" ",Xt="none",Qt=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],$t=Qt.length;let Kt;function Jt(){return Kt||(Kt=v.createCanvasElement().getContext("2d"),Kt)}class Zt extends Xe{constructor(e){super(function(e){return(e=e||{}).fillLinearGradientColorStops||e.fillRadialGradientColorStops||e.fillPatternImage||(e.fill=e.fill||"black"),e}(e)),this._partialTextX=0,this._partialTextY=0;for(let e=0;e<$t;e++)this.on(Qt[e]+"Change.konva",this._setTextData);this._setTextData()}_sceneFunc(e){var t,n;const r=this.textArr,i=r.length;if(!this.text())return;let a,s=this.padding(),l=this.fontSize(),u=this.lineHeight()*l,c=this.verticalAlign(),h=this.direction(),d=0,f=this.align(),p=this.getWidth(),g=this.letterSpacing(),m=this.charRenderFunc(),v=this.fill(),y=this.textDecoration(),b=-1!==y.indexOf("underline"),w=-1!==y.indexOf("line-through");h=h===Wt?e.direction:h;let S=u/2,_=Yt;if(!o.legacyTextRendering){const e=this.measureSize("M");_="alphabetic",S=((null!==(t=e.fontBoundingBoxAscent)&&void 0!==t?t:e.actualBoundingBoxAscent)-(null!==(n=e.fontBoundingBoxDescent)&&void 0!==n?n:e.actualBoundingBoxDescent))/2+u/2}for("rtl"===h&&e.setAttr("direction",h),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",_),e.setAttr("textAlign",jt),c===Yt?d=(this.getHeight()-i*u-2*s)/2:"bottom"===c&&(d=this.getHeight()-i*u-2*s),e.translate(s,d+s),a=0;a<i;a++){let t=0,n=0;const c=r[a],d=c.text,y=c.width,_=c.lastInParagraph;if(e.save(),"right"===f?t+=p-y-2*s:"center"===f&&(t+=(p-y-2*s)/2),b){e.save(),e.beginPath();const r=t,i=S+n+(o.legacyTextRendering?Math.round(l/2):Math.round(l/4));e.moveTo(r,i);const a=f!==Ht||_?y:p-2*s;e.lineTo(r+Math.round(a),i),e.lineWidth=l/15;const u=this._getLinearGradient();e.strokeStyle=u||v,e.stroke(),e.restore()}if("rtl"===h||0===g&&f!==Ht&&!m)0!==g&&e.setAttr("letterSpacing",`${g}px`),this._partialTextX=t,this._partialTextY=S+n,this._partialText=d,e.fillStrokeShape(this);else{const i=d.split(" ").length-1,o=Bt(d);for(let l=0;l<o.length;l++){const u=o[l];" "!==u||_||f!==Ht||(t+=(p-2*s-y)/i),this._partialTextX=t,this._partialTextY=S+n,this._partialText=u,m&&(e.save(),m({char:u,index:l+r.slice(0,a).reduce((e,t)=>e+Bt(t.text).length,0),x:t,y:S+n,lineIndex:a,column:l,isLastInLine:_,width:this.measureSize(u).width,context:e})),e.fillStrokeShape(this),m&&e.restore(),t+=this.measureSize(u).width+g}}if(w){e.save(),e.beginPath();const r=o.legacyTextRendering?0:-Math.round(l/4),i=f===Ht?0:t;e.moveTo(i,S+n+r);const a=f!==Ht||_?y:p-2*s;e.lineTo(i+Math.round(a),S+n+r),e.lineWidth=l/15;const u=this._getLinearGradient();e.strokeStyle=u||v,e.stroke(),e.restore()}e.restore(),i>1&&(S+=u)}}_hitFunc(e){const t=this.getWidth(),n=this.getHeight();e.beginPath(),e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)}setText(e){const t=v._isString(e)?e:null==e?"":e+"";return this._setAttr("text",t),this}getWidth(){return this.attrs.width===Ut||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width}getHeight(){return this.attrs.height===Ut||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return v.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var t,n,r,i,a,o,s,l,u,c,h;let d,f=Jt(),p=this.fontSize();f.save(),f.font=this._getContextFont(),d=f.measureText(e),f.restore();const g=p/100;return{actualBoundingBoxAscent:null!==(t=d.actualBoundingBoxAscent)&&void 0!==t?t:71.58203125*g,actualBoundingBoxDescent:null!==(n=d.actualBoundingBoxDescent)&&void 0!==n?n:0,actualBoundingBoxLeft:null!==(r=d.actualBoundingBoxLeft)&&void 0!==r?r:-7.421875*g,actualBoundingBoxRight:null!==(i=d.actualBoundingBoxRight)&&void 0!==i?i:75.732421875*g,alphabeticBaseline:null!==(a=d.alphabeticBaseline)&&void 0!==a?a:0,emHeightAscent:null!==(o=d.emHeightAscent)&&void 0!==o?o:100*g,emHeightDescent:null!==(s=d.emHeightDescent)&&void 0!==s?s:-20*g,fontBoundingBoxAscent:null!==(l=d.fontBoundingBoxAscent)&&void 0!==l?l:91*g,fontBoundingBoxDescent:null!==(u=d.fontBoundingBoxDescent)&&void 0!==u?u:21*g,hangingBaseline:null!==(c=d.hangingBaseline)&&void 0!==c?c:72.80000305175781*g,ideographicBaseline:null!==(h=d.ideographicBaseline)&&void 0!==h?h:-21*g,width:d.width,height:p}}_getContextFont(){return this.fontStyle()+Vt+this.fontVariant()+Vt+(this.fontSize()+"px ")+this.fontFamily().split(",").map(e=>{const t=(e=e.trim()).indexOf(" ")>=0,n=e.indexOf('"')>=0||e.indexOf("'")>=0;return t&&!n&&(e=`"${e}"`),e}).join(", ")}_addTextLine(e){this.align()===Ht&&(e=e.trim());const t=this._getTextWidth(e);return this.textArr.push({text:e,width:t,lastInParagraph:!1})}_getTextWidth(e){const t=this.letterSpacing(),n=e.length;return Jt().measureText(e).width+t*n}_setTextData(){let e=this.text().split("\n"),t=+this.fontSize(),n=0,r=this.lineHeight()*t,i=this.attrs.width,a=this.attrs.height,o=i!==Ut&&void 0!==i,s=a!==Ut&&void 0!==a,l=this.padding(),u=i-2*l,c=a-2*l,h=0,d=this.wrap(),f="char"!==d&&d!==Xt,p=this.ellipsis();this.textArr=[],Jt().font=this._getContextFont();const g=p?this._getTextWidth("â€¦"):0;for(let t=0,i=e.length;t<i;++t){let a=e[t],l=this._getTextWidth(a);if(o&&l>u)for(;a.length>0;){let e=0,t=Bt(a).length,i="",o=0;for(;e<t;){const n=e+t>>>1,l=Bt(a).slice(0,n+1).join(""),d=this._getTextWidth(l);(p&&s&&h+r>c?d+g:d)<=u?(e=n+1,i=l,o=d):t=n}if(!i)break;if(f){const t=Bt(a),n=Bt(i),r=t[n.length];let s;if((r===Vt||"-"===r)&&o<=u)s=n.length;else{const e=n.lastIndexOf(Vt),t=n.lastIndexOf("-");s=Math.max(e,t)+1}s>0&&(e=s,i=t.slice(0,e).join(""),o=this._getTextWidth(i))}if(i=i.trimRight(),this._addTextLine(i),n=Math.max(n,o),h+=r,this._shouldHandleEllipsis(h)){this._tryToAddEllipsisToLastLine();break}if(a=Bt(a).slice(e).join("").trimLeft(),a.length>0&&(l=this._getTextWidth(a),l<=u)){this._addTextLine(a),h+=r,n=Math.max(n,l);break}}else this._addTextLine(a),h+=r,n=Math.max(n,l),this._shouldHandleEllipsis(h)&&t<i-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),s&&h+r>c)break}this.textHeight=t,this.textWidth=n}_shouldHandleEllipsis(e){const t=+this.fontSize(),n=this.lineHeight()*t,r=this.attrs.height,i=r!==Ut&&void 0!==r,a=r-2*this.padding();return!(this.wrap()!==Xt)||i&&e+n>a}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,t=e!==Ut&&void 0!==e,n=e-2*this.padding(),r=this.ellipsis(),i=this.textArr[this.textArr.length-1];i&&r&&(t&&(this._getTextWidth(i.text+"â€¦")<n||(i.text=i.text.slice(0,i.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(i.text+"â€¦"))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=-1!==this.textDecoration().indexOf("underline")||-1!==this.textDecoration().indexOf("line-through"),t=this.hasShadow();return!(!e||!t)||super._useBufferCanvas()}}Zt.prototype._fillFunc=function(e){e.fillText(this._partialText,this._partialTextX,this._partialTextY)},Zt.prototype._strokeFunc=function(e){e.setAttr("miterLimit",2),e.strokeText(this._partialText,this._partialTextX,this._partialTextY)},Zt.prototype.className="Text",Zt.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],s(Zt),W.overWriteSetter(Zt,"width",z()),W.overWriteSetter(Zt,"height",z()),W.addGetterSetter(Zt,"direction",Wt),W.addGetterSetter(Zt,"fontFamily","Arial"),W.addGetterSetter(Zt,"fontSize",12,L()),W.addGetterSetter(Zt,"fontStyle",qt),W.addGetterSetter(Zt,"fontVariant",qt),W.addGetterSetter(Zt,"padding",0,L()),W.addGetterSetter(Zt,"align",jt),W.addGetterSetter(Zt,"verticalAlign","top"),W.addGetterSetter(Zt,"lineHeight",1,L()),W.addGetterSetter(Zt,"wrap","word"),W.addGetterSetter(Zt,"ellipsis",!1,G()),W.addGetterSetter(Zt,"letterSpacing",0,L()),W.addGetterSetter(Zt,"text","",F()),W.addGetterSetter(Zt,"textDecoration",""),W.addGetterSetter(Zt,"charRenderFunc",void 0);const en="normal";function tn(e){e.fillText(this.partialText,0,0)}function nn(e){e.strokeText(this.partialText,0,0)}class rn extends Xe{constructor(e){super(e),this.dummyCanvas=v.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return St.getPathLength(this.dataArray)}_getPointAtLength(e){return this.attrs.data?e>this.pathLength?null:St.getPointAtLengthOfDataArray(e,this.dataArray):null}_readDataAttribute(){this.dataArray=St.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const t=this.textDecoration(),n=this.fill(),r=this.fontSize(),i=this.glyphInfo;"underline"===t&&e.beginPath();for(let n=0;n<i.length;n++){e.save();const a=i[n].p0;e.translate(a.x,a.y),e.rotate(i[n].rotation),this.partialText=i[n].text,e.fillStrokeShape(this),"underline"===t&&(0===n&&e.moveTo(0,r/2+1),e.lineTo(r,r/2+1)),e.restore()}"underline"===t&&(e.strokeStyle=n,e.lineWidth=r/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();const t=this.glyphInfo;if(t.length>=1){const n=t[0].p0;e.moveTo(n.x,n.y)}for(let n=0;n<t.length;n++){const r=t[n].p1;e.lineTo(r.x,r.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return v.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Zt.prototype.setText.call(this,e)}_getContextFont(){return Zt.prototype._getContextFont.call(this)}_getTextSize(e){const t=this.dummyCanvas.getContext("2d");t.save(),t.font=this._getContextFont();const n=t.measureText(e);return t.restore(),{width:n.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const e=Bt(this.text()),t=[];let n=0;for(let r=0;r<e.length;r++)t.push({char:e[r],width:this._getTextSize(e[r]).width}),n+=t[r].width;const{height:r}=this._getTextSize(this.attrs.text);if(this.textWidth=n,this.textHeight=r,this.glyphInfo=[],!this.attrs.data)return null;const i=this.letterSpacing(),a=this.align(),o=this.kerningFunc(),s=Math.max(this.textWidth+((this.attrs.text||"").length-1)*i,0);let l=0;"center"===a&&(l=Math.max(0,this.pathLength/2-s/2)),"right"===a&&(l=Math.max(0,this.pathLength-s));let u=l;for(let n=0;n<t.length;n++){const r=this._getPointAtLength(u);if(!r)return;const l=t[n].char;let c=t[n].width+i;if(" "===l&&"justify"===a){const e=this.text().split(" ").length-1;c+=(this.pathLength-s)/e}const h=this._getPointAtLength(u+c);if(!h)return;const d=St.getLineLength(r.x,r.y,h.x,h.y);let f=0;if(o)try{f=o(t[n-1].char,l)*this.fontSize()}catch(e){f=0}r.x+=f,h.x+=f,this.textWidth+=f;const p=St.getPointOnLine(f+d/2,r.x,r.y,h.x,h.y),g=Math.atan2(h.y-r.y,h.x-r.x);this.glyphInfo.push({transposeX:p.x,transposeY:p.y,text:e[n],rotation:g,p0:r,p1:h}),u+=c}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(t){e.push(t.p0.x),e.push(t.p0.y),e.push(t.p1.x),e.push(t.p1.y)});let t,n,r=e[0]||0,i=e[0]||0,a=e[1]||0,o=e[1]||0;for(let s=0;s<e.length/2;s++)t=e[2*s],n=e[2*s+1],r=Math.min(r,t),i=Math.max(i,t),a=Math.min(a,n),o=Math.max(o,n);const s=this.fontSize();return{x:r-s/2,y:a-s/2,width:i-r+s,height:o-a+s}}destroy(){return v.releaseCanvas(this.dummyCanvas),super.destroy()}}rn.prototype._fillFunc=tn,rn.prototype._strokeFunc=nn,rn.prototype._fillFuncHit=tn,rn.prototype._strokeFuncHit=nn,rn.prototype.className="TextPath",rn.prototype._attrsAffectingSize=["text","fontSize","data"],s(rn),W.addGetterSetter(rn,"data"),W.addGetterSetter(rn,"fontFamily","Arial"),W.addGetterSetter(rn,"fontSize",12,L()),W.addGetterSetter(rn,"fontStyle",en),W.addGetterSetter(rn,"align","left"),W.addGetterSetter(rn,"letterSpacing",0,L()),W.addGetterSetter(rn,"textBaseline","middle"),W.addGetterSetter(rn,"fontVariant",en),W.addGetterSetter(rn,"text",""),W.addGetterSetter(rn,"textDecoration",""),W.addGetterSetter(rn,"kerningFunc",void 0);const an="tr-konva",on=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(e=>e+`.${an}`).join(" "),sn="nodesRect",ln=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],un={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},cn="ontouchstart"in o._global,hn=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function dn(e,t,n){const r=n.x+(e.x-n.x)*Math.cos(t)-(e.y-n.y)*Math.sin(t),i=n.y+(e.x-n.x)*Math.sin(t)+(e.y-n.y)*Math.cos(t);return{...e,rotation:e.rotation+t,x:r,y:i}}let fn=0;class pn extends Ze{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(on,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return v.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return an+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const t=e.filter(e=>!e.isAncestorOf(this)||(v.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1));return this._nodes=e=t,1===e.length&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(e=>{const t=()=>{1===this.nodes().length&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),this._transforming||this.isDragging()||this.update()};if(e._attrsAffectingSize.length){const n=e._attrsAffectingSize.map(e=>e+"Change."+this._getEventNamespace()).join(" ");e.on(n,t)}e.on(ln.map(e=>e+`.${this._getEventNamespace()}`).join(" "),t),e.on(`absoluteTransformChange.${this._getEventNamespace()}`,t),this._proxyDrag(e)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let t;e.on(`dragstart.${this._getEventNamespace()}`,n=>{t=e.getAbsolutePosition(),this.isDragging()||e===this.findOne(".back")||this.startDrag(n,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,n=>{if(!t)return;const r=e.getAbsolutePosition(),i=r.x-t.x,a=r.y-t.y;this.nodes().forEach(t=>{if(t===e)return;if(t.isDragging())return;const r=t.getAbsolutePosition();t.setAbsolutePosition({x:r.x+i,y:r.y+a}),t.startDrag(n)}),t=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(sn),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(sn,this.__getNodeRect)}__getNodeShape(e,t=this.rotation(),n){const r=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),i=e.getAbsoluteScale(n),a=e.getAbsolutePosition(n),s=r.x*i.x-e.offsetX()*i.x,l=r.y*i.y-e.offsetY()*i.y,u=(o.getAngle(e.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return dn({x:a.x+s*Math.cos(u)+l*Math.sin(-u),y:a.y+l*Math.cos(u)+s*Math.sin(u),width:r.width*i.x,height:r.height*i.y,rotation:u},-o.getAngle(t),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const e=[];this.nodes().map(t=>{const n=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),r=[{x:n.x,y:n.y},{x:n.x+n.width,y:n.y},{x:n.x+n.width,y:n.y+n.height},{x:n.x,y:n.y+n.height}],i=t.getAbsoluteTransform();r.forEach(function(t){const n=i.point(t);e.push(n)})});const t=new u;t.rotate(-o.getAngle(this.rotation()));let n=1/0,r=1/0,i=-1/0,a=-1/0;e.forEach(function(e){const o=t.point(e);void 0===n&&(n=i=o.x,r=a=o.y),n=Math.min(n,o.x),r=Math.min(r,o.y),i=Math.max(i,o.x),a=Math.max(a,o.y)}),t.invert();const s=t.point({x:n,y:r});return{x:s.x,y:s.y,width:i-n,height:a-r,rotation:o.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),hn.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const t=new Lt({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:cn?10:"auto"}),n=this;t.on("mousedown touchstart",function(e){n._handleMouseDown(e)}),t.on("dragstart",e=>{t.stopDrag(),e.cancelBubble=!0}),t.on("dragend",e=>{e.cancelBubble=!0}),t.on("mouseenter",()=>{const n=o.getAngle(this.rotation()),r=this.rotateAnchorCursor(),i=function(e,t,n){if("rotater"===e)return n;t+=v.degToRad(un[e]||0);const r=(v.radToDeg(t)%360+360)%360;return v._inRange(r,337.5,360)||v._inRange(r,0,22.5)?"ns-resize":v._inRange(r,22.5,67.5)?"nesw-resize":v._inRange(r,67.5,112.5)?"ew-resize":v._inRange(r,112.5,157.5)?"nwse-resize":v._inRange(r,157.5,202.5)?"ns-resize":v._inRange(r,202.5,247.5)?"nesw-resize":v._inRange(r,247.5,292.5)?"ew-resize":v._inRange(r,292.5,337.5)?"nwse-resize":(v.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}(e,n,r);t.getStage().content&&(t.getStage().content.style.cursor=i),this._cursorChange=!0}),t.on("mouseout",()=>{t.getStage().content&&(t.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(t)}_createBack(){const e=new Xe({name:"back",width:0,height:0,sceneFunc(e,t){const n=t.getParent(),r=n.padding();e.beginPath(),e.rect(-r,-r,t.width()+2*r,t.height()+2*r),e.moveTo(t.width()/2,-r),n.rotateEnabled()&&n.rotateLineVisible()&&e.lineTo(t.width()/2,-n.rotateAnchorOffset()*v._sign(t.height())-r),e.fillStrokeShape(t)},hitFunc:(e,t)=>{if(!this.shouldOverdrawWholeArea())return;const n=this.padding();e.beginPath(),e.rect(-n,-n,t.width()+2*n,t.height()+2*n),e.fillStrokeShape(t)}});this.add(e),this._proxyDrag(e),e.on("dragstart",e=>{e.cancelBubble=!0}),e.on("dragmove",e=>{e.cancelBubble=!0}),e.on("dragend",e=>{e.cancelBubble=!0}),this.on("dragmove",e=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const t=this._getNodeRect(),n=t.width,r=t.height,i=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));this.sin=Math.abs(r/i),this.cos=Math.abs(n/i),"undefined"!=typeof window&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const a=e.target.getAbsolutePosition(),o=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:o.x-a.x,y:o.y-a.y},fn++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(t=>{t._fire("transformstart",{evt:e.evt,target:t})})}_handleMouseMove(e){let t,n,r;const i=this.findOne("."+this._movingAnchorName),a=i.getStage();a.setPointersPositions(e);const s=a.getPointerPosition();let l={x:s.x-this._anchorDragOffset.x,y:s.y-this._anchorDragOffset.y};const u=i.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(u,l,e)),i.setAbsolutePosition(l);const c=i.getAbsolutePosition();if(u.x===c.x&&u.y===c.y)return;if("rotater"===this._movingAnchorName){const r=this._getNodeRect();t=i.x()-r.width/2,n=-i.y()+r.height/2;let a=Math.atan2(-n,t)+Math.PI/2;r.height<0&&(a-=Math.PI);const s=o.getAngle(this.rotation())+a,l=o.getAngle(this.rotationSnapTolerance()),u=function(e,t,n){let r=t;for(let i=0;i<e.length;i++){const a=o.getAngle(e[i]),s=Math.abs(a-t)%(2*Math.PI);Math.min(s,2*Math.PI-s)<n&&(r=a)}return r}(this.rotationSnaps(),s,l),c=function(e,t){const n=function(e){return{x:e.x+e.width/2*Math.cos(e.rotation)+e.height/2*Math.sin(-e.rotation),y:e.y+e.height/2*Math.cos(e.rotation)+e.width/2*Math.sin(e.rotation)}}(e);return dn(e,t,n)}(r,u-r.rotation);return void this._fitNodesInto(c,e)}const h=this.shiftBehavior();let d;d="inverted"===h?this.keepRatio()&&!e.shiftKey:"none"===h?this.keepRatio():this.keepRatio()||e.shiftKey;let f=this.centeredScaling()||e.altKey;if("top-left"===this._movingAnchorName){if(d){const e=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};r=Math.sqrt(Math.pow(e.x-i.x(),2)+Math.pow(e.y-i.y(),2));const a=this.findOne(".top-left").x()>e.x?-1:1,o=this.findOne(".top-left").y()>e.y?-1:1;t=r*this.cos*a,n=r*this.sin*o,this.findOne(".top-left").x(e.x-t),this.findOne(".top-left").y(e.y-n)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(i.y());else if("top-right"===this._movingAnchorName){if(d){const e=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};r=Math.sqrt(Math.pow(i.x()-e.x,2)+Math.pow(e.y-i.y(),2));const a=this.findOne(".top-right").x()<e.x?-1:1,o=this.findOne(".top-right").y()>e.y?-1:1;t=r*this.cos*a,n=r*this.sin*o,this.findOne(".top-right").x(e.x+t),this.findOne(".top-right").y(e.y-n)}var p=i.position();this.findOne(".top-left").y(p.y),this.findOne(".bottom-right").x(p.x)}else if("middle-left"===this._movingAnchorName)this.findOne(".top-left").x(i.x());else if("middle-right"===this._movingAnchorName)this.findOne(".bottom-right").x(i.x());else if("bottom-left"===this._movingAnchorName){if(d){const e=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};r=Math.sqrt(Math.pow(e.x-i.x(),2)+Math.pow(i.y()-e.y,2));const a=e.x<i.x()?-1:1,o=i.y()<e.y?-1:1;t=r*this.cos*a,n=r*this.sin*o,i.x(e.x-t),i.y(e.y+n)}p=i.position(),this.findOne(".top-left").x(p.x),this.findOne(".bottom-right").y(p.y)}else if("bottom-center"===this._movingAnchorName)this.findOne(".bottom-right").y(i.y());else if("bottom-right"===this._movingAnchorName){if(d){const e=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};r=Math.sqrt(Math.pow(i.x()-e.x,2)+Math.pow(i.y()-e.y,2));const a=this.findOne(".bottom-right").x()<e.x?-1:1,o=this.findOne(".bottom-right").y()<e.y?-1:1;t=r*this.cos*a,n=r*this.sin*o,this.findOne(".bottom-right").x(e.x+t),this.findOne(".bottom-right").y(e.y+n)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(f=this.centeredScaling()||e.altKey,f){const e=this.findOne(".top-left"),t=this.findOne(".bottom-right"),n=e.x(),r=e.y(),i=this.getWidth()-t.x(),a=this.getHeight()-t.y();t.move({x:-n,y:-r}),e.move({x:i,y:a})}const g=this.findOne(".top-left").getAbsolutePosition();t=g.x,n=g.y;const m=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),v=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:t,y:n,width:m,height:v,rotation:o.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var t;if(this._transforming){this._transforming=!1,"undefined"!=typeof window&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const n=this.getNode();fn--,this._fire("transformend",{evt:e,target:n}),null===(t=this.getLayer())||void 0===t||t.batchDraw(),n&&this._nodes.forEach(t=>{var n;t._fire("transformend",{evt:e,target:t}),null===(n=t.getLayer())||void 0===n||n.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,t){const n=this._getNodeRect();if(v._inRange(e.width,2*-this.padding()-1,1))return void this.update();if(v._inRange(e.height,2*-this.padding()-1,1))return void this.update();const r=new u;if(r.rotate(o.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const t=r.point({x:2*-this.padding(),y:0});e.x+=t.x,e.y+=t.y,e.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const t=r.point({x:2*this.padding(),y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,e.width+=2*this.padding()}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const t=r.point({x:0,y:2*-this.padding()});e.x+=t.x,e.y+=t.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,e.height+=2*this.padding()}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const t=r.point({x:0,y:2*this.padding()});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,e.height+=2*this.padding()}if(this.boundBoxFunc()){const t=this.boundBoxFunc()(n,e);t?e=t:v.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const i=1e7,a=new u;a.translate(n.x,n.y),a.rotate(n.rotation),a.scale(n.width/i,n.height/i);const s=new u,l=e.width/i,c=e.height/i;!1===this.flipEnabled()?(s.translate(e.x,e.y),s.rotate(e.rotation),s.translate(e.width<0?e.width:0,e.height<0?e.height:0),s.scale(Math.abs(l),Math.abs(c))):(s.translate(e.x,e.y),s.rotate(e.rotation),s.scale(l,c));const h=s.multiply(a.invert());this._nodes.forEach(e=>{var t;if(!e.getStage())return;const n=e.getParent().getAbsoluteTransform(),r=e.getTransform().copy();r.translate(e.offsetX(),e.offsetY());const i=new u;i.multiply(n.copy().invert()).multiply(h).multiply(n).multiply(r);const a=i.decompose();e.setAttrs(a),null===(t=e.getLayer())||void 0===t||t.batchDraw()}),this.rotation(v._getRotation(e.rotation)),this._nodes.forEach(e=>{this._fire("transform",{evt:t,target:e}),e._fire("transform",{evt:t,target:e})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,t){this.findOne(e).setAttrs(t)}update(){var e;const t=this._getNodeRect();this.rotation(v._getRotation(t.rotation));const n=t.width,r=t.height,i=this.enabledAnchors(),a=this.resizeEnabled(),o=this.padding(),s=this.anchorSize(),l=this.find("._anchor");l.forEach(e=>{e.setAttrs({width:s,height:s,offsetX:s/2,offsetY:s/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:s/2+o,offsetY:s/2+o,visible:a&&i.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:n/2,y:0,offsetY:s/2+o,visible:a&&i.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:n,y:0,offsetX:s/2-o,offsetY:s/2+o,visible:a&&i.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:r/2,offsetX:s/2+o,visible:a&&i.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:n,y:r/2,offsetX:s/2-o,visible:a&&i.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:r,offsetX:s/2+o,offsetY:s/2-o,visible:a&&i.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:n/2,y:r,offsetY:s/2-o,visible:a&&i.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:n,y:r,offsetX:s/2-o,offsetY:s/2-o,visible:a&&i.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:n/2,y:-this.rotateAnchorOffset()*v._sign(r)-o,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:n,height:r,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(e=>e.draggable()),x:0,y:0});const u=this.anchorStyleFunc();u&&l.forEach(e=>{u(e)}),null===(e=this.getLayer())||void 0===e||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Ze.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return re.prototype.toObject.call(this)}clone(e){return re.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}pn.isTransforming=()=>fn>0,pn.prototype.className="Transformer",s(pn),W.addGetterSetter(pn,"enabledAnchors",hn,function(e){return e instanceof Array||v.warn("enabledAnchors value should be an array"),e instanceof Array&&e.forEach(function(e){-1===hn.indexOf(e)&&v.warn("Unknown anchor name: "+e+". Available names are: "+hn.join(", "))}),e||[]}),W.addGetterSetter(pn,"flipEnabled",!0,G()),W.addGetterSetter(pn,"resizeEnabled",!0),W.addGetterSetter(pn,"anchorSize",10,L()),W.addGetterSetter(pn,"rotateEnabled",!0),W.addGetterSetter(pn,"rotateLineVisible",!0),W.addGetterSetter(pn,"rotationSnaps",[]),W.addGetterSetter(pn,"rotateAnchorOffset",50,L()),W.addGetterSetter(pn,"rotateAnchorCursor","crosshair"),W.addGetterSetter(pn,"rotationSnapTolerance",5,L()),W.addGetterSetter(pn,"borderEnabled",!0),W.addGetterSetter(pn,"anchorStroke","rgb(0, 161, 255)"),W.addGetterSetter(pn,"anchorStrokeWidth",1,L()),W.addGetterSetter(pn,"anchorFill","white"),W.addGetterSetter(pn,"anchorCornerRadius",0,L()),W.addGetterSetter(pn,"borderStroke","rgb(0, 161, 255)"),W.addGetterSetter(pn,"borderStrokeWidth",1,L()),W.addGetterSetter(pn,"borderDash"),W.addGetterSetter(pn,"keepRatio",!0),W.addGetterSetter(pn,"shiftBehavior","default"),W.addGetterSetter(pn,"centeredScaling",!1),W.addGetterSetter(pn,"ignoreStroke",!1),W.addGetterSetter(pn,"padding",0,L()),W.addGetterSetter(pn,"nodes"),W.addGetterSetter(pn,"node"),W.addGetterSetter(pn,"boundBoxFunc"),W.addGetterSetter(pn,"anchorDragBoundFunc"),W.addGetterSetter(pn,"anchorStyleFunc"),W.addGetterSetter(pn,"shouldOverdrawWholeArea",!1),W.addGetterSetter(pn,"useSingleNodeRotation",!0),W.backCompat(pn,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class gn extends Xe{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,o.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}function mn(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}gn.prototype.className="Wedge",gn.prototype._centroid=!0,gn.prototype._attrsAffectingSize=["radius"],s(gn),W.addGetterSetter(gn,"radius",0,L()),W.addGetterSetter(gn,"angle",0,L()),W.addGetterSetter(gn,"clockwise",!1),W.backCompat(gn,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});const vn=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],yn=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function bn(e,t,n,r,i){const a=n-t,o=i-r;if(0===a)return r+o/2;if(0===o)return r;let s=(e-t)/a;return s=o*s+r,s}function wn(e,t,n){let r=4*(n*e.width+t);const i=[];return i.push(e.data[r++],e.data[r++],e.data[r++],e.data[r++]),i}function Sn(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2))}W.addGetterSetter(re,"blurRadius",0,L(),W.afterSetFilter),W.addGetterSetter(re,"brightness",0,L(),W.afterSetFilter),W.addGetterSetter(re,"contrast",0,L(),W.afterSetFilter),W.addGetterSetter(re,"embossStrength",.5,L(),W.afterSetFilter),W.addGetterSetter(re,"embossWhiteLevel",.5,L(),W.afterSetFilter),W.addGetterSetter(re,"embossDirection","top-left",void 0,W.afterSetFilter),W.addGetterSetter(re,"embossBlend",!1,void 0,W.afterSetFilter),W.addGetterSetter(re,"enhance",0,L(),W.afterSetFilter),W.addGetterSetter(re,"hue",0,L(),W.afterSetFilter),W.addGetterSetter(re,"saturation",0,L(),W.afterSetFilter),W.addGetterSetter(re,"luminance",0,L(),W.afterSetFilter),W.addGetterSetter(re,"hue",0,L(),W.afterSetFilter),W.addGetterSetter(re,"saturation",0,L(),W.afterSetFilter),W.addGetterSetter(re,"value",0,L(),W.afterSetFilter),W.addGetterSetter(re,"kaleidoscopePower",2,L(),W.afterSetFilter),W.addGetterSetter(re,"kaleidoscopeAngle",0,L(),W.afterSetFilter),W.addGetterSetter(re,"threshold",0,L(),W.afterSetFilter),W.addGetterSetter(re,"noise",.2,L(),W.afterSetFilter),W.addGetterSetter(re,"pixelSize",8,L(),W.afterSetFilter),W.addGetterSetter(re,"levels",.5,L(),W.afterSetFilter),W.addGetterSetter(re,"red",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)}),W.addGetterSetter(re,"green",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)}),W.addGetterSetter(re,"blue",0,I,W.afterSetFilter),W.addGetterSetter(re,"red",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)}),W.addGetterSetter(re,"green",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)}),W.addGetterSetter(re,"blue",0,I,W.afterSetFilter),W.addGetterSetter(re,"alpha",1,function(e){return this._filterUpToDate=!1,e>1?1:e<0?0:e}),W.addGetterSetter(re,"threshold",.5,L(),W.afterSetFilter),lt.Util._assign(lt,{Arc:ut,Arrow:_t,Circle:xt,Ellipse:Ct,Image:kt,Label:At,Tag:It,Line:dt,Path:St,Rect:Lt,RegularPolygon:Nt,Ring:Ft,Sprite:Ot,Star:Gt,Text:Zt,TextPath:rn,Transformer:pn,Wedge:gn,Filters:{Blur:function(e){const t=Math.round(this.blurRadius());t>0&&function(e,t){const n=e.data,r=e.width,i=e.height;let a,o,s,l,u,c,h,d,f,p,g,m,v,y,b,w,S,_,x,C;const k=t+t+1,P=r-1,T=i-1,E=t+1,R=E*(E+1)/2,M=new mn,D=vn[t],A=yn[t];let I=null,L=M,N=null,z=null;for(let e=1;e<k;e++)L=L.next=new mn,e===E&&(I=L);L.next=M,s=o=0;for(let e=0;e<i;e++){m=v=y=b=l=u=c=h=0,d=E*(w=n[o]),f=E*(S=n[o+1]),p=E*(_=n[o+2]),g=E*(x=n[o+3]),l+=R*w,u+=R*S,c+=R*_,h+=R*x,L=M;for(let e=0;e<E;e++)L.r=w,L.g=S,L.b=_,L.a=x,L=L.next;for(let e=1;e<E;e++)a=o+((P<e?P:e)<<2),l+=(L.r=w=n[a])*(C=E-e),u+=(L.g=S=n[a+1])*C,c+=(L.b=_=n[a+2])*C,h+=(L.a=x=n[a+3])*C,m+=w,v+=S,y+=_,b+=x,L=L.next;N=M,z=I;for(let e=0;e<r;e++)n[o+3]=x=h*D>>A,0!==x?(x=255/x,n[o]=(l*D>>A)*x,n[o+1]=(u*D>>A)*x,n[o+2]=(c*D>>A)*x):n[o]=n[o+1]=n[o+2]=0,l-=d,u-=f,c-=p,h-=g,d-=N.r,f-=N.g,p-=N.b,g-=N.a,a=s+((a=e+t+1)<P?a:P)<<2,m+=N.r=n[a],v+=N.g=n[a+1],y+=N.b=n[a+2],b+=N.a=n[a+3],l+=m,u+=v,c+=y,h+=b,N=N.next,d+=w=z.r,f+=S=z.g,p+=_=z.b,g+=x=z.a,m-=w,v-=S,y-=_,b-=x,z=z.next,o+=4;s+=r}for(let e=0;e<r;e++){v=y=b=m=u=c=h=l=0,o=e<<2,d=E*(w=n[o]),f=E*(S=n[o+1]),p=E*(_=n[o+2]),g=E*(x=n[o+3]),l+=R*w,u+=R*S,c+=R*_,h+=R*x,L=M;for(let e=0;e<E;e++)L.r=w,L.g=S,L.b=_,L.a=x,L=L.next;let s=r;for(let i=1;i<=t;i++)o=s+e<<2,l+=(L.r=w=n[o])*(C=E-i),u+=(L.g=S=n[o+1])*C,c+=(L.b=_=n[o+2])*C,h+=(L.a=x=n[o+3])*C,m+=w,v+=S,y+=_,b+=x,L=L.next,i<T&&(s+=r);o=e,N=M,z=I;for(let t=0;t<i;t++)a=o<<2,n[a+3]=x=h*D>>A,x>0?(x=255/x,n[a]=(l*D>>A)*x,n[a+1]=(u*D>>A)*x,n[a+2]=(c*D>>A)*x):n[a]=n[a+1]=n[a+2]=0,l-=d,u-=f,c-=p,h-=g,d-=N.r,f-=N.g,p-=N.b,g-=N.a,a=e+((a=t+E)<T?a:T)*r<<2,l+=m+=N.r=n[a],u+=v+=N.g=n[a+1],c+=y+=N.b=n[a+2],h+=b+=N.a=n[a+3],N=N.next,d+=w=z.r,f+=S=z.g,p+=_=z.b,g+=x=z.a,m-=w,v-=S,y-=_,b-=x,z=z.next,o+=r}}(e,t)},Brightness:function(e){const t=this.brightness(),n=e.data,r=n.length;for(let e=0;e<r;e+=4)n[e]=Math.min(255,n[e]*t),n[e+1]=Math.min(255,n[e+1]*t),n[e+2]=Math.min(255,n[e+2]*t)},Brighten:function(e){const t=255*this.brightness(),n=e.data,r=n.length;for(let e=0;e<r;e+=4)n[e]+=t,n[e+1]+=t,n[e+2]+=t},Contrast:function(e){const t=Math.pow((this.contrast()+100)/100,2),n=e.data,r=n.length;let i=150,a=150,o=150;for(let e=0;e<r;e+=4)i=n[e],a=n[e+1],o=n[e+2],i/=255,i-=.5,i*=t,i+=.5,i*=255,a/=255,a-=.5,a*=t,a+=.5,a*=255,o/=255,o-=.5,o*=t,o+=.5,o*=255,i=i<0?0:i>255?255:i,a=a<0?0:a>255?255:a,o=o<0?0:o>255?255:o,n[e]=i,n[e+1]=a,n[e+2]=o},Emboss:function(e){var t,n,r,i,a,o,s,l,u;const c=e.data,h=e.width,d=e.height,f=Math.min(1,Math.max(0,null!==(n=null===(t=this.embossStrength)||void 0===t?void 0:t.call(this))&&void 0!==n?n:.5)),p=Math.min(1,Math.max(0,null!==(i=null===(r=this.embossWhiteLevel)||void 0===r?void 0:r.call(this))&&void 0!==i?i:.5)),g=null!==(s={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[null!==(o=null===(a=this.embossDirection)||void 0===a?void 0:a.call(this))&&void 0!==o?o:"top-left"])&&void 0!==s?s:315,m=!(null===(u=null===(l=this.embossBlend)||void 0===l?void 0:l.call(this))||void 0===u||!u),v=10*f,y=255*p,b=g*Math.PI/180,w=Math.cos(b),S=Math.sin(b),_=128/1020*v,x=new Uint8ClampedArray(c),C=new Float32Array(h*d);for(let e=0,t=0;t<c.length;t+=4,e++)C[e]=.2126*x[t]+.7152*x[t+1]+.0722*x[t+2];const k=[-1,0,1,-2,0,2,-1,0,1],P=[-1,-2,-1,0,0,0,1,2,1],T=[-h-1,-h,1-h,-1,0,1,h-1,h,h+1],E=e=>e<0?0:e>255?255:e;for(let e=1;e<d-1;e++)for(let t=1;t<h-1;t++){const n=e*h+t;let r=0,i=0;r+=C[n+T[0]]*k[0],i+=C[n+T[0]]*P[0],r+=C[n+T[1]]*k[1],i+=C[n+T[1]]*P[1],r+=C[n+T[2]]*k[2],i+=C[n+T[2]]*P[2],r+=C[n+T[3]]*k[3],i+=C[n+T[3]]*P[3],r+=C[n+T[5]]*k[5],i+=C[n+T[5]]*P[5],r+=C[n+T[6]]*k[6],i+=C[n+T[6]]*P[6],r+=C[n+T[7]]*k[7],i+=C[n+T[7]]*P[7],r+=C[n+T[8]]*k[8],i+=C[n+T[8]]*P[8];const a=E(y+(w*r+S*i)*_),o=4*n;if(m){const e=a-y;c[o]=E(x[o]+e),c[o+1]=E(x[o+1]+e),c[o+2]=E(x[o+2]+e),c[o+3]=x[o+3]}else c[o]=c[o+1]=c[o+2]=a,c[o+3]=x[o+3]}for(let e=0;e<h;e++){let t=4*e,n=4*((d-1)*h+e);c[t]=x[t],c[t+1]=x[t+1],c[t+2]=x[t+2],c[t+3]=x[t+3],c[n]=x[n],c[n+1]=x[n+1],c[n+2]=x[n+2],c[n+3]=x[n+3]}for(let e=1;e<d-1;e++){let t=e*h*4,n=4*(e*h+(h-1));c[t]=x[t],c[t+1]=x[t+1],c[t+2]=x[t+2],c[t+3]=x[t+3],c[n]=x[n],c[n+1]=x[n+1],c[n+2]=x[n+2],c[n+3]=x[n+3]}return e},Enhance:function(e){const t=e.data,n=t.length;let r,i,a,o=t[0],s=o,l=t[1],u=l,c=t[2],h=c;const d=this.enhance();if(0===d)return;for(let e=0;e<n;e+=4)r=t[e+0],r<o?o=r:r>s&&(s=r),i=t[e+1],i<l?l=i:i>u&&(u=i),a=t[e+2],a<c?c=a:a>h&&(h=a);let f,p,g,m,v,y;if(s===o&&(s=255,o=0),u===l&&(u=255,l=0),h===c&&(h=255,c=0),d>0)f=s+d*(255-s),p=o-d*(o-0),g=u+d*(255-u),m=l-d*(l-0),v=h+d*(255-h),y=c-d*(c-0);else{const e=.5*(s+o);f=s+d*(s-e),p=o+d*(o-e);const t=.5*(u+l);g=u+d*(u-t),m=l+d*(l-t);const n=.5*(h+c);v=h+d*(h-n),y=c+d*(c-n)}for(let e=0;e<n;e+=4)t[e+0]=bn(t[e+0],o,s,p,f),t[e+1]=bn(t[e+1],l,u,m,g),t[e+2]=bn(t[e+2],c,h,y,v)},Grayscale:function(e){const t=e.data,n=t.length;for(let e=0;e<n;e+=4){const n=.34*t[e]+.5*t[e+1]+.16*t[e+2];t[e]=n,t[e+1]=n,t[e+2]=n}},HSL:function(e){const t=e.data,n=t.length,r=Math.pow(2,this.saturation()),i=Math.abs(this.hue()+360)%360,a=127*this.luminance(),o=1*r*Math.cos(i*Math.PI/180),s=1*r*Math.sin(i*Math.PI/180),l=.299+.701*o+.167*s,u=.587-.587*o+.33*s,c=.114-.114*o-.497*s,h=.299-.299*o-.328*s,d=.587+.413*o+.035*s,f=.114-.114*o+.293*s,p=.299-.3*o+1.25*s,g=.587-.586*o-1.05*s,m=.114+.886*o-.2*s;let v,y,b,w;for(let e=0;e<n;e+=4)v=t[e+0],y=t[e+1],b=t[e+2],w=t[e+3],t[e+0]=l*v+u*y+c*b+a,t[e+1]=h*v+d*y+f*b+a,t[e+2]=p*v+g*y+m*b+a,t[e+3]=w},HSV:function(e){const t=e.data,n=t.length,r=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),a=Math.abs(this.hue()+360)%360,o=r*i*Math.cos(a*Math.PI/180),s=r*i*Math.sin(a*Math.PI/180),l=.299*r+.701*o+.167*s,u=.587*r-.587*o+.33*s,c=.114*r-.114*o-.497*s,h=.299*r-.299*o-.328*s,d=.587*r+.413*o+.035*s,f=.114*r-.114*o+.293*s,p=.299*r-.3*o+1.25*s,g=.587*r-.586*o-1.05*s,m=.114*r+.886*o-.2*s;for(let e=0;e<n;e+=4){const n=t[e+0],r=t[e+1],i=t[e+2],a=t[e+3];t[e+0]=l*n+u*r+c*i,t[e+1]=h*n+d*r+f*i,t[e+2]=p*n+g*r+m*i,t[e+3]=a}},Invert:function(e){const t=e.data,n=t.length;for(let e=0;e<n;e+=4)t[e]=255-t[e],t[e+1]=255-t[e+1],t[e+2]=255-t[e+2]},Kaleidoscope:function(e){const t=e.width,n=e.height;let r,i,a,o,s,l,u,c,h,d,f=Math.round(this.kaleidoscopePower());const p=Math.round(this.kaleidoscopeAngle()),g=Math.floor(t*(p%360)/360);if(f<1)return;const m=v.createCanvasElement();m.width=t,m.height=n;const y=m.getContext("2d").getImageData(0,0,t,n);v.releaseCanvas(m),function(e,t,n){const r=e.data,i=t.data,a=e.width,o=e.height,s=n.polarCenterX||a/2,l=n.polarCenterY||o/2;let u=Math.sqrt(s*s+l*l),c=a-s,h=o-l;const d=Math.sqrt(c*c+h*h);u=d>u?d:u;const f=o,p=a,g=360/p*Math.PI/180;for(let e=0;e<p;e+=1){const t=Math.sin(e*g),n=Math.cos(e*g);for(let o=0;o<f;o+=1){c=Math.floor(s+u*o/f*n),h=Math.floor(l+u*o/f*t);let d=4*(h*a+c);const p=r[d+0],g=r[d+1],m=r[d+2],v=r[d+3];d=4*(e+o*a),i[d+0]=p,i[d+1]=g,i[d+2]=m,i[d+3]=v}}}(e,y,{polarCenterX:t/2,polarCenterY:n/2});let b=t/Math.pow(2,f);for(;b<=8;)b*=2,f-=1;b=Math.ceil(b);let w=b,S=0,_=w,x=1;for(g+b>t&&(S=w,_=0,x=-1),i=0;i<n;i+=1)for(r=S;r!==_;r+=x)a=Math.round(r+g)%t,h=4*(t*i+a),s=y.data[h+0],l=y.data[h+1],u=y.data[h+2],c=y.data[h+3],d=4*(t*i+r),y.data[d+0]=s,y.data[d+1]=l,y.data[d+2]=u,y.data[d+3]=c;for(i=0;i<n;i+=1)for(w=Math.floor(b),o=0;o<f;o+=1){for(r=0;r<w+1;r+=1)h=4*(t*i+r),s=y.data[h+0],l=y.data[h+1],u=y.data[h+2],c=y.data[h+3],d=4*(t*i+2*w-r-1),y.data[d+0]=s,y.data[d+1]=l,y.data[d+2]=u,y.data[d+3]=c;w*=2}!function(e,t,n){const r=e.data,i=t.data,a=e.width,o=e.height,s=n.polarCenterX||a/2,l=n.polarCenterY||o/2;let u=Math.sqrt(s*s+l*l),c=a-s,h=o-l;const d=Math.sqrt(c*c+h*h);u=d>u?d:u;const f=o,p=a,g=n.polarRotation||0;let m,v;for(c=0;c<a;c+=1)for(h=0;h<o;h+=1){const e=c-s,t=h-l,n=Math.sqrt(e*e+t*t)*f/u;let o=(180*Math.atan2(t,e)/Math.PI+360+g)%360;o=o*p/360,m=Math.floor(o),v=Math.floor(n);let d=4*(v*a+m);const y=r[d+0],b=r[d+1],w=r[d+2],S=r[d+3];d=4*(h*a+c),i[d+0]=y,i[d+1]=b,i[d+2]=w,i[d+3]=S}}(y,e,{polarRotation:0})},Mask:function(e){let t=function(e,t){const n=wn(e,0,0),r=wn(e,e.width-1,0),i=wn(e,0,e.height-1),a=wn(e,e.width-1,e.height-1),o=t||10;if(Sn(n,r)<o&&Sn(r,a)<o&&Sn(a,i)<o&&Sn(i,n)<o){const t=function(e){const t=[0,0,0];for(let n=0;n<e.length;n++)t[0]+=e[n][0],t[1]+=e[n][1],t[2]+=e[n][2];return t[0]/=e.length,t[1]/=e.length,t[2]/=e.length,t}([r,n,a,i]),s=[];for(let n=0;n<e.width*e.height;n++){const r=Sn(t,[e.data[4*n],e.data[4*n+1],e.data[4*n+2]]);s[n]=r<o?0:255}return s}}(e,this.threshold());return t&&(t=function(e,t,n){const r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),a=Math.floor(i/2),o=[];for(let s=0;s<n;s++)for(let l=0;l<t;l++){const u=s*t+l;let c=0;for(let o=0;o<i;o++)for(let u=0;u<i;u++){const h=s+o-a,d=l+u-a;if(h>=0&&h<n&&d>=0&&d<t){const n=r[o*i+u];c+=e[h*t+d]*n}}o[u]=2040===c?255:0}return o}(t,e.width,e.height),t=function(e,t,n){const r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),a=Math.floor(i/2),o=[];for(let s=0;s<n;s++)for(let l=0;l<t;l++){const u=s*t+l;let c=0;for(let o=0;o<i;o++)for(let u=0;u<i;u++){const h=s+o-a,d=l+u-a;if(h>=0&&h<n&&d>=0&&d<t){const n=r[o*i+u];c+=e[h*t+d]*n}}o[u]=c>=1020?255:0}return o}(t,e.width,e.height),t=function(e,t,n){const r=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],i=Math.round(Math.sqrt(r.length)),a=Math.floor(i/2),o=[];for(let s=0;s<n;s++)for(let l=0;l<t;l++){const u=s*t+l;let c=0;for(let o=0;o<i;o++)for(let u=0;u<i;u++){const h=s+o-a,d=l+u-a;if(h>=0&&h<n&&d>=0&&d<t){const n=r[o*i+u];c+=e[h*t+d]*n}}o[u]=c}return o}(t,e.width,e.height),function(e,t){for(let n=0;n<e.width*e.height;n++)e.data[4*n+3]=t[n]}(e,t)),e},Noise:function(e){const t=255*this.noise(),n=e.data,r=n.length,i=t/2;for(let e=0;e<r;e+=4)n[e+0]+=i-2*i*Math.random(),n[e+1]+=i-2*i*Math.random(),n[e+2]+=i-2*i*Math.random()},Pixelate:function(e){let t=Math.ceil(this.pixelSize()),n=e.width,r=e.height,i=Math.ceil(n/t),a=Math.ceil(r/t),o=e.data;if(t<=0)v.error("pixelSize value can not be <= 0");else for(let e=0;e<i;e+=1)for(let i=0;i<a;i+=1){let a=0,s=0,l=0,u=0;const c=e*t,h=c+t,d=i*t,f=d+t;let p=0;for(let e=c;e<h;e+=1)if(!(e>=n))for(let t=d;t<f;t+=1){if(t>=r)continue;const i=4*(n*t+e);a+=o[i+0],s+=o[i+1],l+=o[i+2],u+=o[i+3],p+=1}a/=p,s/=p,l/=p,u/=p;for(let e=c;e<h;e+=1)if(!(e>=n))for(let t=d;t<f;t+=1){if(t>=r)continue;const i=4*(n*t+e);o[i+0]=a,o[i+1]=s,o[i+2]=l,o[i+3]=u}}},Posterize:function(e){const t=Math.round(254*this.levels())+1,n=e.data,r=n.length,i=255/t;for(let e=0;e<r;e+=1)n[e]=Math.floor(n[e]/i)*i},RGB:function(e){const t=e.data,n=t.length,r=this.red(),i=this.green(),a=this.blue();for(let e=0;e<n;e+=4){const n=(.34*t[e]+.5*t[e+1]+.16*t[e+2])/255;t[e]=n*r,t[e+1]=n*i,t[e+2]=n*a,t[e+3]=t[e+3]}},RGBA:function(e){const t=e.data,n=t.length,r=this.red(),i=this.green(),a=this.blue(),o=this.alpha();for(let e=0;e<n;e+=4){const n=1-o;t[e]=r*o+t[e]*n,t[e+1]=i*o+t[e+1]*n,t[e+2]=a*o+t[e+2]*n}},Sepia:function(e){const t=e.data,n=t.length;for(let e=0;e<n;e+=4){const n=t[e+0],r=t[e+1],i=t[e+2];t[e+0]=Math.min(255,.393*n+.769*r+.189*i),t[e+1]=Math.min(255,.349*n+.686*r+.168*i),t[e+2]=Math.min(255,.272*n+.534*r+.131*i)}},Solarize:function(e){const t=e.data;for(let e=0;e<t.length;e+=4){const n=t[e],r=t[e+1],i=t[e+2];.2126*n+.7152*r+.0722*i>=128&&(t[e]=255-n,t[e+1]=255-r,t[e+2]=255-i)}return e},Threshold:function(e){const t=255*this.threshold(),n=e.data,r=n.length;for(let e=0;e<r;e+=1)n[e]=n[e]<t?0:255}}});var _n=n(6540),xn=n.n(_n);const Cn=lt;var kn=n(4845),Pn=n.n(kn),Tn=n(772);const En={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let Rn=!1,Mn=!1;const Dn=".react-konva-event";let An=!1;const In="ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.\nPosition of a node will be changed during drag&drop, so you should update state of the react app as well.\nConsider to add onDragMove or onDragEnd events.\nFor more info see: https://github.com/konvajs/react-konva/issues/256\n",Ln='ReactKonva: You are using "zIndex" attribute for a Konva node.\nreact-konva may get confused with ordering. Just define correct order of elements in your render function of a component.\nFor more info see: https://github.com/konvajs/react-konva/issues/194\n',Nn={};function zn(e,t,n=Nn){if(!Rn&&"zIndex"in t&&(console.warn(Ln),Rn=!0),!Mn&&t.draggable){var r=void 0!==t.x||void 0!==t.y,i=t.onDragEnd||t.onDragMove;r&&!i&&(console.warn(In),Mn=!0)}for(var a in n)if(!En[a]){var o="on"===a.slice(0,2),s=n[a]!==t[a];o&&s&&("content"===(f=a.substr(2).toLowerCase()).substr(0,7)&&(f="content"+f.substr(7,1).toUpperCase()+f.substr(8)),e.off(f,n[a])),!t.hasOwnProperty(a)&&e.setAttr(a,void 0)}var l=An||t._useStrictMode,u={},c=!1;const h={};for(var a in t)if(!En[a]){o="on"===a.slice(0,2);var d=n[a]!==t[a];o&&d&&("content"===(f=a.substr(2).toLowerCase()).substr(0,7)&&(f="content"+f.substr(7,1).toUpperCase()+f.substr(8)),t[a]&&(h[f]=t[a])),!o&&(t[a]!==n[a]||l&&t[a]!==e.getAttr(a))&&(c=!0,u[a]=t[a])}for(var f in c&&(e.setAttrs(u),Fn(e)),h)e.on(f+Dn,h[f])}function Fn(e){if(!o.autoDrawEnabled){var t=e.getLayer()||e.getStage();t&&t.batchDraw()}}var On=n(9982);const Gn={},Bn={};function Un(e,t){"string"!=typeof t?(e.add(t),Fn(e)):console.error(`Do not use plain text as child of Konva.Node. You are using text: ${t}`)}function Wn(e,t,n){let r=Cn[e];r||(console.error(`Konva has no node with the type ${e}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${e}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),r=Cn.Group);const i={},a={};for(var o in t)"on"===o.slice(0,2)?a[o]=t[o]:i[o]=t[o];const s=new r(i);return zn(s,a),s}function Hn(e,t,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${e}"`)}function jn(e,t,n){return!1}function Yn(e){return e}function qn(){return null}function Vn(){return null}function Xn(e,t,n,r){return Bn}function Qn(){}function $n(e){}function Kn(e,t){return!1}function Jn(){return Gn}function Zn(){return Gn}Cn.Node.prototype._applyProps=zn;const er=setTimeout,tr=clearTimeout,nr=-1;function rr(e,t){return!1}const ir=!1,ar=!0,or=!0;function sr(e,t){t.parent===e?t.moveToTop():e.add(t),Fn(e)}function lr(e,t){t.parent===e?t.moveToTop():e.add(t),Fn(e)}function ur(e,t,n){t._remove(),e.add(t),t.setZIndex(n.getZIndex()),Fn(e)}function cr(e,t,n){ur(e,t,n)}function hr(e,t){t.destroy(),t.off(Dn),Fn(e)}function dr(e,t){t.destroy(),t.off(Dn),Fn(e)}function fr(e,t,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function pr(e,t,n){}function gr(e,t,n,r,i){zn(e,i,r)}function mr(e){e.hide(),Fn(e)}function vr(e){}function yr(e,t){(null==t.visible||t.visible)&&e.show()}function br(e,t){}function wr(e){}function Sr(){}const _r=()=>Tn.DefaultEventPriority;var xr,Cr,kr=Object.defineProperty,Pr=Object.defineProperties,Tr=Object.getOwnPropertyDescriptors,Er=Object.getOwnPropertySymbols,Rr=Object.prototype.hasOwnProperty,Mr=Object.prototype.propertyIsEnumerable,Dr=(e,t,n)=>t in e?kr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ar=(e,t)=>{for(var n in t||(t={}))Rr.call(t,n)&&Dr(e,n,t[n]);if(Er)for(var n of Er(t))Mr.call(t,n)&&Dr(e,n,t[n]);return e};function Ir(e,t,n){if(!e)return;if(!0===n(e))return e;let r=t?e.return:e.child;for(;r;){const e=Ir(r,t,n);if(e)return e;r=t?null:r.sibling}}function Lr(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}"undefined"==typeof window||!(null==(xr=window.document)?void 0:xr.createElement)&&"ReactNative"!==(null==(Cr=window.navigator)?void 0:Cr.product)?_n.useEffect:_n.useLayoutEffect;const Nr=console.error;console.error=function(){const e=[...arguments].join("");if(!(null==e?void 0:e.startsWith("Warning:"))||!e.includes("useContext"))return Nr.apply(this,arguments);console.error=Nr};const zr=Lr(_n.createContext(null));class Fr extends _n.Component{render(){return _n.createElement(zr.Provider,{value:this._reactInternals},this.props.children)}}function Or(){const e=function(){const e=function(){const e=_n.useContext(zr);if(null===e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=_n.useId();return _n.useMemo(()=>{for(const n of[e,null==e?void 0:e.alternate]){if(!n)continue;const e=Ir(n,!1,e=>{let n=e.memoizedState;for(;n;){if(n.memoizedState===t)return!0;n=n.next}});if(e)return e}},[e,t])}(),[t]=_n.useState(()=>new Map);t.clear();let n=e;for(;n;){if(n.type&&"object"==typeof n.type){const e=void 0===n.type._context&&n.type.Provider===n.type?n.type:n.type._context;e&&e!==zr&&!t.has(e)&&t.set(e,_n.useContext(Lr(e)))}n=n.return}return t}();return _n.useMemo(()=>Array.from(e.keys()).reduce((t,n)=>r=>{return _n.createElement(t,null,_n.createElement(n.Provider,(i=Ar({},r),a={value:e.get(n)},Pr(i,Tr(a)))));var i,a},e=>_n.createElement(Fr,Ar({},e))),[e])}const Gr=e=>{const t=xn().useRef(null),n=xn().useRef(null),r=xn().useRef(null),i=function(e){const t=xn().useRef({});return xn().useLayoutEffect(()=>{t.current=e}),xn().useLayoutEffect(()=>()=>{t.current={}},[]),t.current}(e),a=Or(),o=t=>{const{forwardedRef:n}=e;n&&("function"==typeof n?n(t):n.current=t)};return xn().useLayoutEffect(()=>(n.current=new Cn.Stage({width:e.width,height:e.height,container:t.current}),o(n.current),r.current=jr.createContainer(n.current,Tn.LegacyRoot,!1,null),jr.updateContainer(xn().createElement(a,{},e.children),r.current),()=>{Cn.isBrowser&&(o(null),jr.updateContainer(null,r.current,null),n.current.destroy())}),[]),xn().useLayoutEffect(()=>{o(n.current),zn(n.current,e,i),jr.updateContainer(xn().createElement(a,{},e.children),r.current,null)}),xn().createElement("div",{ref:t,id:e.id,accessKey:e.accessKey,className:e.className,role:e.role,style:e.style,tabIndex:e.tabIndex,title:e.title})},Br="Layer",Ur="Rect",Wr="Line",Hr="Image",jr=Pn()(r);jr.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:1,version:xn().version,rendererPackageName:"react-konva"});const Yr=xn().forwardRef((e,t)=>xn().createElement(Fr,{},xn().createElement(Gr,{...e,forwardedRef:t})))},5504:(e,t,n)=>{n.d(t,{I1r:()=>i});var r=n(4084);function i(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7 7h10v2H7zm0 4h7v2H7z"}},{tag:"path",attr:{d:"M20 2H4c-1.103 0-2 .897-2 2v18l5.333-4H20c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2zm0 14H6.667L4 18V4h16v12z"}}]})(e)}},5741:(e,t)=>{t.DefaultEventPriority=16,t.LegacyRoot=0}}]);